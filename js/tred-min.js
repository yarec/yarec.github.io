var trace=false;var jit=false;var sIn=false;var sPL=false;var sRes=false;function objectToString(o){var parse=function(_o){var a=[],t;for(var p in _o){if(_o.hasOwnProperty(p)){t=_o[p];if(t&&typeof t=="object"){a[a.length]=p+":{ "+arguments.callee(t).join(", ")+"}"}else{if(typeof t=="string"){a[a.length]=[p+': "'+t.toString()+'"']}else{a[a.length]=[p+": "+t.toString()]}}}}return a};return"{"+parse(o).join(", ")+"}"}function m(t,d){window.location="mailto:"+t+"@"+d}function R(s){s="var e=T;"+s;s=eval(s);printLog("*> "+Str(s));showRes(s)}function clone(x){var i,r=new x.constructor;for(i in x){if(x[i]!=x.constructor.prototype[i])r[i]=x[i]}return r}function clickEval(){var txt=document.getElementById("txt").value,o,res=null,time0=new Date;TopParser=new Parser(txt);while((o=TopParser.getObject())!=null){if(document.getElementById("echoInp").checked)printLog(o.Str());o=doEval(o);if(document.getElementById("echoRes").checked)printLog("=> "+Str(o));if(o!=null)res=o}var time1=new Date;document.getElementById("time").innerHTML="Elapsed: "+(time1-time0)/1e3+" s";showRes(res);showSymbols()}function showRes(res){if(res!=null){console.log(res.Str())}}function printLog(s,no){var l=no?"":"\n";if(typeof gt!=="undefined"){gt.echo(s+l)}else if(process!=undefined){process.stdout.write(s+l)}else{console.log(s)}}function jsAlert(text){alert(text)}function jsSetTimeout(f,t){setTimeout(f,t)}var buf1="";function key1(srcElement){buf1=srcElement.value}function key2(srcElement){var buf2=srcElement.value;var re=/(\n|\r\n){2}$/;if(!re.test(buf1)&&re.test(buf2)){clickEval();buf1=buf2}}function hv(o){var tr=o.parentElement,tbody=tr.parentElement;var isH=tbody.rows.length==1&&tr.cells.length>3;var isV=tbody.rows.length>1&&tr.cells.length==3;var isT=tbody.rows.length>1&&tr.cells.length==4;if(isH){tr.cells[0].rowSpan=tr.cells.length-2;tr.cells[tr.cells.length-1].rowSpan=tr.cells.length-2;while(tr.cells.length>3){var cell=tr.cells[2];tr.removeChild(cell);tbody.insertRow().appendChild(cell)}}else if(isV){while(tbody.rows.length>1){var cell=tbody.rows[1].cells[0];tr.insertBefore(cell,tr.cells[tr.cells.length-1]);tbody.deleteRow(1)}}}function objType(o){if(isNil(o))return"null";if(o instanceof L)return"lambda";if(o instanceof P)return"list";if(o instanceof Char)return"char";if(o instanceof Array)return"vector";if(o instanceof Symbol)return"symbol";if(o instanceof Continuation)return"continuation";if(o instanceof Syntax)return"syntax";return typeof o}function showSymbol(s){var s=ShowEnv[s];if(s instanceof L){s=new P(a("lambda"),new P(s.args,new P(s.body))).Html()}else if(!(s instanceof Function))s=Html(s);document.getElementById("out").innerHTML=s}function showSymbols(){for(i in ShowEnv){if(i!="PE"&&Env.prototype[i]==undefined){console.log(s);console.log(objType(ShowEnv[i]))}}}function P(car,cdr){this.car=car;this.cdr=cdr}function isNil(x){return x==N||x==null||x instanceof P&&x.car==null&&x.cdr==null}function Nil(){}var N=new Nil;Nil.prototype.Str=function(){return"()"};Nil.prototype.Html=dumbHtml;Nil.prototype.ListCopy=function(){return this};function Char(c){Chars[this.value=c]=this}function Symbol(s){Symbols[this.name=s]=this}var Symbols=new Object;var Chars=new Object;function a(name,leaveCase){if(!leaveCase)name=name.toLowerCase();if(Symbols[name]!=undefined){return Symbols[name]}return new Symbol(name)}function getChar(c){if(Chars[c]!=undefined){return Chars[c]}return new Char(c)}function tokenize(txt){var tokens=new Array,oldTxt=null;while(txt!=""&&oldTxt!=txt){oldTxt=txt;txt=txt.replace(/^\s*(;[^\r\n]*(\r|\n|$)|#\\[^\w]|#?(\(|\[|{)|\)|\]|}|\'|`|,@|,|\"(\\(.|$)|[^\"\\])*(\"|$)|[^\s()\[\]{}]+)/,function($0,$1){if($1.charAt(0)!=";")tokens[tokens.length]=$1;return""})}return tokens}function Parser(txt){this.tokens=tokenize(txt);this.i=0}Parser.prototype.getList=function(close){var list=N,prev=list;while(this.i<this.tokens.length){if(this.tokens[this.i]==")"||this.tokens[this.i]=="]"||this.tokens[this.i]=="}"){this.i++;break}if(this.tokens[this.i]=="."){this.i++;var o=this.getObject();if(o!=null&&list!=N){prev.cdr=o}}else{var cur=new P(this.getObject(),N);if(list==N)list=cur;else prev.cdr=cur;prev=cur}}return list};Parser.prototype.getVector=function(close){var arr=new Array;while(this.i<this.tokens.length){if(this.tokens[this.i]==")"||this.tokens[this.i]=="]"||this.tokens[this.i]=="}"){this.i++;break}arr[arr.length]=this.getObject()}return arr};Parser.prototype.getObject=function(){if(this.i>=this.tokens.length)return null;var t=this.tokens[this.i++];var s=t=="'"?"quote":t=="`"?"quasiquote":t==","?"unquote":t==",@"?"unquote-splicing":false;if(s||t=="("||t=="#("||t=="["||t=="#["||t=="{"||t=="#{"){return s?new P(a(s),new P(this.getObject(),N)):t=="("||t=="["||t=="{"?this.getList(t):this.getVector(t)}else{var n;if(/^#x[0-9a-z]+$/i.test(t)){n=new Number("0x"+t.substring(2,t.length))}else if(/^#d[0-9\.]+$/i.test(t)){n=new Number(t.substring(2,t.length))}else n=new Number(t);if(!isNaN(n)){return n.valueOf()}else if(t=="#f"||t=="#F"){return false}else if(t=="#t"||t=="#T"){return true}else if(t.toLowerCase()=="#\\newline"){return getChar("\n")}else if(t.toLowerCase()=="#\\space"){return getChar(" ")}else if(/^#\\.$/.test(t)){return getChar(t.charAt(2))}else if(/^\"(\\(.|$)|[^\"\\])*\"?$/.test(t)){return t.replace(/^\"|\\(.|$)|\"$/g,function($0,$1){return $1?$1:""})}else return a(t)}};Boolean.prototype.Str=function(){return this.valueOf()?"#t":"#f"};Char.prototype.Str=function(){if(this.value==" ")return"#\\space";if(this.value=="\n")return"#\\newline";return"#\\"+this.value};Number.prototype.Str=function(){return this.toString()};P.prototype.Str=function(){var s="";for(var o=this;o!=null&&o instanceof P&&(o.car!=null||o.cdr!=null);o=o.cdr){if(o.car!=null){if(s)s+=" ";s+=Str(o.car)}}if(o!=N&&o!=null&&!(o instanceof P))s+=" . "+Str(o);return"("+s+")"};String.prototype.Str=function(){return'"'+this.replace(/\\|\"/g,function($0){return"\\"+$0})+'"'};Symbol.prototype.Str=function(){return this.name};Function.prototype.Str=function(){return"#primitive"+(trace?"<"+this+">":"")};function Str(obj){if(obj==null)return"#null";if(obj.Str)return obj.Str();var c=obj.constructor,r;if(c){if(r=/^\s*function\s+(\w+)\(/.exec(c))c=r[1];return"#obj<"+c+">"}return"#<"+obj+">"}function Html(obj){if(obj==null)return"#null";if(obj.Html)return obj.Html();return escapeHTML("#obj<"+obj+">")}Array.prototype.Str=function(){var s="",i;for(i=0;i<this.length;i++){if(s!="")s+=" ";s+=Str(this[i])}return"#("+s+")"};Continuation.prototype.Str=function(){return"#continuation"};function escapeHTML(s){return s.replace(/(&)|(<)|(>)/g,function($0,$1,$2,$3){return $1?"&amp;":$2?"&lt;":"&gt;"})}function dumbHtml(){return escapeHTML(this.Str())}function pairHtml(){var s1="",s2="",i,cells=new Array,allSimple=true,firstSymbol=false;for(var o=this;o instanceof P&&!isNil(o);o=o.cdr){if(o.car!=null){if(cells.length==0)firstSymbol=o.car instanceof Symbol&&o.car!=theBegin;allSimple=allSimple&&!(o.car instanceof P)&&!(o.car instanceof Array);cells[cells.length]=Html(o.car)}}if(o!=N&&o!=null&&!(o instanceof P)){cells[cells.length]=".";allSimple=allSimple&&!(o instanceof Array);cells[cells.length]=Html(o);if(firstSymbol&&cells.length==3)allSimple=true}var rowSpan=allSimple?1:firstSymbol?cells.length-1:cells.length;rowSpan=rowSpan>1?" rowSpan="+rowSpan:"";var edit="";for(i=0;i<cells.length;i++){if(allSimple||i<1||i<2&&firstSymbol){s1+="<td"+(cells[i]=="."?"":edit)+(i==0&&firstSymbol?" valign=top"+rowSpan:"")+">"+cells[i]+"</td>"}else{s2+="<tr><td"+(cells[i]=="."?"":edit)+">"+cells[i]+"</td></tr>"}}return"<table border=0 cellspacing=1 cellpadding=4>"+"<tr><td valign=top"+rowSpan+">(</td>"+s1+"<td valign=bottom"+rowSpan+">)</td></tr>"+s2+"</table>"}Boolean.prototype.Html=dumbHtml;Char.prototype.Html=dumbHtml;Number.prototype.Html=dumbHtml;P.prototype.Html=pairHtml;String.prototype.Html=dumbHtml;Symbol.prototype.Html=dumbHtml;Function.prototype.Html=dumbHtml;Array.prototype.Html=dumbHtml;Continuation.prototype.Html=dumbHtml;function Env(parent){this.PE=parent}Env.prototype.get=function(name){var v=this[name];if(v!=undefined)return v;for(var o=this.PE;o;o=o.PE){v=o[name];if(v!=undefined)return v}throw new Ex("unbound symbol "+name)};Env.prototype.set=function(name,value){for(var o=this;o;o=o.PE)if(o[name]!=undefined)return o[name]=value;throw new Ex("cannot set! unbound symbol "+name)};Env.prototype.Str=function(){var s="",i;for(i in this){if(!Env.prototype[i]&&this[i]!=T){if(s!="")s+=",";var v=this[i];s+=i+"="+(v instanceof L?"#lambda":typeof v=="function"?"#js":v?v.Str():v)}}return"["+s+"]"};Env.prototype.With=function(a,v){this[a]=v;this.Private=true;return this};var T=new Env;function L(args,body,env,cd){this.args=args;this.body=body;this.env=env;this.cd=cd}L.prototype.clone=function(e){if(this.env.Private){e=new Env(e);var i;for(i in this.env)if(e[i]==undefined)e[i]=this.env[i]}return new L(this.args,this.body,e,this.cd)};L.prototype.Html=dumbHtml;L.prototype.Str=function(){return"#lambda"+(trace?"<"+this.args.Str()+","+this.body.Str()+">":"")};function State(obj,env,cc){this.obj=obj;this.env=env;this.cc=cc}function stateEval(noTrace){if(this.obj==null)this.ready=true;if(!this.ready){if(trace&&!noTrace)printLog("eval: "+this.obj.Str());this.ready=false;this.obj.Eval(this)}return this.ready}function stateContinue(){this.cc.cont(this)}State.prototype.Eval=stateEval;State.prototype.cont=stateContinue;function Ex(s){this.s=s}Ex.prototype.Str=function(){return"#error<"+this.s+">"};Ex.prototype.Html=dumbHtml;a("(").Eval=a(")").Eval=function(){throw new Ex("unbalanced bracket "+this.name)};var topCC=new Continuation(null,null,null,function(state){throw state});function doEval(obj,noTrans){try{if(obj instanceof Symbol&&obj.Eval==Symbol.prototype.Eval)return T.get(obj.name);if(!noTrans){try{var xformer=T.get("transform");if(xformer instanceof L||xformer instanceof Function){var o=doEval(new P(xformer,new P(new P(theQuote,new P(obj,N)),N)),true);if(trace)printLog("transformed: "+Str(o));if(!(o instanceof Ex))obj=o}}catch(ex){}}var state=new State(obj,T,topCC);while(true){if(state.Eval(noTrans)){state.ready=false;state.cont()}}}catch(e){if(e instanceof Ex)return e;else if(e instanceof State)return e.obj;else return new Ex(e.description)}}function evalTrue(state){state.ready=true}function evalVar(state){state.obj=state.env.get(this.name);state.ready=true}function Continuation(obj,env,cc,f){this.i=0;this.obj=obj;this.env=env;this.cc=cc;this.cont=f}Continuation.prototype.clone=function(){var r=clone(this);if(this.cc)r.cc=this.cc.clone();return r};function continueP(state){this[this.i++]=state.obj;if(isNil(this.obj)){var args=N,prev=args;for(var i=1;i<this.i;i++){var cur=new P(this[i],N);if(args==N)args=cur;else prev.cdr=cur;prev=cur}state.env=this.env;state.cc=this.cc;state.obj=callF(this[0],args,state)}else{state.obj=this.obj.car;state.env=this.env;state.cc=this;this.obj=this.obj.cdr;state.ready=false}}P.prototype.ListCopy=function(){var o,p,r=new P(this.car);for(o=this.cdr,p=r;o instanceof P;p=p.cdr=new P(o.car),o=o.cdr);p.cdr=o;return r};function callF(f,args,state){Again:while(true){if(typeof f=="function"){state.ready=true;return f(args,state)}else if(f instanceof L){if(f.cd!=false&&jit){try{state.ready=true;return A(f,args.ListCopy())}catch(e){if(e instanceof State){args=e.obj;f=e.cc;continue Again}if(e!=theCannot)printLog(e instanceof Error?e.description:Str(e))}}state.env=new Env(f.env);for(var vars=f.args,vals=args;vars instanceof P&&!isNil(vars);vars=vars.cdr,vals=vals.cdr){if(vars.car instanceof Symbol){state.env[vars.car.name]=vals.car}else throw new Ex("lambda arg is not symbol")}if(vars instanceof Symbol){state.env[vars.name]=vals}else if(!isNil(vars))throw new Ex("lambda args are not symbols");state.ready=false;return f.body}else if(f instanceof Continuation){state.ready=true;state.cc=f.clone();if(state.cc.cont==continueP){while(!isNil(args.cdr)){state.cc[state.cc.i++]=args.car;args=args.cdr}}return args.car}else{throw new Ex("call to non-function "+(f&&f.Str?f.Str():f)+(trace?" with "+args.Str():""))}}}function continueDefine(state){state.env=this.env;state.cc=this.cc;if(this.define){state.env[this.obj.name]=state.obj}else{state.env.set(this.obj.name,state.obj)}state.ready=true}function continueBegin(state){state.obj=this.obj.car;state.env=this.env;state.ready=false;if(isNil(this.obj.cdr)){state.cc=this.cc}else{this.obj=this.obj.cdr;state.cc=this}}function continueIf(state){state.obj=state.obj?this.obj.car:this.obj.cdr.car;state.env=this.env;state.cc=this.cc;state.ready=false}function continueSyntax(state){state.env=this.env;state.cc=this.cc;state.ready=false;if(trace)printLog("rewrite: "+state.obj.Str())}function evalP(state){if(isNil(this))throw new Ex("Scheme is not Lisp, cannot eval ()");var f=this.car instanceof Symbol?state.env.get(this.car.name):null;if(f==theL||f==theDefine&&this.cdr.car instanceof P){var args,body;if(f==theL){args=this.cdr.car;body=this.cdr.cdr}else{args=this.cdr.car.cdr;body=this.cdr.cdr}state.obj=new L(args,isNil(body.cdr)?body.car:new P(a("begin"),body),state.env);if(f==theDefine){state.env[this.cdr.car.car.name]=state.obj}state.ready=true}else if(f==theDefine||f==theSet){state.obj=this.cdr.cdr.car;state.cc=new Continuation(this.cdr.car,state.env,state.cc,continueDefine);state.cc.define=f==theDefine;state.ready=false}else if(f==theBegin){state.obj=this.cdr.car;if(!isNil(this.cdr.cdr)){state.cc=new Continuation(this.cdr.cdr,state.env,state.cc,continueBegin)}state.ready=false}else if(f==theQuote){state.obj=this.cdr.car;state.ready=true}else if(f==theIf){state.obj=this.cdr.car;state.cc=new Continuation(this.cdr.cdr,state.env,state.cc,continueIf);state.ready=false}else if(f==theDefineSyntax){state.env[(state.obj=this.cdr.car).name]=new Syntax(state.env.get(this.cdr.cdr.car.car.name),this.cdr.cdr.car.cdr);state.ready=true}else if(f instanceof Syntax){state.cc=new Continuation(null,state.env,state.cc,continueSyntax);state.obj=callF(f.transformer,new P(state.obj,f.args),state)}else{state.obj=this.car;state.cc=new Continuation(this.cdr,state.env,state.cc,continueP);state.ready=false}}Nil.prototype.Eval=evalTrue;Boolean.prototype.Eval=evalTrue;Char.prototype.Eval=evalTrue;Number.prototype.Eval=evalTrue;P.prototype.Eval=evalP;String.prototype.Eval=evalTrue;Symbol.prototype.Eval=evalVar;L.prototype.Eval=evalTrue;Array.prototype.Eval=evalTrue;Continuation.prototype.Eval=evalTrue;Ex.prototype.Eval=evalTrue;Function.prototype.Eval=evalTrue;function Syntax(transformer,args){this.transformer=transformer;this.args=args}Syntax.prototype.Eval=evalTrue;Syntax.prototype.Html=dumbHtml;Syntax.prototype.Str=function(){return"#syntax"};T["begin"]=theBegin=a("begin");T["quote"]=theQuote=a("quote");T["if"]=theIf=a("if");T["define"]=theDefine=a("define");T["set!"]=theSet=a("set!");T["lambda"]=theL=a("lambda");T["define-syntax"]=theDefineSyntax=a("define-syntax");T["unquote"]=a("unquote");T["unquote-splicing"]=a("unquote-splicing");T["+"]=function(list){var result=0;while(list instanceof P){if(typeof list.car=="number")result+=list.car;list=list.cdr}return result};T["*"]=function(list){var result=1;while(!isNil(list)){result*=list.car.valueOf();list=list.cdr}return result};T["-"]=function(list){var result=0,count=0;while(!isNil(list)){var o=list.car.valueOf();result+=count++>0?-o:o;list=list.cdr}return count>1?result:-result};T["/"]=function(list){var result=1,count=0;while(!isNil(list)){var o=list.car.valueOf();result*=count++>0?1/o:o;list=list.cdr}return count>1?result:1/result};T["string-append"]=function(list){var result="";while(!isNil(list)){result+=list.car;list=list.cdr}return result};T["string"]=function(list){var result="";while(!isNil(list)){result+=list.car.value;list=list.cdr}return result};T["vector"]=function(list){var result=new Array;while(!isNil(list)){result[result.length]=list.car;list=list.cdr}return result};T["string->list"]=function(list){var i,result=N;for(i=list.car.length-1;i>=0;--i){result=new P(getChar(list.car.charAt(i)),result)}return result};T["car"]=function(list){return list.car.car};T["cdr"]=function(list){return list.car.cdr};T["cons"]=function(list){return new P(list.car,list.cdr.car)};T["eval"]=function(list){return doEval(list.car)};T["string->symbol"]=function(list){return a(list.car,true)};T["symbol->string"]=function(list){return list.car.name};T["encode"]=function(list){return encodeURIComponent(list.car)};function truncate(x){return x>0?Math.floor(x):Math.ceil(x)}T["ceiling"]=function(list){return Math.ceil(list.car)};T["floor"]=function(list){return Math.floor(list.car)};T["truncate"]=function(list){return truncate(list.car)};T["sqrt"]=function(list){return Math.sqrt(list.car)};T["exp"]=function(list){return Math.exp(list.car)};T["expt"]=function(list){return Math.pow(list.car,list.cdr.car)};T["log"]=function(list){return Math.log(list.car)};T["sin"]=function(list){return Math.sin(list.car)};T["cos"]=function(list){return Math.cos(list.car)};T["asin"]=function(list){return Math.asin(list.car)};T["acos"]=function(list){return Math.acos(list.car)};T["tan"]=function(list){return Math.tan(list.car)};T["atan"]=function(list){return isNil(list.cdr)?Math.atan(list.car):Math.atan2(list.car,list.cdr.car)};T["integer?"]=function(list){return list.car==Math.round(list.car)};T["quotient"]=function(list){return truncate(list.car/list.cdr.car)};T["remainder"]=function(list){return list.car%list.cdr.car};T["modulo"]=function(list){var v=list.car%list.cdr.car;if(v&&list.car<0!=list.cdr.car<0)v+=list.cdr.car;return v};T["round"]=function(list){return Math.round(list.car)};T["apply"]=function(list,state){var f=list.car,cur;for(cur=list;!isNil(cur.cdr.cdr);cur=cur.cdr);cur.cdr=cur.cdr.car;return callF(list.car,list.cdr,state)};T["clone"]=function(list,state){return list.car.clone(state.env)};function isEq(a,b){return a==b||isNil(a)&&isNil(b)}T["string=?"]=T["char=?"]=T["eqv?"]=T["="]=T["eq?"]=function(list){return isEq(list.car,list.cdr.car)};T["substring"]=function(list){return list.car.substring(list.cdr.car,list.cdr.cdr.car)};T["string>?"]=T[">"]=function(list){return list.car>list.cdr.car};T["string<?"]=T["<"]=function(list){return list.car<list.cdr.car};T["string>=?"]=T[">="]=function(list){return list.car>=list.cdr.car};T["string<=?"]=T["<="]=function(list){return list.car<=list.cdr.car};T["char>?"]=function(list){return list.car.value>list.cdr.car.value};T["char<?"]=function(list){return list.car.value<list.cdr.car.value};T["char>=?"]=function(list){return list.car.value>=list.cdr.car.value};T["char<=?"]=function(list){return list.car.value<=list.cdr.car.value};T["char-downcase"]=function(list){return getChar(list.car.value.toLowerCase())};T["char-upcase"]=function(list){return getChar(list.car.value.toUpperCase())};T["string-downcase"]=function(list){return list.car.toLowerCase()};T["string-upcase"]=function(list){return list.car.toUpperCase()};T["char->integer"]=function(list){return list.car.value.charCodeAt(0)};T["integer->char"]=function(list){return getChar(String.fromCharCode(list.car))};T["make-string"]=function(list){var s="",i;for(i=0;i<list.car;i++){s+=list.cdr.car.value}return s};T["rnd"]=function(list){return Math.random()};T["string->number"]=function(list){return list.cdr.car?parseInt(list.car,list.cdr.car):parseFloat(list.car)};T["number->string"]=function(list){return list.cdr.car?list.car.toString(list.cdr.car):""+list.car};T["set-car!"]=function(list){list.car.car=list.cdr.car;return list.car};T["set-cdr!"]=function(list){list.car.cdr=list.cdr.car;return list.car};T["vector-length"]=T["string-length"]=function(list){return list.car.length};T["string-ref"]=function(list){return getChar(list.car.charAt(list.cdr.car))};T["get-prop"]=T["vector-ref"]=function(list){return list.car[list.cdr.car]};T["set-prop!"]=T["vector-set!"]=function(list){list.car[list.cdr.car]=list.cdr.cdr.car};T["make-vector"]=function(list){var v=new Array,i;for(i=0;i<list.car;i++)v[i]=list.cdr.car;return v};T["str"]=function(list){return Str(list.car)};T["html"]=function(list){return Html(list.car)};T["alert"]=function(list){alert(list.car)};T["ajax-get"]=function(list){$.get(list.car,function(xml){doEval(new P(list.cdr.car,new P(new P(theQuote,new P(xml,N)),N)),true)})};T["set-timeout!"]=function(list){setTimeout(function(){doEval(new P(list.car,N),true)},list.cdr.car)};T["set-handler!"]=function(list){list.car[list.cdr.car]=function(){doEval(new P(list.cdr.cdr.car,new P(new P(theQuote,new P(this,N)),N)),true)}};T["list-props"]=function(list){var r=N,i;for(i in list.car)r=new P(i,r);return r};T["parse"]=function(list){var r=N,c=r,p=new Parser(list.car),o;while((o=p.getObject())!=null){o=new P(o,N);if(r==N)r=o;else c.cdr=o;c=o}return r};T["type-of"]=function(list){return objType(list.car)};T["js-call"]=function(list){if(isNil(list.cdr)){return list.car()}else if(isNil(list.cdr.cdr)){return list.car(list.cdr.car)}else if(isNil(list.cdr.cdr.cdr)){return list.car(list.cdr.car,list.cdr.cdr.car)}else{return list.car(list.cdr.car,list.cdr.cdr.car,list.cdr.cdr.cdr.car)}};T["js-invoke"]=function(list){if(isNil(list.cdr.cdr)){return list.car[list.cdr.car]()}else if(isNil(list.cdr.cdr.cdr)){return list.car[list.cdr.car](list.cdr.cdr.car)}else if(isNil(list.cdr.cdr.cdr.cdr)){return list.car[list.cdr.car](list.cdr.cdr.car,list.cdr.cdr.cdr.car)}else{return list.car[list.cdr.car](list.cdr.cdr.car,list.cdr.cdr.cdr.car,list.cdr.cdr.cdr.cdr.car)}};function isP(x){return x instanceof P&&!isNil(x)}T["pair?"]=function(list){return isP(list.car)};T["boolean?"]=function(list){return typeof list.car=="boolean"};T["string?"]=function(list){return typeof list.car=="string"};T["number?"]=function(list){return typeof list.car=="number"};T["null?"]=function(list){return isNil(list.car)};T["symbol?"]=function(list){return list.car instanceof Symbol};T["syntax?"]=function(list){return list.car instanceof Syntax};T["char?"]=function(list){return list.car instanceof Char};T["vector?"]=function(list){return list.car instanceof Array};T["procedure?"]=function(list){return list.car instanceof Function||list.car instanceof L||list.car instanceof Continuation};T["lambda?"]=function(list){return list.car instanceof L};T["function?"]=function(list){return list.car instanceof Function};T["continuation?"]=function(list){return list.car instanceof Continuation};T["js-eval"]=function(list){if(typeof vm!=="undefined"){return vm.runInThisContext(list.car)}else{return eval(list.car)}};T["error"]=function(list){throw new Ex(list.car)};T["trace"]=function(list){trace=list.car.valueOf()};T["read"]=function(list){return TopParser.getObject()};T["get-file"]=function(list){if(list.car.indexOf("http://")==0){return $.ajax({url:list.car,async:false}).responseText}else{return fs.readFileSync(list.car,"utf-8")}};T["write"]=function(list){printLog(list.car.Str(),true)};T["newline"]=function(list){printLog("")};T["write-char"]=T["display"]=function(list){printLog(list.car instanceof Char?list.car.value:typeof list.car=="string"?list.car:Str(list.car),true)};T["eof-object?"]=T["js-null?"]=function(list){return list.car==null};theCallCC=T["call-with-current-continuation"]=function(list,state){state.ready=false;return callF(list.car,new P(state.cc.clone(),N),state)};var genSymBase=0;T["gen-sym"]=function(){return a("_"+genSymBase++ +"_")};var theCannot=new Ex("L cannot be cd");function A(f,args){Again:while(true){if(f instanceof L){if(f.cd==undefined){try{var jitComp=T.get("c-lambda-obj")}catch(ee){throw theCannot}f.cd=false;var expr=new P(jitComp,new P(new P(theQuote,new P(f.args,N)),new P(new P(theQuote,new P(new P(f.body,N),N)),N)));try{var res=doEval(expr,true);e=f.env;eval("tmp="+res);f.cd=tmp.cd;f.body=tmp.body;f.env=tmp.env}catch(ex){printLog("JIT/JS/Error: "+ex.description+", compiling:");printLog(typeof res=="string"?res:Str(res));printLog("for L "+Str(f.args));printLog(Str(f.body))}}if(f.cd==false){try{var state=new State(null,null,topCC);state.obj=callF(f,args,state);while(true){if(state.Eval(true)){state.ready=false;state.cont()}}}catch(ex){if(ex instanceof Ex)return ex;else if(ex instanceof State)return ex.obj;else return new Ex(ex.description)}}var res=f.cd(args);if(res==theTC){f=res.f;args=res.args;continue Again}return res}else if(f instanceof Function){if(f.FType==undefined){if(/^\s*function\s*\(\s*(list|)\s*\)/.exec(f))f.FType=1;else f.FType=3}if(f.FType==1)return f(args);return"";throw new Ex("JIT: A to invalid function, maybe call/cc")}else if(f instanceof Continuation){throw new State(args,null,f)}else throw new Ex("JIT: A to "+Str(f))}}function TC(f,args){theTC.f=f;theTC.args=args;return theTC}var theTC=new Object;function init(){var e=T;e["call/cc"]=e.get("call-with-current-continuation");e["list"]=new L(a("x"),a("x"),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list;r=e["x"];if(r!=theTC||r.f!=this)return r}});e["not"]=new L(new P(a("x"),N),new P(a("if"),new P(a("x"),new P(false,new P(true,N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"]!=false?false:true;if(r!=theTC||r.f!=this)return r}});e["negative?"]=new L(new P(a("x"),N),new P(a("<"),new P(a("x"),new P(0,N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"]<0;if(r!=theTC||r.f!=this)return r}});e["positive?"]=new L(new P(a("x"),N),new P(a(">"),new P(a("x"),new P(0,N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"]>0;if(r!=theTC||r.f!=this)return r}});e["even?"]=new L(new P(a("x"),N),new P(a("="),new P(new P(a("remainder"),new P(a("x"),new P(2,N))),new P(0,N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=isEq(A(T.get("remainder"),new P(e["x"],new P(2,N))),0);if(r!=theTC||r.f!=this)return r}});e["odd?"]=new L(new P(a("x"),N),new P(a("not"),new P(new P(a("even?"),new P(a("x"),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=A(T.get("even?"),new P(e["x"],N))==false;if(r!=theTC||r.f!=this)return r}});e["zero?"]=new L(new P(a("x"),N),new P(a("="),new P(a("x"),new P(0,N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=isEq(e["x"],0);if(r!=theTC||r.f!=this)return r}});e["abs"]=new L(new P(a("x"),N),new P(a("if"),new P(new P(a("<"),new P(a("x"),new P(0,N))),new P(new P(a("-"),new P(a("x"),N)),new P(a("x"),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"]<0!=false?-e["x"]:e["x"];if(r!=theTC||r.f!=this)return r}});e["magnitude"]=e.get("abs");e["exact?"]=e.get("integer?");e["inexact?"]=new L(new P(a("x"),N),new P(a("not"),new P(new P(a("exact?"),new P(a("x"),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=A(T.get("exact?"),new P(e["x"],N))==false;if(r!=theTC||r.f!=this)return r}});e["random"]=new L(new P(a("x"),N),new P(a("floor"),new P(new P(a("*"),new P(new P(a("rnd"),N),new P(a("x"),N))),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=TC(T.get("floor"),list=new P(A(T.get("rnd"),N)*e["x"],N));if(r!=theTC||r.f!=this)return r}});e["char-ci=?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("char=?"),new P(new P(a("char-downcase"),new P(a("x"),N)),new P(new P(a("char-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=isEq(A(T.get("char-downcase"),new P(e["x"],N)),A(T.get("char-downcase"),new P(e["y"],N)));if(r!=theTC||r.f!=this)return r}});e["char-ci>?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("char>?"),new P(new P(a("char-downcase"),new P(a("x"),N)),new P(new P(a("char-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(T.get("char>?"),list=new P(A(T.get("char-downcase"),new P(e["x"],N)),new P(A(T.get("char-downcase"),new P(e["y"],N)),N)));if(r!=theTC||r.f!=this)return r}});e["char-ci<?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("char<?"),new P(new P(a("char-downcase"),new P(a("x"),N)),new P(new P(a("char-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(T.get("char<?"),list=new P(A(T.get("char-downcase"),new P(e["x"],N)),new P(A(T.get("char-downcase"),new P(e["y"],N)),N)));if(r!=theTC||r.f!=this)return r}});e["char-ci>=?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("char>=?"),new P(new P(a("char-downcase"),new P(a("x"),N)),new P(new P(a("char-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(T.get("char>=?"),list=new P(A(T.get("char-downcase"),new P(e["x"],N)),new P(A(T.get("char-downcase"),new P(e["y"],N)),N)));if(r!=theTC||r.f!=this)return r}});e["char-ci<=?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("char<=?"),new P(new P(a("char-downcase"),new P(a("x"),N)),new P(new P(a("char-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(T.get("char<=?"),list=new P(A(T.get("char-downcase"),new P(e["x"],N)),new P(A(T.get("char-downcase"),new P(e["y"],N)),N)));if(r!=theTC||r.f!=this)return r}});e["char-lower-case?"]=new L(new P(a("x"),N),new P(a("char=?"),new P(a("x"),new P(new P(a("char-downcase"),new P(a("x"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=isEq(e["x"],A(T.get("char-downcase"),new P(e["x"],N)));if(r!=theTC||r.f!=this)return r}});e["char-upper-case?"]=new L(new P(a("x"),N),new P(a("char=?"),new P(a("x"),new P(new P(a("char-upcase"),new P(a("x"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=isEq(e["x"],A(T.get("char-upcase"),new P(e["x"],N)));if(r!=theTC||r.f!=this)return r}});e["char-alphabetic?"]=new L(new P(a("x"),N),new P(a("if"),new P(new P(a("char-ci>=?"),new P(a("x"),new P(getChar("a"),N))),new P(new P(a("char-ci<=?"),new P(a("x"),new P(getChar("z"),N))),new P(false,N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=A(T.get("char-ci>=?"),new P(e["x"],new P(getChar("a"),N)))!=false?TC(T.get("char-ci<=?"),list=new P(e["x"],new P(getChar("z"),N))):false;if(r!=theTC||r.f!=this)return r}});e["char-numeric?"]=new L(new P(a("x"),N),new P(a("if"),new P(new P(a("char>=?"),new P(a("x"),new P(getChar("0"),N))),new P(new P(a("char<=?"),new P(a("x"),new P(getChar("9"),N))),new P(false,N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=A(T.get("char>=?"),new P(e["x"],new P(getChar("0"),N)))!=false?TC(T.get("char<=?"),list=new P(e["x"],new P(getChar("9"),N))):false;if(r!=theTC||r.f!=this)return r}});e["char-whitespace?"]=new L(new P(a("x"),N),new P(a("char<=?"),new P(a("x"),new P(getChar(" "),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=TC(T.get("char<=?"),list=new P(e["x"],new P(getChar(" "),N)));if(r!=theTC||r.f!=this)return r}});e["string-ci=?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("string=?"),new P(new P(a("string-downcase"),new P(a("x"),N)),new P(new P(a("string-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=isEq(A(T.get("string-downcase"),new P(e["x"],N)),A(T.get("string-downcase"),new P(e["y"],N)));if(r!=theTC||r.f!=this)return r}});e["string-ci>?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("string>?"),new P(new P(a("string-downcase"),new P(a("x"),N)),new P(new P(a("string-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(T.get("string>?"),list=new P(A(T.get("string-downcase"),new P(e["x"],N)),new P(A(T.get("string-downcase"),new P(e["y"],N)),N)));if(r!=theTC||r.f!=this)return r}});e["string-ci<?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("string<?"),new P(new P(a("string-downcase"),new P(a("x"),N)),new P(new P(a("string-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(T.get("string<?"),list=new P(A(T.get("string-downcase"),new P(e["x"],N)),new P(A(T.get("string-downcase"),new P(e["y"],N)),N)));
if(r!=theTC||r.f!=this)return r}});e["string-ci>=?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("string>=?"),new P(new P(a("string-downcase"),new P(a("x"),N)),new P(new P(a("string-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(T.get("string>=?"),list=new P(A(T.get("string-downcase"),new P(e["x"],N)),new P(A(T.get("string-downcase"),new P(e["y"],N)),N)));if(r!=theTC||r.f!=this)return r}});e["string-ci<=?"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("string<=?"),new P(new P(a("string-downcase"),new P(a("x"),N)),new P(new P(a("string-downcase"),new P(a("y"),N)),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(T.get("string<=?"),list=new P(A(T.get("string-downcase"),new P(e["x"],N)),new P(A(T.get("string-downcase"),new P(e["y"],N)),N)));if(r!=theTC||r.f!=this)return r}});e["map"]=new L(new P(a("f"),new P(a("ls"),a("more"))),new P(a("begin"),new P(new P(a("define"),new P(a("map1"),new P(new P(a("clone"),new P(a("_0_"),N)),N))),new P(new P(a("define"),new P(a("map-more"),new P(new P(a("clone"),new P(a("_1_"),N)),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("more"),N)),new P(new P(a("map1"),new P(a("ls"),N)),new P(new P(a("map-more"),new P(a("ls"),new P(a("more"),N))),N)))),N)))),new Env(e).With("_0_",new L(new P(a("l"),N),new P(a("if"),new P(new P(a("null?"),new P(a("l"),N)),new P(new P(a("quote"),new P(N,N)),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("l"),N)),new P(new P(a("cons"),new P(new P(a("f"),new P(new P(a("car"),new P(a("l"),N)),N)),new P(new P(a("map1"),new P(new P(a("cdr"),new P(a("l"),N)),N)),N))),new P(new P(a("f"),new P(a("l"),N)),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["l"]=list.car;r=e["l"]==N!=false?N:e["l"]instanceof P!=false?new P(A(e.PE["f"],new P(e["l"].car,N)),A(e.PE["map1"],new P(e["l"].cdr,N))):TC(e.PE["f"],list=new P(e["l"],N));if(r!=theTC||r.f!=this)return r}})).With("_1_",new L(new P(a("l"),new P(a("m"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("l"),N)),new P(new P(a("quote"),new P(N,N)),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("l"),N)),new P(new P(a("cons"),new P(new P(a("apply"),new P(a("f"),new P(new P(a("car"),new P(a("l"),N)),new P(new P(a("map"),new P(a("car"),new P(a("m"),N))),N)))),new P(new P(a("map-more"),new P(new P(a("cdr"),new P(a("l"),N)),new P(new P(a("map"),new P(a("cdr"),new P(a("m"),N))),N))),N))),new P(new P(a("apply"),new P(a("f"),new P(a("l"),new P(a("m"),N)))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["l"]=list.car;e["m"]=list.cdr.car;r=e["l"]==N!=false?N:e["l"]instanceof P!=false?new P(A(e.PE["f"],new P(e["l"].car,A(T.get("map"),new P(T.get("car"),new P(e["m"],N))).ListCopy())),A(e.PE["map-more"],new P(e["l"].cdr,new P(A(T.get("map"),new P(T.get("cdr"),new P(e["m"],N))),N)))):TC(e.PE["f"],list=new P(e["l"],e["m"].ListCopy()));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["f"]=list.car;e["ls"]=list.cdr.car;e["more"]=list.cdr.cdr;r=(e["map1"]=e.PE["_0_"].clone(e),e["map-more"]=e.PE["_1_"].clone(e),e["more"]==N!=false?TC(e["map1"],list=new P(e["ls"],N)):TC(e["map-more"],list=new P(e["ls"],new P(e["more"],N))));if(r!=theTC||r.f!=this)return r}});e["map+"]=new L(new P(a("f"),a("lst")),new P(a("begin"),new P(new P(a("define"),new P(a("r"),new P(new P(a("quote"),new P(N,N)),N))),new P(new P(a("define"),new P(a("o"),new P(false,N))),new P(new P(a("define"),new P(a("p"),new P(false,N))),new P(new P(a("define"),new P(a("map-lst"),new P(new P(a("clone"),new P(a("_2_"),N)),N))),new P(new P(a("define"),new P(a("do-map"),new P(new P(a("clone"),new P(a("_3_"),N)),N))),new P(new P(a("do-map"),N),new P(a("r"),N)))))))),new Env(e).With("_2_",new L(new P(a("op"),new P(a("l"),N)),new P(a("if"),new P(new P(a("pair?"),new P(a("l"),N)),new P(new P(a("cons"),new P(new P(a("op"),new P(new P(a("car"),new P(a("l"),N)),N)),new P(new P(a("map-lst"),new P(a("op"),new P(new P(a("cdr"),new P(a("l"),N)),N))),N))),new P(new P(a("quote"),new P(N,N)),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["op"]=list.car;e["l"]=list.cdr.car;r=e["l"]instanceof P!=false?new P(A(e["op"],new P(e["l"].car,N)),A(e.PE["map-lst"],new P(e["op"],new P(e["l"].cdr,N)))):N;if(r!=theTC||r.f!=this)return r}})).With("_3_",new L(N,new P(a("if"),new P(new P(a("pair?"),new P(new P(a("car"),new P(a("lst"),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("o"),new P(new P(a("cons"),new P(new P(a("apply"),new P(a("f"),new P(new P(a("map"),new P(a("car"),new P(a("lst"),N))),N))),new P(new P(a("quote"),new P(N,N)),N))),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("r"),N)),new P(new P(a("set!"),new P(a("r"),new P(a("o"),N))),new P(new P(a("set-cdr!"),new P(a("p"),new P(a("o"),N))),N)))),new P(new P(a("set!"),new P(a("p"),new P(a("o"),N))),new P(new P(a("set!"),new P(a("lst"),new P(new P(a("map"),new P(a("cdr"),new P(a("lst"),N))),N))),new P(new P(a("do-map"),N),N)))))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(new P(a("car"),new P(a("lst"),N)),N)),N)),new P(new P(a("if"),new P(a("p"),new P(new P(a("set-cdr!"),new P(a("p"),new P(new P(a("apply"),new P(a("f"),new P(a("lst"),N))),N))),new P(new P(a("set!"),new P(a("r"),new P(new P(a("apply"),new P(a("f"),new P(a("lst"),N))),N))),N)))),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){r=e.PE["lst"].car instanceof P!=false?(e.set("o",new P(A(e.PE["f"],A(T.get("map"),new P(T.get("car"),new P(e.PE["lst"],N))).ListCopy()),N)),e.PE["r"]==N!=false?e.set("r",e.PE["o"]):A(T.get("set-cdr!"),new P(e.PE["p"],new P(e.PE["o"],N))),e.set("p",e.PE["o"]),e.set("lst",A(T.get("map"),new P(T.get("cdr"),new P(e.PE["lst"],N)))),TC(e.PE["do-map"],list=N)):e.PE["lst"].car==N==false!=false?e.PE["p"]!=false?TC(T.get("set-cdr!"),list=new P(e.PE["p"],new P(A(e.PE["f"],e.PE["lst"].ListCopy()),N))):e.set("r",A(e.PE["f"],e.PE["lst"].ListCopy())):null;if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["f"]=list.car;e["lst"]=list.cdr;r=(e["r"]=N,e["o"]=false,e["p"]=false,e["map-lst"]=e.PE["_2_"].clone(e),e["do-map"]=e.PE["_3_"].clone(e),A(e["do-map"],N),e["r"]);if(r!=theTC||r.f!=this)return r}});e["caar"]=new L(new P(a("x"),N),new P(a("car"),new P(new P(a("car"),new P(a("x"),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].car.car;if(r!=theTC||r.f!=this)return r}});e["cadr"]=new L(new P(a("x"),N),new P(a("car"),new P(new P(a("cdr"),new P(a("x"),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.car;if(r!=theTC||r.f!=this)return r}});e["cdar"]=new L(new P(a("x"),N),new P(a("cdr"),new P(new P(a("car"),new P(a("x"),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].car.cdr;if(r!=theTC||r.f!=this)return r}});e["cddr"]=new L(new P(a("x"),N),new P(a("cdr"),new P(new P(a("cdr"),new P(a("x"),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.cdr;if(r!=theTC||r.f!=this)return r}});e["caaar"]=new L(new P(a("x"),N),new P(a("car"),new P(new P(a("car"),new P(new P(a("car"),new P(a("x"),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].car.car.car;if(r!=theTC||r.f!=this)return r}});e["caadr"]=new L(new P(a("x"),N),new P(a("car"),new P(new P(a("car"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.car.car;if(r!=theTC||r.f!=this)return r}});e["cadar"]=new L(new P(a("x"),N),new P(a("car"),new P(new P(a("cdr"),new P(new P(a("car"),new P(a("x"),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].car.cdr.car;if(r!=theTC||r.f!=this)return r}});e["caddr"]=new L(new P(a("x"),N),new P(a("car"),new P(new P(a("cdr"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.cdr.car;if(r!=theTC||r.f!=this)return r}});e["cdaar"]=new L(new P(a("x"),N),new P(a("cdr"),new P(new P(a("car"),new P(new P(a("car"),new P(a("x"),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].car.car.cdr;if(r!=theTC||r.f!=this)return r}});e["cdadr"]=new L(new P(a("x"),N),new P(a("cdr"),new P(new P(a("car"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.car.cdr;if(r!=theTC||r.f!=this)return r}});e["cddar"]=new L(new P(a("x"),N),new P(a("cdr"),new P(new P(a("cdr"),new P(new P(a("car"),new P(a("x"),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].car.cdr.cdr;if(r!=theTC||r.f!=this)return r}});e["cdddr"]=new L(new P(a("x"),N),new P(a("cdr"),new P(new P(a("cdr"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.cdr.cdr;if(r!=theTC||r.f!=this)return r}});e["caaddr"]=new L(new P(a("x"),N),new P(a("car"),new P(new P(a("car"),new P(new P(a("cdr"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.cdr.car.car;if(r!=theTC||r.f!=this)return r}});e["cadddr"]=new L(new P(a("x"),N),new P(a("car"),new P(new P(a("cdr"),new P(new P(a("cdr"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.cdr.cdr.car;if(r!=theTC||r.f!=this)return r}});e["cdaddr"]=new L(new P(a("x"),N),new P(a("cdr"),new P(new P(a("car"),new P(new P(a("cdr"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.cdr.car.cdr;if(r!=theTC||r.f!=this)return r}});e["cddddr"]=new L(new P(a("x"),N),new P(a("cdr"),new P(new P(a("cdr"),new P(new P(a("cdr"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"].cdr.cdr.cdr.cdr;if(r!=theTC||r.f!=this)return r}});e["length"]=new L(new P(a("lst"),a("x")),new P(a("begin"),new P(new P(a("define"),new P(a("l"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("x"),N)),new P(0,new P(new P(a("car"),new P(a("x"),N)),N)))),N))),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("lst"),N)),new P(new P(a("length"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(new P(a("+"),new P(a("l"),new P(1,N))),N))),new P(a("l"),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["x"]=list.cdr;r=(e["l"]=e["x"]==N!=false?0:e["x"].car,e["lst"]instanceof P!=false?TC(T.get("length"),list=new P(e["lst"].cdr,new P(e["l"]+1,N))):e["l"]);if(r!=theTC||r.f!=this)return r}});e["length+"]=new L(new P(a("lst"),a("x")),new P(a("begin"),new P(new P(a("define"),new P(a("l"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("x"),N)),new P(0,new P(new P(a("car"),new P(a("x"),N)),N)))),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("lst"),N)),new P(a("l"),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("lst"),N)),new P(new P(a("length+"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(new P(a("+"),new P(a("l"),new P(1,N))),N))),new P(new P(a("+"),new P(a("l"),new P(1,N))),N)))),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["x"]=list.cdr;r=(e["l"]=e["x"]==N!=false?0:e["x"].car,e["lst"]==N!=false?e["l"]:e["lst"]instanceof P!=false?TC(T.get("length+"),list=new P(e["lst"].cdr,new P(e["l"]+1,N))):e["l"]+1);if(r!=theTC||r.f!=this)return r}});e["list-ref"]=new L(new P(a("lst"),new P(a("n"),N)),new P(a("if"),new P(new P(a("="),new P(a("n"),new P(0,N))),new P(new P(a("car"),new P(a("lst"),N)),new P(new P(a("list-ref"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(new P(a("-"),new P(a("n"),new P(1,N))),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["n"]=list.cdr.car;r=isEq(e["n"],0)!=false?e["lst"].car:TC(T.get("list-ref"),list=new P(e["lst"].cdr,new P(e["n"]-1,N)));if(r!=theTC||r.f!=this)return r}});e["list-tail"]=new L(new P(a("lst"),new P(a("n"),N)),new P(a("if"),new P(new P(a("="),new P(a("n"),new P(0,N))),new P(a("lst"),new P(new P(a("list-tail"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(new P(a("-"),new P(a("n"),new P(1,N))),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["n"]=list.cdr.car;r=isEq(e["n"],0)!=false?e["lst"]:TC(T.get("list-tail"),list=new P(e["lst"].cdr,new P(e["n"]-1,N)));if(r!=theTC||r.f!=this)return r}});e["reverse"]=new L(new P(a("lst"),a("l2")),new P(a("begin"),new P(new P(a("define"),new P(a("r"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("l2"),N)),new P(a("l2"),new P(new P(a("car"),new P(a("l2"),N)),N)))),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("lst"),N)),new P(a("r"),new P(new P(a("reverse"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(new P(a("cons"),new P(new P(a("car"),new P(a("lst"),N)),new P(a("r"),N))),N))),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["l2"]=list.cdr;r=(e["r"]=e["l2"]==N!=false?e["l2"]:e["l2"].car,e["lst"]==N!=false?e["r"]:TC(T.get("reverse"),list=new P(e["lst"].cdr,new P(new P(e["lst"].car,e["r"]),N))));if(r!=theTC||r.f!=this)return r}});e["append"]=new L(new P(a("l1"),a("more")),new P(a("if"),new P(new P(a("null?"),new P(a("more"),N)),new P(a("l1"),new P(new P(a("begin"),new P(new P(a("define"),new P(a("l2"),new P(new P(a("car"),new P(a("more"),N)),N))),new P(new P(a("define"),new P(a("m2"),new P(new P(a("cdr"),new P(a("more"),N)),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("l1"),N)),new P(new P(a("apply"),new P(a("append"),new P(a("l2"),new P(a("m2"),N)))),new P(new P(a("cons"),new P(new P(a("car"),new P(a("l1"),N)),new P(new P(a("apply"),new P(a("append"),new P(new P(a("cdr"),new P(a("l1"),N)),new P(a("l2"),new P(a("m2"),N))))),N))),N)))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["l1"]=list.car;e["more"]=list.cdr;r=e["more"]==N!=false?e["l1"]:(e["l2"]=e["more"].car,e["m2"]=e["more"].cdr,e["l1"]==N!=false?TC(T.get("append"),list=new P(e["l2"],e["m2"].ListCopy())):new P(e["l1"].car,A(T.get("append"),new P(e["l1"].cdr,new P(e["l2"],e["m2"].ListCopy())))));if(r!=theTC||r.f!=this)return r}});e["sort"]=false;e["merge"]=false;A(new L(N,new P(a("begin"),new P(new P(a("define"),new P(a("dosort"),new P(new P(a("clone"),new P(a("_4_"),N)),N))),new P(new P(a("define"),new P(a("domerge"),new P(new P(a("clone"),new P(a("_5_"),N)),N))),new P(new P(a("set!"),new P(a("sort"),new P(new P(a("clone"),new P(a("_6_"),N)),N))),new P(new P(a("set!"),new P(a("merge"),new P(new P(a("clone"),new P(a("_7_"),N)),N))),N))))),new Env(e).With("_4_",new L(new P(a("pred?"),new P(a("ls"),new P(a("n"),N))),new P(a("if"),new P(new P(a("="),new P(a("n"),new P(1,N))),new P(new P(a("list"),new P(new P(a("car"),new P(a("ls"),N)),N)),new P(new P(a("if"),new P(new P(a("="),new P(a("n"),new P(2,N))),new P(new P(a("begin"),new P(new P(a("define"),new P(a("x"),new P(new P(a("car"),new P(a("ls"),N)),N))),new P(new P(a("define"),new P(a("y"),new P(new P(a("cadr"),new P(a("ls"),N)),N))),new P(new P(a("if"),new P(new P(a("pred?"),new P(a("y"),new P(a("x"),N))),new P(new P(a("list"),new P(a("y"),new P(a("x"),N))),new P(new P(a("list"),new P(a("x"),new P(a("y"),N))),N)))),N)))),new P(new P(a("begin"),new P(new P(a("define"),new P(a("i"),new P(new P(a("quotient"),new P(a("n"),new P(2,N))),N))),new P(new P(a("domerge"),new P(a("pred?"),new P(new P(a("dosort"),new P(a("pred?"),new P(a("ls"),new P(a("i"),N)))),new P(new P(a("dosort"),new P(a("pred?"),new P(new P(a("list-tail"),new P(a("ls"),new P(a("i"),N))),new P(new P(a("-"),new P(a("n"),new P(a("i"),N))),N)))),N)))),N))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["pred?"]=list.car;e["ls"]=list.cdr.car;e["n"]=list.cdr.cdr.car;r=isEq(e["n"],1)!=false?new P(e["ls"].car,N):isEq(e["n"],2)!=false?(e["x"]=e["ls"].car,e["y"]=e["ls"].cdr.car,A(e["pred?"],new P(e["y"],new P(e["x"],N)))!=false?new P(e["y"],new P(e["x"],N)):new P(e["x"],new P(e["y"],N))):(e["i"]=A(T.get("quotient"),new P(e["n"],new P(2,N))),TC(e.PE["domerge"],list=new P(e["pred?"],new P(A(e.PE["dosort"],new P(e["pred?"],new P(e["ls"],new P(e["i"],N)))),new P(A(e.PE["dosort"],new P(e["pred?"],new P(A(T.get("list-tail"),new P(e["ls"],new P(e["i"],N))),new P(e["n"]-e["i"],N)))),N)))));if(r!=theTC||r.f!=this)return r}})).With("_5_",new L(new P(a("pred?"),new P(a("l1"),new P(a("l2"),N))),new P(a("if"),new P(new P(a("null?"),new P(a("l1"),N)),new P(a("l2"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("l2"),N)),new P(a("l1"),new P(new P(a("if"),new P(new P(a("pred?"),new P(new P(a("car"),new P(a("l2"),N)),new P(new P(a("car"),new P(a("l1"),N)),N))),new P(new P(a("cons"),new P(new P(a("car"),new P(a("l2"),N)),new P(new P(a("domerge"),new P(a("pred?"),new P(a("l1"),new P(new P(a("cdr"),new P(a("l2"),N)),N)))),N))),new P(new P(a("cons"),new P(new P(a("car"),new P(a("l1"),N)),new P(new P(a("domerge"),new P(a("pred?"),new P(new P(a("cdr"),new P(a("l1"),N)),new P(a("l2"),N)))),N))),N)))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["pred?"]=list.car;e["l1"]=list.cdr.car;e["l2"]=list.cdr.cdr.car;r=e["l1"]==N!=false?e["l2"]:e["l2"]==N!=false?e["l1"]:A(e["pred?"],new P(e["l2"].car,new P(e["l1"].car,N)))!=false?new P(e["l2"].car,A(e.PE["domerge"],new P(e["pred?"],new P(e["l1"],new P(e["l2"].cdr,N))))):new P(e["l1"].car,A(e.PE["domerge"],new P(e["pred?"],new P(e["l1"].cdr,new P(e["l2"],N)))));if(r!=theTC||r.f!=this)return r}})).With("_6_",new L(new P(a("pred?"),new P(a("l"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("l"),N)),new P(a("l"),new P(new P(a("dosort"),new P(a("pred?"),new P(a("l"),new P(new P(a("length"),new P(a("l"),N)),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["pred?"]=list.car;e["l"]=list.cdr.car;r=e["l"]==N!=false?e["l"]:TC(e.PE["dosort"],list=new P(e["pred?"],new P(e["l"],new P(A(T.get("length"),new P(e["l"],N)),N))));if(r!=theTC||r.f!=this)return r}})).With("_7_",new L(new P(a("pred?"),new P(a("l1"),new P(a("l2"),N))),new P(a("domerge"),new P(a("pred?"),new P(a("l1"),new P(a("l2"),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["pred?"]=list.car;e["l1"]=list.cdr.car;e["l2"]=list.cdr.cdr.car;r=TC(e.PE["domerge"],list=new P(e["pred?"],new P(e["l1"],new P(e["l2"],N))));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){r=(e["dosort"]=e.PE["_4_"].clone(e),e["domerge"]=e.PE["_5_"].clone(e),e.set("sort",e.PE["_6_"].clone(e)),e.set("merge",e.PE["_7_"].clone(e)));if(r!=theTC||r.f!=this)return r}}),N);e["iota"]=new L(new P(a("count"),a("x")),new P(a("begin"),new P(new P(a("define"),new P(a("start"),new P(0,N))),new P(new P(a("define"),new P(a("step"),new P(1,N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(a("x"),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("start"),new P(new P(a("car"),new P(a("x"),N)),N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("step"),new P(new P(a("cadr"),new P(a("x"),N)),N))),N)),N))),N))),N))),new P(new P(a("define"),new P(a("do-step"),new P(new P(a("clone"),new P(a("_8_"),N)),N))),new P(new P(a("do-step"),new P(new P(a("-"),new P(a("count"),new P(1,N))),new P(new P(a("quote"),new P(N,N)),N))),N)))))),new Env(e).With("_8_",new L(new P(a("cnt"),new P(a("lst"),N)),new P(a("if"),new P(new P(a("<"),new P(a("cnt"),new P(0,N))),new P(a("lst"),new P(new P(a("do-step"),new P(new P(a("-"),new P(a("cnt"),new P(1,N))),new P(new P(a("cons"),new P(new P(a("+"),new P(new P(a("*"),new P(a("step"),new P(a("cnt"),N))),new P(a("start"),N))),new P(a("lst"),N))),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["cnt"]=list.car;e["lst"]=list.cdr.car;r=e["cnt"]<0!=false?e["lst"]:TC(e.PE["do-step"],list=new P(e["cnt"]-1,new P(new P(e.PE["step"]*e["cnt"]+e.PE["start"],e["lst"]),N)));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["count"]=list.car;e["x"]=list.cdr;r=(e["start"]=0,e["step"]=1,e["x"]==N==false!=false?(e["start"]=e["x"].car,e["x"].cdr==N==false!=false?e["step"]=e["x"].cdr.car:null):null,e["do-step"]=e.PE["_8_"].clone(e),TC(e["do-step"],list=new P(e["count"]-1,new P(N,N))));if(r!=theTC||r.f!=this)return r}});e["list->string"]=new L(new P(a("lst"),N),new P(a("apply"),new P(a("string"),new P(a("lst"),N))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;r=TC(T.get("string"),list=e["lst"].ListCopy());if(r!=theTC||r.f!=this)return r}});e["gcd"]=new L(new P(a("a"),new P(a("b"),N)),new P(a("if"),new P(new P(a("="),new P(a("b"),new P(0,N))),new P(a("a"),new P(new P(a("gcd"),new P(a("b"),new P(new P(a("remainder"),new P(a("a"),new P(a("b"),N))),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["a"]=list.car;e["b"]=list.cdr.car;r=isEq(e["b"],0)!=false?e["a"]:TC(T.get("gcd"),list=new P(e["b"],new P(A(T.get("remainder"),new P(e["a"],new P(e["b"],N))),N)));if(r!=theTC||r.f!=this)return r}});e["lcm"]=new L(new P(a("x"),new P(a("y"),N)),new P(a("/"),new P(new P(a("*"),new P(a("x"),new P(a("y"),N))),new P(new P(a("gcd"),new P(a("x"),new P(a("y"),N))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=e["x"]*e["y"]/A(T.get("gcd"),new P(e["x"],new P(e["y"],N)));if(r!=theTC||r.f!=this)return r}});e["max"]=new L(new P(a("x"),a("l")),new P(a("if"),new P(new P(a("null?"),new P(a("l"),N)),new P(a("x"),new P(new P(a("apply"),new P(a("max"),new P(new P(a("if"),new P(new P(a(">"),new P(a("x"),new P(new P(a("car"),new P(a("l"),N)),N))),new P(a("x"),new P(new P(a("car"),new P(a("l"),N)),N)))),new P(new P(a("cdr"),new P(a("l"),N)),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["l"]=list.cdr;r=e["l"]==N!=false?e["x"]:TC(T.get("max"),list=new P(e["x"]>e["l"].car!=false?e["x"]:e["l"].car,e["l"].cdr.ListCopy()));if(r!=theTC||r.f!=this)return r}});e["min"]=new L(new P(a("x"),a("l")),new P(a("if"),new P(new P(a("null?"),new P(a("l"),N)),new P(a("x"),new P(new P(a("apply"),new P(a("max"),new P(new P(a("if"),new P(new P(a("<"),new P(a("x"),new P(new P(a("car"),new P(a("l"),N)),N))),new P(a("x"),new P(new P(a("car"),new P(a("l"),N)),N)))),new P(new P(a("cdr"),new P(a("l"),N)),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["l"]=list.cdr;r=e["l"]==N!=false?e["x"]:TC(T.get("max"),list=new P(e["x"]<e["l"].car!=false?e["x"]:e["l"].car,e["l"].cdr.ListCopy()));if(r!=theTC||r.f!=this)return r}});e["syntax-quasiquote"]=A(new L(N,new P(a("begin"),new P(new P(a("define"),new P(a("ql"),new P(new P(a("clone"),new P(a("_9_"),N)),N))),new P(new P(a("clone"),new P(a("_10_"),N)),N))),new Env(e).With("_9_",new L(new P(a("x"),N),new P(a("if"),new P(new P(a("pair?"),new P(a("x"),N)),new P(new P(a("if"),new P(new P(a("null?"),new P(a("x"),N)),new P(new P(a("quote"),new P(new P(a("quote"),new P(N,N)),N)),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("x"),N)),new P(new P(a("quote"),new P(a("unquote"),N)),N))),new P(new P(a("cadr"),new P(a("x"),N)),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("pair?"),new P(new P(a("car"),new P(a("x"),N)),N)),new P(new P(a("eq?"),new P(new P(a("caar"),new P(a("x"),N)),new P(new P(a("quote"),new P(a("unquote-splicing"),N)),N))),new P(false,N)))),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("x"),N)),N)),new P(new P(a("cadar"),new P(a("x"),N)),new P(new P(a("list"),new P(new P(a("quote"),new P(a("append"),N)),new P(new P(a("cadar"),new P(a("x"),N)),new P(new P(a("ql"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)))),N)))),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("x"),N)),N)),new P(new P(a("list"),new P(new P(a("quote"),new P(a("list"),N)),new P(new P(a("ql"),new P(new P(a("car"),new P(a("x"),N)),N)),N))),new P(new P(a("list"),new P(new P(a("quote"),new P(a("cons"),N)),new P(new P(a("ql"),new P(new P(a("car"),new P(a("x"),N)),N)),new P(new P(a("ql"),new P(new P(a("cdr"),new P(a("x"),N)),N)),N)))),N)))),N)))),N)))),N)))),new P(new P(a("if"),new P(new P(a("symbol?"),new P(a("x"),N)),new P(new P(a("list"),new P(new P(a("quote"),new P(a("quote"),N)),new P(a("x"),N))),new P(a("x"),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"]instanceof P!=false?e["x"]==N!=false?new P(a("quote"),new P(N,N)):isEq(e["x"].car,a("unquote"))!=false?e["x"].cdr.car:(e["x"].car instanceof P!=false?isEq(e["x"].car.car,a("unquote-splicing")):false)!=false?e["x"].cdr==N!=false?TC(T.get("cadar"),list=new P(e["x"],N)):new P(a("append"),new P(A(T.get("cadar"),new P(e["x"],N)),new P(A(e.PE["ql"],new P(e["x"].cdr,N)),N))):e["x"].cdr==N!=false?new P(a("list"),new P(A(e.PE["ql"],new P(e["x"].car,N)),N)):new P(a("cons"),new P(A(e.PE["ql"],new P(e["x"].car,N)),new P(A(e.PE["ql"],new P(e["x"].cdr,N)),N))):e["x"]instanceof Symbol!=false?new P(a("quote"),new P(e["x"],N)):e["x"];if(r!=theTC||r.f!=this)return r}})).With("_10_",new L(new P(a("expr"),N),new P(a("ql"),new P(new P(a("cadr"),new P(a("expr"),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["expr"]=list.car;r=TC(e.PE["ql"],list=new P(e["expr"].cdr.car,N));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){r=(e["ql"]=e.PE["_9_"].clone(e),e.PE["_10_"].clone(e));if(r!=theTC||r.f!=this)return r}}),N);e["quasiquote"]=new Syntax(e.get("syntax-quasiquote"),N);e["f-and"]=new L(a("lst"),new P(a("if"),new P(new P(a("null?"),new P(a("lst"),N)),new P(true,new P(new P(a("if"),new P(new P(a("car"),new P(a("lst"),N)),new P(new P(a("apply"),new P(a("f-and"),new P(new P(a("cdr"),new P(a("lst"),N)),N))),new P(false,N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list;r=e["lst"]==N!=false?true:e["lst"].car!=false?TC(T.get("f-and"),list=e["lst"].cdr.ListCopy()):false;if(r!=theTC||r.f!=this)return r}});e["f-or"]=new L(a("lst"),new P(a("if"),new P(new P(a("null?"),new P(a("lst"),N)),new P(false,new P(new P(a("if"),new P(new P(a("car"),new P(a("lst"),N)),new P(true,new P(new P(a("apply"),new P(a("f-or"),new P(new P(a("cdr"),new P(a("lst"),N)),N))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list;r=e["lst"]==N!=false?false:e["lst"].car!=false?true:TC(T.get("f-or"),list=e["lst"].cdr.ListCopy());if(r!=theTC||r.f!=this)return r}});e["syntax-rules"]=new L(new P(a("expr"),new P(a("literals"),new P(a("p1"),a("more")))),new P(a("begin"),new P(new P(a("define"),new P(a("vars"),new P(new P(a("quote"),new P(N,N)),N))),new P(new P(a("define"),new P(a("match"),new P(new P(a("clone"),new P(a("_11_"),N)),N))),new P(new P(a("define"),new P(a("match-many"),new P(new P(a("clone"),new P(a("_12_"),N)),N))),new P(new P(a("define"),new P(a("find-all"),new P(new P(a("clone"),new P(a("_13_"),N)),N))),new P(new P(a("define"),new P(a("p-each"),new P(new P(a("clone"),new P(a("_14_"),N)),N))),new P(new P(a("define"),new P(a("process-many"),new P(new P(a("clone"),new P(a("_15_"),N)),N))),new P(new P(a("define"),new P(a("gen-many"),new P(new P(a("clone"),new P(a("_16_"),N)),N))),new P(new P(a("define"),new P(a("ren"),new P(new P(a("clone"),new P(a("_17_"),N)),N))),new P(new P(a("define"),new P(a("gen"),new P(new P(a("clone"),new P(a("_18_"),N)),N))),new P(new P(a("if"),new P(new P(a("match"),new P(new P(a("cdr"),new P(a("expr"),N)),new P(new P(a("cdar"),new P(a("p1"),N)),N))),new P(new P(a("gen"),new P(new P(a("cadr"),new P(a("p1"),N)),new P(true,N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("more"),N)),new P(new P(a("error"),new P(new P(a("string-append"),new P("no pattern matches ",new P(new P(a("symbol->string"),new P(new P(a("car"),new P(a("expr"),N)),N)),N))),N)),new P(new P(a("apply"),new P(a("syntax-rules"),new P(a("expr"),new P(a("literals"),new P(a("more"),N))))),N)))),N)))),N))))))))))),new Env(e).With("_11_",new L(new P(a("ex"),new P(a("pat"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("pat"),N)),new P(new P(a("null?"),new P(a("ex"),N)),new P(new P(a("if"),new P(new P(a("symbol?"),new P(a("pat"),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("vars"),new P(new P(a("cons"),new P(new P(a("cons"),new P(a("pat"),new P(a("ex"),N))),new P(a("vars"),N))),N))),new P(true,N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("cadr"),new P(a("pat"),N)),new P(new P(a("quote"),new P(a("..."),N)),N))),new P(new P(a("match-many"),new P(a("ex"),new P(new P(a("car"),new P(a("pat"),N)),N))),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("ex"),N)),new P(false,new P(new P(a("if"),new P(new P(a("memq+"),new P(new P(a("car"),new P(a("pat"),N)),new P(a("literals"),N))),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("pat"),N)),new P(new P(a("car"),new P(a("ex"),N)),N))),new P(new P(a("if"),new P(new P(a("symbol?"),new P(new P(a("car"),new P(a("pat"),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("vars"),new P(new P(a("cons"),new P(new P(a("cons"),new P(new P(a("car"),new P(a("pat"),N)),new P(new P(a("car"),new P(a("ex"),N)),N))),new P(a("vars"),N))),N))),new P(true,N))),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("pair?"),new P(new P(a("car"),new P(a("pat"),N)),N)),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("car"),new P(a("ex"),N)),N)),new P(true,new P(new P(a("pair?"),new P(new P(a("car"),new P(a("ex"),N)),N)),N)))),new P(false,N)))),new P(new P(a("match"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("car"),new P(a("pat"),N)),N))),new P(new P(a("eqv?"),new P(new P(a("car"),new P(a("pat"),N)),new P(new P(a("car"),new P(a("ex"),N)),N))),N)))),N)))),N)))),N)))),new P(new P(a("match"),new P(new P(a("cdr"),new P(a("ex"),N)),new P(new P(a("cdr"),new P(a("pat"),N)),N))),new P(false,N)))),N)))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["ex"]=list.car;e["pat"]=list.cdr.car;r=e["pat"]==N!=false?e["ex"]==N:e["pat"]instanceof Symbol!=false?(e.set("vars",new P(new P(e["pat"],e["ex"]),e.PE["vars"])),true):isEq(e["pat"].cdr.car,a("..."))!=false?TC(e.PE["match-many"],list=new P(e["ex"],new P(e["pat"].car,N))):(e["ex"]==N!=false?false:A(T.get("memq+"),new P(e["pat"].car,new P(e.PE["literals"],N)))!=false?isEq(e["pat"].car,e["ex"].car):e["pat"].car instanceof Symbol!=false?(e.set("vars",new P(new P(e["pat"].car,e["ex"].car),e.PE["vars"])),true):(e["pat"].car instanceof P!=false?e["ex"].car==N!=false?true:e["ex"].car instanceof P:false)!=false?A(e.PE["match"],new P(e["ex"].car,new P(e["pat"].car,N))):isEq(e["pat"].car,e["ex"].car))!=false?TC(e.PE["match"],list=new P(e["ex"].cdr,new P(e["pat"].cdr,N))):false;if(r!=theTC||r.f!=this)return r}})).With("_12_",new L(new P(a("ex"),new P(a("pat"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("ex"),N)),new P(true,new P(new P(a("if"),new P(new P(a("match"),new P(new P(a("list"),new P(new P(a("car"),new P(a("ex"),N)),N)),new P(new P(a("list"),new P(a("pat"),N)),N))),new P(new P(a("match-many"),new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("pat"),N))),new P(false,N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["ex"]=list.car;e["pat"]=list.cdr.car;r=e["ex"]==N!=false?true:A(e.PE["match"],new P(new P(e["ex"].car,N),new P(new P(e["pat"],N),N)))!=false?TC(e.PE["match-many"],list=new P(e["ex"].cdr,new P(e["pat"],N))):false;if(r!=theTC||r.f!=this)return r}})).With("_13_",new L(new P(a("var"),new P(a("lst"),new P(a("out"),N))),new P(a("if"),new P(new P(a("null?"),new P(a("lst"),N)),new P(a("out"),new P(new P(a("if"),new P(new P(a("eq?"),new P(a("var"),new P(new P(a("caar"),new P(a("lst"),N)),N))),new P(new P(a("find-all"),new P(a("var"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(new P(a("cons"),new P(new P(a("cdar"),new P(a("lst"),N)),new P(a("out"),N))),N)))),new P(new P(a("find-all"),new P(a("var"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(a("out"),N)))),N)))),N)))),e,function(list){var r,e=new Env(this.env);
while(true){e["var"]=list.car;e["lst"]=list.cdr.car;e["out"]=list.cdr.cdr.car;r=e["lst"]==N!=false?e["out"]:isEq(e["var"],e["lst"].car.car)!=false?TC(e.PE["find-all"],list=new P(e["var"],new P(e["lst"].cdr,new P(new P(e["lst"].car.cdr,e["out"]),N)))):TC(e.PE["find-all"],list=new P(e["var"],new P(e["lst"].cdr,new P(e["out"],N))));if(r!=theTC||r.f!=this)return r}})).With("_14_",new L(new P(a("lst"),new P(a("templ"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("lst"),N)),new P(new P(a("quote"),new P(N,N)),new P(new P(a("cons"),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("car"),new P(a("lst"),N)),N)),new P(new P(a("car"),new P(a("templ"),N)),new P(new P(a("caar"),new P(a("lst"),N)),N)))),new P(new P(a("p-each"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(new P(a("cdr"),new P(a("templ"),N)),N))),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["templ"]=list.cdr.car;r=e["lst"]==N!=false?N:new P(e["lst"].car==N!=false?e["templ"].car:e["lst"].car.car,A(e.PE["p-each"],new P(e["lst"].cdr,new P(e["templ"].cdr,N))));if(r!=theTC||r.f!=this)return r}})).With("_15_",new L(new P(a("lst"),new P(a("templ"),N)),new P(a("begin"),new P(new P(a("define"),new P(a("not-empty"),new P(false,N))),new P(new P(a("define"),new P(a("l2"),new P(new P(a("clone"),new P(a("_19_"),N)),N))),new P(new P(a("define"),new P(a("ll"),new P(new P(a("l2"),new P(a("lst"),N)),N))),new P(new P(a("if"),new P(a("not-empty"),new P(new P(a("cons"),new P(new P(a("p-each"),new P(a("lst"),new P(a("templ"),N))),new P(new P(a("process-many"),new P(a("ll"),new P(a("templ"),N))),N))),new P(new P(a("quote"),new P(N,N)),N)))),N))))),new Env(e).With("_19_",new L(new P(a("l"),N),new P(a("if"),new P(new P(a("null?"),new P(a("l"),N)),new P(new P(a("quote"),new P(N,N)),new P(new P(a("begin"),new P(new P(a("define"),new P(a("a"),new P(new P(a("car"),new P(a("l"),N)),N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(a("a"),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("not-empty"),new P(true,N))),new P(new P(a("set!"),new P(a("a"),new P(new P(a("cdr"),new P(a("a"),N)),N))),N))),N))),new P(new P(a("cons"),new P(a("a"),new P(new P(a("l2"),new P(new P(a("cdr"),new P(a("l"),N)),N)),N))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["l"]=list.car;r=e["l"]==N!=false?N:(e["a"]=e["l"].car,e["a"]==N==false!=false?(e.set("not-empty",true),e["a"]=e["a"].cdr):null,new P(e["a"],A(e.PE["l2"],new P(e["l"].cdr,N))));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["templ"]=list.cdr.car;r=(e["not-empty"]=false,e["l2"]=e.PE["_19_"].clone(e),e["ll"]=A(e["l2"],new P(e["lst"],N)),e["not-empty"]!=false?new P(A(e.PE.PE["p-each"],new P(e["lst"],new P(e["templ"],N))),A(e.PE.PE["process-many"],new P(e["ll"],new P(e["templ"],N)))):N);if(r!=theTC||r.f!=this)return r}})).With("_16_",new L(new P(a("templ"),N),new P(a("if"),new P(new P(a("null?"),new P(a("templ"),N)),new P(new P(a("quote"),new P(N,N)),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("templ"),N)),new P(new P(a("process-many"),new P(new P(a("map+"),new P(a("gen-many"),new P(a("templ"),N))),new P(a("templ"),N))),new P(new P(a("find-all"),new P(a("templ"),new P(a("vars"),new P(new P(a("quote"),new P(N,N)),N)))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["templ"]=list.car;r=e["templ"]==N!=false?N:e["templ"]instanceof P!=false?TC(e.PE["process-many"],list=new P(A(T.get("map+"),new P(e.PE["gen-many"],new P(e["templ"],N))),new P(e["templ"],N))):TC(e.PE["find-all"],list=new P(e["templ"],new P(e.PE["vars"],new P(N,N))));if(r!=theTC||r.f!=this)return r}})).With("_17_",new L(new P(a("x"),N),new P(a("begin"),new P(new P(a("define"),new P(a("new"),new P(false,N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(a("x"),new P(new P(a("quote"),new P(a("..."),N)),N))),new P(a("x"),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("new"),new P(new P(a("gen-sym"),new P(a("x"),N)),N))),new P(new P(a("set!"),new P(a("vars"),new P(new P(a("cons"),new P(new P(a("cons"),new P(a("x"),new P(a("new"),N))),new P(a("vars"),N))),N))),new P(a("new"),N)))),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=(e["new"]=false,isEq(e["x"],a("..."))!=false?e["x"]:(e["new"]=A(T.get("gen-sym"),new P(e["x"],N)),e.set("vars",new P(new P(e["x"],e["new"]),e.PE["vars"])),e["new"]));if(r!=theTC||r.f!=this)return r}})).With("_18_",new L(new P(a("templ"),new P(a("no..."),N)),new P(a("begin"),new P(new P(a("define"),new P(a("old-vars"),new P(false,N))),new P(new P(a("define"),new P(a("args"),new P(false,N))),new P(new P(a("define"),new P(a("body"),new P(false,N))),new P(new P(a("define"),new P(a("new"),new P(false,N))),new P(new P(a("define"),new P(a("x"),new P(false,N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("templ"),N)),new P(new P(a("quote"),new P(N,N)),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("templ"),N)),new P(new P(a("if"),new P(new P(a("if"),new P(a("no..."),new P(new P(a("eq?"),new P(new P(a("cadr"),new P(a("templ"),N)),new P(new P(a("quote"),new P(a("..."),N)),N))),new P(false,N)))),new P(new P(a("append"),new P(new P(a("gen-many"),new P(new P(a("car"),new P(a("templ"),N)),N)),new P(new P(a("gen"),new P(new P(a("cddr"),new P(a("templ"),N)),new P(a("no..."),N))),N))),new P(new P(a("if"),new P(new P(a("if"),new P(a("no..."),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("templ"),N)),new P(new P(a("quote"),new P(a("lambda"),N)),N))),new P(false,N)))),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("old-vars"),new P(a("vars"),N))),new P(new P(a("set!"),new P(a("args"),new P(new P(a("gen"),new P(new P(a("cadr"),new P(a("templ"),N)),new P(a("no..."),N))),N))),new P(new P(a("set!"),new P(a("body"),new P(new P(a("gen"),new P(new P(a("cddr"),new P(a("templ"),N)),new P(a("no..."),N))),N))),new P(new P(a("set!"),new P(a("vars"),new P(new P(a("quote"),new P(N,N)),N))),new P(new P(a("set!"),new P(a("new"),new P(new P(a("map+"),new P(a("ren"),new P(a("args"),N))),N))),new P(new P(a("set!"),new P(a("new"),new P(new P(a("cons"),new P(new P(a("car"),new P(a("templ"),N)),new P(new P(a("cons"),new P(a("new"),new P(new P(a("gen"),new P(a("body"),new P(false,N))),N))),N))),N))),new P(new P(a("set!"),new P(a("vars"),new P(a("old-vars"),N))),new P(a("new"),N))))))))),new P(new P(a("cons"),new P(new P(a("gen"),new P(new P(a("car"),new P(a("templ"),N)),new P(a("no..."),N))),new P(new P(a("gen"),new P(new P(a("cdr"),new P(a("templ"),N)),new P(a("no..."),N))),N))),N)))),N)))),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("x"),new P(new P(a("assq"),new P(a("templ"),new P(a("vars"),N))),N))),new P(new P(a("if"),new P(a("x"),new P(new P(a("cdr"),new P(a("x"),N)),new P(a("templ"),N)))),N))),N)))),N)))),N))))))),e,function(list){var r,e=new Env(this.env);while(true){e["templ"]=list.car;e["no..."]=list.cdr.car;r=(e["old-vars"]=false,e["args"]=false,e["body"]=false,e["new"]=false,e["x"]=false,e["templ"]==N!=false?N:e["templ"]instanceof P!=false?(e["no..."]!=false?isEq(e["templ"].cdr.car,a("...")):false)!=false?TC(T.get("append"),list=new P(A(e.PE["gen-many"],new P(e["templ"].car,N)),new P(A(e.PE["gen"],new P(e["templ"].cdr.cdr,new P(e["no..."],N))),N))):(e["no..."]!=false?isEq(e["templ"].car,a("lambda")):false)!=false?(e["old-vars"]=e.PE["vars"],e["args"]=A(e.PE["gen"],new P(e["templ"].cdr.car,new P(e["no..."],N))),e["body"]=A(e.PE["gen"],new P(e["templ"].cdr.cdr,new P(e["no..."],N))),e.set("vars",N),e["new"]=A(T.get("map+"),new P(e.PE["ren"],new P(e["args"],N))),e["new"]=new P(e["templ"].car,new P(e["new"],A(e.PE["gen"],new P(e["body"],new P(false,N))))),e.set("vars",e["old-vars"]),e["new"]):new P(A(e.PE["gen"],new P(e["templ"].car,new P(e["no..."],N))),A(e.PE["gen"],new P(e["templ"].cdr,new P(e["no..."],N)))):(e["x"]=A(T.get("assq"),new P(e["templ"],new P(e.PE["vars"],N))),e["x"]!=false?e["x"].cdr:e["templ"]));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["expr"]=list.car;e["literals"]=list.cdr.car;e["p1"]=list.cdr.cdr.car;e["more"]=list.cdr.cdr.cdr;r=(e["vars"]=N,e["match"]=e.PE["_11_"].clone(e),e["match-many"]=e.PE["_12_"].clone(e),e["find-all"]=e.PE["_13_"].clone(e),e["p-each"]=e.PE["_14_"].clone(e),e["process-many"]=e.PE["_15_"].clone(e),e["gen-many"]=e.PE["_16_"].clone(e),e["ren"]=e.PE["_17_"].clone(e),e["gen"]=e.PE["_18_"].clone(e),A(e["match"],new P(e["expr"].cdr,new P(e["p1"].car.cdr,N)))!=false?TC(e["gen"],list=new P(e["p1"].cdr.car,new P(true,N))):e["more"]==N!=false?TC(T.get("error"),list=new P("no pattern matches "+e["expr"].car.name,N)):TC(T.get("syntax-rules"),list=new P(e["expr"],new P(e["literals"],e["more"].ListCopy()))));if(r!=theTC||r.f!=this)return r}});e["and"]=new Syntax(e.get("syntax-rules"),new P(N,new P(new P(new P(a("_"),N),new P(true,N)),new P(new P(new P(a("_"),new P(a("test"),N)),new P(a("test"),N)),new P(new P(new P(a("_"),new P(a("test1"),new P(a("test2"),new P(a("..."),N)))),new P(new P(a("if"),new P(a("test1"),new P(new P(a("and"),new P(a("test2"),new P(a("..."),N))),new P(false,N)))),N)),N)))));e["or"]=new Syntax(e.get("syntax-rules"),new P(N,new P(new P(new P(a("_"),N),new P(false,N)),new P(new P(new P(a("_"),new P(a("test"),N)),new P(a("test"),N)),new P(new P(new P(a("_"),new P(a("test1"),new P(a("test2"),new P(a("..."),N)))),new P(new P(a("let"),new P(new P(new P(a("_tmp_"),new P(a("test1"),N)),N),new P(new P(a("if"),new P(a("_tmp_"),new P(a("_tmp_"),new P(new P(a("or"),new P(a("test2"),new P(a("..."),N))),N)))),N))),N)),N)))));e["let"]=new Syntax(e.get("syntax-rules"),new P(N,new P(new P(new P(a("_"),new P(new P(new P(a("name"),new P(a("val"),N)),new P(a("..."),N)),new P(a("body1"),new P(a("..."),N)))),new P(new P(new P(a("lambda"),new P(new P(a("name"),new P(a("..."),N)),new P(a("body1"),new P(a("..."),N)))),new P(a("val"),new P(a("..."),N))),N)),new P(new P(new P(a("_"),new P(a("tag"),new P(new P(new P(a("name"),new P(a("val"),N)),new P(a("..."),N)),new P(a("body1"),new P(a("..."),N))))),new P(new P(new P(a("letrec"),new P(new P(new P(a("tag"),new P(new P(a("lambda"),new P(new P(a("name"),new P(a("..."),N)),new P(a("body1"),new P(a("..."),N)))),N)),N),new P(a("tag"),N))),new P(a("val"),new P(a("..."),N))),N)),N))));e["cond"]=new Syntax(e.get("syntax-rules"),new P(new P(a("else"),new P(a("=>"),N)),new P(new P(new P(a("_"),new P(new P(a("else"),new P(a("result1"),new P(a("..."),N))),N)),new P(new P(a("begin"),new P(a("result1"),new P(a("..."),N))),N)),new P(new P(new P(a("_"),new P(new P(a("test"),new P(a("=>"),new P(a("result"),N))),N)),new P(new P(a("let"),new P(new P(new P(a("_tmp_"),new P(a("test"),N)),N),new P(new P(a("if"),new P(a("_tmp_"),new P(new P(a("result"),new P(a("_tmp_"),N)),N))),N))),N)),new P(new P(new P(a("_"),new P(new P(a("test"),new P(a("=>"),new P(a("result"),N))),new P(a("clause1"),new P(a("..."),N)))),new P(new P(a("let"),new P(new P(new P(a("_tmp_"),new P(a("test"),N)),N),new P(new P(a("if"),new P(a("_tmp_"),new P(new P(a("result"),new P(a("_tmp_"),N)),new P(new P(a("cond"),new P(a("clause1"),new P(a("..."),N))),N)))),N))),N)),new P(new P(new P(a("_"),new P(new P(a("test"),N),N)),new P(a("test"),N)),new P(new P(new P(a("_"),new P(new P(a("test"),N),new P(a("clause1"),new P(a("..."),N)))),new P(new P(a("let"),new P(new P(new P(a("_tmp_"),new P(a("test"),N)),N),new P(new P(a("if"),new P(a("_tmp_"),new P(a("_tmp_"),new P(new P(a("cond"),new P(a("clause1"),new P(a("..."),N))),N)))),N))),N)),new P(new P(new P(a("_"),new P(new P(a("test"),new P(a("result1"),new P(a("..."),N))),N)),new P(new P(a("if"),new P(a("test"),new P(new P(a("begin"),new P(a("result1"),new P(a("..."),N))),N))),N)),new P(new P(new P(a("_"),new P(new P(a("test"),new P(a("result1"),new P(a("..."),N))),new P(a("clause1"),new P(a("..."),N)))),new P(new P(a("if"),new P(a("test"),new P(new P(a("begin"),new P(a("result1"),new P(a("..."),N))),new P(new P(a("cond"),new P(a("clause1"),new P(a("..."),N))),N)))),N)),N)))))))));e["let*"]=new Syntax(e.get("syntax-rules"),new P(N,new P(new P(new P(a("_"),new P(N,new P(a("body1"),new P(a("..."),N)))),new P(new P(a("begin"),new P(a("body1"),new P(a("..."),N))),N)),new P(new P(new P(a("_"),new P(new P(new P(a("name1"),new P(a("val1"),N)),new P(new P(a("name2"),new P(a("val2"),N)),new P(a("..."),N))),new P(a("body1"),new P(a("..."),N)))),new P(new P(new P(a("lambda"),new P(new P(a("name1"),N),new P(new P(a("let*"),new P(new P(new P(a("name2"),new P(a("val2"),N)),new P(a("..."),N)),new P(a("body1"),new P(a("..."),N)))),N))),new P(a("val1"),N)),N)),N))));e["letrec"]=new Syntax(e.get("syntax-rules"),new P(N,new P(new P(new P(a("_"),new P(new P(new P(a("var1"),new P(a("init1"),N)),new P(a("..."),N)),new P(a("body"),new P(a("..."),N)))),new P(new P(new P(a("lambda"),new P(N,new P(new P(a("define"),new P(a("var1"),new P(false,N))),new P(a("..."),new P(new P(new P(a("lambda"),new P(a("_tmplst_"),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("var1"),new P(new P(a("car"),new P(a("_tmplst_"),N)),N))),new P(new P(a("set!"),new P(a("_tmplst_"),new P(new P(a("cdr"),new P(a("_tmplst_"),N)),N))),N))),new P(a("..."),N)))),new P(a("init1"),new P(a("..."),N))),new P(a("body"),new P(a("..."),N))))))),N),N)),N)));e["let-syntax"]=new Syntax(e.get("syntax-rules"),new P(N,new P(new P(new P(a("_"),new P(new P(new P(a("_var1_"),new P(a("_init1_"),N)),new P(a("..."),N)),new P(a("_body_"),new P(a("..."),N)))),new P(new P(new P(a("lambda"),new P(N,new P(new P(a("define-syntax"),new P(a("_var1_"),new P(a("_init1_"),N))),new P(a("..."),new P(a("_body_"),new P(a("..."),N)))))),N),N)),N)));e["letrec-syntax"]=e.get("let-syntax");e["case"]=new Syntax(e.get("syntax-rules"),new P(new P(a("else"),N),new P(new P(new P(a("_"),new P(new P(a("key"),new P(a("..."),N)),new P(a("clauses"),new P(a("..."),N)))),new P(new P(a("let"),new P(new P(new P(a("_tmp_"),new P(new P(a("key"),new P(a("..."),N)),N)),N),new P(new P(a("case"),new P(a("_tmp_"),new P(a("clauses"),new P(a("..."),N)))),N))),N)),new P(new P(new P(a("_"),new P(a("key"),new P(new P(a("else"),new P(a("result1"),new P(a("..."),N))),N))),new P(new P(a("begin"),new P(a("result1"),new P(a("..."),N))),N)),new P(new P(new P(a("_"),new P(a("key"),new P(new P(new P(a("atoms"),new P(a("..."),N)),new P(a("result1"),new P(a("..."),N))),N))),new P(new P(a("if"),new P(new P(a("memv"),new P(a("key"),new P(new P(a("quote"),new P(new P(a("atoms"),new P(a("..."),N)),N)),N))),new P(new P(a("begin"),new P(a("result1"),new P(a("..."),N))),N))),N)),new P(new P(new P(a("_"),new P(a("key"),new P(new P(new P(a("atoms"),new P(a("..."),N)),new P(a("result1"),new P(a("..."),N))),new P(a("clause"),new P(a("..."),N))))),new P(new P(a("if"),new P(new P(a("memv"),new P(a("key"),new P(new P(a("quote"),new P(new P(a("atoms"),new P(a("..."),N)),N)),N))),new P(new P(a("begin"),new P(a("result1"),new P(a("..."),N))),new P(new P(a("case"),new P(a("key"),new P(a("clause"),new P(a("..."),N)))),N)))),N)),N))))));e["do"]=new Syntax(e.get("syntax-rules"),new P(N,new P(new P(new P(a("_"),new P(new P(new P(a("var"),new P(a("init"),new P(a("step"),N))),new P(a("..."),N)),new P(new P(a("test"),new P(a("expr"),new P(a("..."),N))),new P(a("command"),new P(a("..."),N))))),new P(new P(a("letrec"),new P(new P(new P(a("_loop_"),new P(new P(a("lambda"),new P(new P(a("var"),new P(a("..."),N)),new P(new P(a("if"),new P(a("test"),new P(new P(a("begin"),new P(a("expr"),new P(a("..."),N))),new P(new P(a("begin"),new P(a("command"),new P(a("..."),new P(new P(a("_loop_"),new P(new P(a("do"),new P("step",new P(a("var"),new P(a("step"),N)))),new P(a("..."),N))),N)))),N)))),N))),N)),N),new P(new P(a("_loop_"),new P(a("init"),new P(a("..."),N))),N))),N)),new P(new P(new P(a("_"),new P("step",new P(a("x"),N))),new P(a("x"),N)),new P(new P(new P(a("_"),new P("step",new P(a("x"),new P(a("y"),N)))),new P(a("y"),N)),N)))));e["memq+"]=new L(new P(a("x"),new P(a("ls"),N)),new P(a("if"),new P(new P(a("pair?"),new P(a("ls"),N)),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ls"),N)),new P(a("x"),N))),new P(a("ls"),new P(new P(a("memq+"),new P(a("x"),new P(new P(a("cdr"),new P(a("ls"),N)),N))),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(a("x"),new P(a("ls"),N))),new P(a("ls"),new P(false,N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["ls"]=list.cdr.car;r=e["ls"]instanceof P!=false?isEq(e["ls"].car,e["x"])!=false?e["ls"]:TC(T.get("memq+"),list=new P(e["x"],new P(e["ls"].cdr,N))):isEq(e["x"],e["ls"])!=false?e["ls"]:false;if(r!=theTC||r.f!=this)return r}});e["memq"]=e.get("memq+");e["memv"]=new L(new P(a("x"),new P(a("ls"),N)),new P(a("if"),new P(new P(a("pair?"),new P(a("ls"),N)),new P(new P(a("if"),new P(new P(a("eqv?"),new P(new P(a("car"),new P(a("ls"),N)),new P(a("x"),N))),new P(a("ls"),new P(new P(a("memv"),new P(a("x"),new P(new P(a("cdr"),new P(a("ls"),N)),N))),N)))),new P(new P(a("if"),new P(new P(a("eqv?"),new P(a("x"),new P(a("ls"),N))),new P(a("ls"),new P(false,N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["ls"]=list.cdr.car;r=e["ls"]instanceof P!=false?isEq(e["ls"].car,e["x"])!=false?e["ls"]:TC(T.get("memv"),list=new P(e["x"],new P(e["ls"].cdr,N))):isEq(e["x"],e["ls"])!=false?e["ls"]:false;if(r!=theTC||r.f!=this)return r}});e["member"]=new L(new P(a("x"),new P(a("ls"),N)),new P(a("if"),new P(new P(a("pair?"),new P(a("ls"),N)),new P(new P(a("if"),new P(new P(a("equal?"),new P(new P(a("car"),new P(a("ls"),N)),new P(a("x"),N))),new P(a("ls"),new P(new P(a("member"),new P(a("x"),new P(new P(a("cdr"),new P(a("ls"),N)),N))),N)))),new P(new P(a("if"),new P(new P(a("equal?"),new P(a("x"),new P(a("ls"),N))),new P(a("ls"),new P(false,N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["ls"]=list.cdr.car;r=e["ls"]instanceof P!=false?A(T.get("equal?"),new P(e["ls"].car,new P(e["x"],N)))!=false?e["ls"]:TC(T.get("member"),list=new P(e["x"],new P(e["ls"].cdr,N))):A(T.get("equal?"),new P(e["x"],new P(e["ls"],N)))!=false?e["ls"]:false;if(r!=theTC||r.f!=this)return r}});e["assq"]=new L(new P(a("x"),new P(a("ls"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("ls"),N)),new P(false,new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("caar"),new P(a("ls"),N)),new P(a("x"),N))),new P(new P(a("car"),new P(a("ls"),N)),new P(new P(a("assq"),new P(a("x"),new P(new P(a("cdr"),new P(a("ls"),N)),N))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["ls"]=list.cdr.car;r=e["ls"]==N!=false?false:isEq(e["ls"].car.car,e["x"])!=false?e["ls"].car:TC(T.get("assq"),list=new P(e["x"],new P(e["ls"].cdr,N)));if(r!=theTC||r.f!=this)return r}});e["assv"]=new L(new P(a("x"),new P(a("ls"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("ls"),N)),new P(false,new P(new P(a("if"),new P(new P(a("eqv?"),new P(new P(a("caar"),new P(a("ls"),N)),new P(a("x"),N))),new P(new P(a("car"),new P(a("ls"),N)),new P(new P(a("assv"),new P(a("x"),new P(new P(a("cdr"),new P(a("ls"),N)),N))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["ls"]=list.cdr.car;r=e["ls"]==N!=false?false:isEq(e["ls"].car.car,e["x"])!=false?e["ls"].car:TC(T.get("assv"),list=new P(e["x"],new P(e["ls"].cdr,N)));if(r!=theTC||r.f!=this)return r}});e["assoc"]=new L(new P(a("x"),new P(a("ls"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("ls"),N)),new P(false,new P(new P(a("if"),new P(new P(a("equal?"),new P(new P(a("caar"),new P(a("ls"),N)),new P(a("x"),N))),new P(new P(a("car"),new P(a("ls"),N)),new P(new P(a("assoc"),new P(a("x"),new P(new P(a("cdr"),new P(a("ls"),N)),N))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["ls"]=list.cdr.car;r=e["ls"]==N!=false?false:A(T.get("equal?"),new P(e["ls"].car.car,new P(e["x"],N)))!=false?e["ls"].car:TC(T.get("assoc"),list=new P(e["x"],new P(e["ls"].cdr,N)));if(r!=theTC||r.f!=this)return r}});e["list?"]=A(new L(N,new P(a("begin"),new P(new P(a("define"),new P(a("race"),new P(new P(a("clone"),new P(a("_20_"),N)),N))),new P(new P(a("clone"),new P(a("_21_"),N)),N))),new Env(e).With("_20_",new L(new P(a("h"),new P(a("t"),N)),new P(a("if"),new P(new P(a("pair?"),new P(a("h"),N)),new P(new P(new P(a("clone"),new P(a("_22_"),N)),new P(new P(a("cdr"),new P(a("h"),N)),N)),new P(new P(a("null?"),new P(a("h"),N)),N)))),new Env(e).With("_22_",new L(new P(a("h"),N),new P(a("if"),new P(new P(a("pair?"),new P(a("h"),N)),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("eq?"),new P(a("h"),new P(a("t"),N))),N)),new P(new P(a("race"),new P(new P(a("cdr"),new P(a("h"),N)),new P(new P(a("cdr"),new P(a("t"),N)),N))),new P(false,N)))),new P(new P(a("null?"),new P(a("h"),N)),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["h"]=list.car;r=e["h"]instanceof P!=false?isEq(e["h"],e.PE["t"])==false!=false?TC(e.PE.PE.PE["race"],list=new P(e["h"].cdr,new P(e.PE["t"].cdr,N))):false:e["h"]==N;if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["h"]=list.car;e["t"]=list.cdr.car;r=e["h"]instanceof P!=false?TC(e.PE["_22_"].clone(e),list=new P(e["h"].cdr,N)):e["h"]==N;if(r!=theTC||r.f!=this)return r}})).With("_21_",new L(new P(a("x"),N),new P(a("race"),new P(a("x"),new P(a("x"),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=TC(e.PE["race"],list=new P(e["x"],new P(e["x"],N)));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){r=(e["race"]=e.PE["_20_"].clone(e),e.PE["_21_"].clone(e));if(r!=theTC||r.f!=this)return r}}),N);e["equal?"]=new L(new P(a("x"),new P(a("y"),N)),new P(new P(a("clone"),new P(a("_23_"),N)),new P(new P(a("eqv?"),new P(a("x"),new P(a("y"),N))),N)),new Env(e).With("_23_",new L(new P(a("eqv"),N),new P(a("if"),new P(a("eqv"),new P(a("eqv"),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("x"),N)),new P(new P(a("begin"),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("y"),N)),new P(new P(a("if"),new P(new P(a("equal?"),new P(new P(a("car"),new P(a("x"),N)),new P(new P(a("car"),new P(a("y"),N)),N))),new P(new P(a("equal?"),new P(new P(a("cdr"),new P(a("x"),N)),new P(new P(a("cdr"),new P(a("y"),N)),N))),new P(false,N)))),new P(false,N)))),N)),new P(new P(a("if"),new P(new P(a("vector?"),new P(a("x"),N)),new P(new P(a("if"),new P(new P(a("vector?"),new P(a("y"),N)),new P(new P(new P(a("clone"),new P(a("_24_"),N)),new P(new P(a("vector-length"),new P(a("x"),N)),N)),new P(false,N)))),new P(false,N)))),N)))),N)))),new Env(e).With("_24_",new L(new P(a("n"),N),new P(a("if"),new P(new P(a("="),new P(new P(a("vector-length"),new P(a("y"),N)),new P(a("n"),N))),new P(new P(new P(a("begin"),new P(new P(a("define"),new P(a("loop"),new P(new P(a("clone"),new P(a("_25_"),N)),N))),new P(a("loop"),N))),new P(0,N)),new P(false,N)))),new Env(e).With("_25_",new L(new P(a("i"),N),new P(new P(a("clone"),new P(a("_26_"),N)),new P(new P(a("="),new P(a("i"),new P(a("n"),N))),N)),new Env(e).With("_26_",new L(new P(a("eq-len"),N),new P(a("if"),new P(a("eq-len"),new P(a("eq-len"),new P(new P(a("if"),new P(new P(a("equal?"),new P(new P(a("vector-ref"),new P(a("x"),new P(a("i"),N))),new P(new P(a("vector-ref"),new P(a("y"),new P(a("i"),N))),N))),new P(new P(a("loop"),new P(new P(a("+"),new P(a("i"),new P(1,N))),N)),new P(false,N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["eq-len"]=list.car;r=e["eq-len"]!=false?e["eq-len"]:A(T.get("equal?"),new P(A(T.get("vector-ref"),new P(e.PE.PE.PE.PE.PE.PE.PE["x"],new P(e.PE["i"],N))),new P(A(T.get("vector-ref"),new P(e.PE.PE.PE.PE.PE.PE.PE["y"],new P(e.PE["i"],N))),N)))!=false?TC(e.PE.PE.PE["loop"],list=new P(e.PE["i"]+1,N)):false;if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["i"]=list.car;r=TC(e.PE["_26_"].clone(e),list=new P(isEq(e["i"],e.PE.PE["n"]),N));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["n"]=list.car;r=isEq(A(T.get("vector-length"),new P(e.PE.PE.PE.PE["y"],N)),e["n"])!=false?TC((e["loop"]=e.PE["_25_"].clone(e),e["loop"]),list=new P(0,N)):false;if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["eqv"]=list.car;r=e["eqv"]!=false?e["eqv"]:e.PE.PE["x"]instanceof P!=false?e.PE.PE["y"]instanceof P!=false?A(T.get("equal?"),new P(e.PE.PE["x"].car,new P(e.PE.PE["y"].car,N)))!=false?TC(T.get("equal?"),list=new P(e.PE.PE["x"].cdr,new P(e.PE.PE["y"].cdr,N))):false:false:A(T.get("vector?"),new P(e.PE.PE["x"],N))!=false?A(T.get("vector?"),new P(e.PE.PE["y"],N))!=false?TC(e.PE["_24_"].clone(e),list=new P(A(T.get("vector-length"),new P(e.PE.PE["x"],N)),N)):false:false;if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=TC(e.PE["_23_"].clone(e),list=new P(isEq(e["x"],e["y"]),N));if(r!=theTC||r.f!=this)return r}});e["values"]=new L(a("things"),new P(a("call/cc"),new P(new P(a("clone"),new P(a("_27_"),N)),N)),new Env(e).With("_27_",new L(new P(a("cont"),N),new P(a("apply"),new P(a("cont"),new P(a("things"),N))),e,function(list){var r,e=new Env(this.env);while(true){e["cont"]=list.car;r=TC(e["cont"],list=e.PE["things"].ListCopy());if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["things"]=list;r=TC(T.get("call/cc"),list=new P(e.PE["_27_"].clone(e),N));if(r!=theTC||r.f!=this)return r}});e["call-with-values"]=new L(new P(a("producer"),new P(a("consumer"),N)),new P(a("consumer"),new P(new P(a("producer"),N),N)),e,function(list){var r,e=new Env(this.env);while(true){e["producer"]=list.car;e["consumer"]=list.cdr.car;r=TC(e["consumer"],list=new P(A(e["producer"],N),N));if(r!=theTC||r.f!=this)return r}});e["for-each"]=new L(new P(a("f"),a("lst")),new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(new P(a("car"),new P(a("lst"),N)),N)),N)),new P(new P(a("begin"),new P(new P(a("apply"),new P(a("f"),new P(new P(a("map+"),new P(a("car"),new P(a("lst"),N))),N))),new P(new P(a("apply"),new P(a("for-each"),new P(a("f"),new P(new P(a("map+"),new P(a("cdr"),new P(a("lst"),N))),N)))),N))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["f"]=list.car;e["lst"]=list.cdr;r=e["lst"].car==N==false!=false?(A(e["f"],A(T.get("map+"),new P(T.get("car"),new P(e["lst"],N))).ListCopy()),TC(T.get("for-each"),list=new P(e["f"],A(T.get("map+"),new P(T.get("cdr"),new P(e["lst"],N))).ListCopy()))):null;if(r!=theTC||r.f!=this)return r}});e["delay"]=new Syntax(e.get("syntax-rules"),new P(N,new P(new P(new P(a("_"),new P(a("exp"),N)),new P(new P(a("make-promise"),new P(new P(a("lambda"),new P(N,new P(a("exp"),N))),N)),N)),N)));e["make-promise"]=new L(new P(a("p"),N),new P(new P(a("clone"),new P(a("_28_"),N)),N),new Env(e).With("_28_",new L(N,new P(a("begin"),new P(new P(a("define"),new P(a("val"),new P(false,N))),new P(new P(a("define"),new P(a("set?"),new P(false,N))),new P(new P(a("clone"),new P(a("_29_"),N)),N)))),new Env(e).With("_29_",new L(N,new P(a("begin"),new P(new P(a("if"),new P(new P(a("not"),new P(a("set?"),N)),new P(new P(a("begin"),new P(new P(a("define"),new P(a("x"),new P(new P(a("p"),N),N))),new P(new P(a("if"),new P(new P(a("not"),new P(a("set?"),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("val"),new P(a("x"),N))),new P(new P(a("set!"),new P(a("set?"),new P(true,N))),N))),N))),N))),N))),new P(a("val"),N))),e,function(list){var r,e=new Env(this.env);while(true){r=(e.PE["set?"]==false!=false?(e["x"]=A(e.PE.PE.PE["p"],N),e.PE["set?"]==false!=false?(e.set("val",e["x"]),e.set("set?",true)):null):null,e.PE["val"]);if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){r=(e["val"]=false,e["set?"]=false,e.PE["_29_"].clone(e));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["p"]=list.car;r=TC(e.PE["_28_"].clone(e),list=N);if(r!=theTC||r.f!=this)return r}});e["force"]=new L(new P(a("promise"),N),new P(a("promise"),N),e,function(list){var r,e=new Env(this.env);while(true){e["promise"]=list.car;r=TC(e["promise"],list=N);if(r!=theTC||r.f!=this)return r}});e["string-copy"]=new L(new P(a("x"),N),a("x"),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=e["x"];if(r!=theTC||r.f!=this)return r}});e["vector-fill!"]=new L(new P(a("v"),new P(a("obj"),N)),new P(a("begin"),new P(new P(a("define"),new P(a("l"),new P(new P(a("vector-length"),new P(a("v"),N)),N))),new P(new P(a("define"),new P(a("vf"),new P(new P(a("clone"),new P(a("_30_"),N)),N))),new P(new P(a("vf"),new P(0,N)),N)))),new Env(e).With("_30_",new L(new P(a("i"),N),new P(a("if"),new P(new P(a("<"),new P(a("i"),new P(a("l"),N))),new P(new P(a("begin"),new P(new P(a("vector-set!"),new P(a("v"),new P(a("i"),new P(a("obj"),N)))),new P(new P(a("vf"),new P(new P(a("+"),new P(a("i"),new P(1,N))),N)),N))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["i"]=list.car;r=e["i"]<e.PE["l"]!=false?(A(T.get("vector-set!"),new P(e.PE["v"],new P(e["i"],new P(e.PE["obj"],N)))),TC(e.PE["vf"],list=new P(e["i"]+1,N))):null;if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["v"]=list.car;e["obj"]=list.cdr.car;r=(e["l"]=A(T.get("vector-length"),new P(e["v"],N)),e["vf"]=e.PE["_30_"].clone(e),TC(e["vf"],list=new P(0,N)));if(r!=theTC||r.f!=this)return r}});e["vector->list"]=new L(new P(a("v"),N),new P(a("begin"),new P(new P(a("define"),new P(a("loop"),new P(new P(a("clone"),new P(a("_31_"),N)),N))),new P(new P(a("loop"),new P(new P(a("-"),new P(new P(a("vector-length"),new P(a("v"),N)),new P(1,N))),new P(new P(a("quote"),new P(N,N)),N))),N))),new Env(e).With("_31_",new L(new P(a("i"),new P(a("l"),N)),new P(a("if"),new P(new P(a("<"),new P(a("i"),new P(0,N))),new P(a("l"),new P(new P(a("loop"),new P(new P(a("-"),new P(a("i"),new P(1,N))),new P(new P(a("cons"),new P(new P(a("vector-ref"),new P(a("v"),new P(a("i"),N))),new P(a("l"),N))),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["i"]=list.car;e["l"]=list.cdr.car;r=e["i"]<0!=false?e["l"]:TC(e.PE["loop"],list=new P(e["i"]-1,new P(new P(A(T.get("vector-ref"),new P(e.PE["v"],new P(e["i"],N))),e["l"]),N)));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["v"]=list.car;r=(e["loop"]=e.PE["_31_"].clone(e),TC(e["loop"],list=new P(A(T.get("vector-length"),new P(e["v"],N))-1,new P(N,N))));if(r!=theTC||r.f!=this)return r}});e["list->vector"]=new L(new P(a("l"),N),new P(a("begin"),new P(new P(a("define"),new P(a("v"),new P(new P(a("make-vector"),new P(0,N)),N))),new P(new P(a("define"),new P(a("loop"),new P(new P(a("clone"),new P(a("_32_"),N)),N))),new P(new P(a("loop"),new P(0,new P(a("l"),N))),new P(a("v"),N))))),new Env(e).With("_32_",new L(new P(a("i"),new P(a("l"),N)),new P(a("if"),new P(new P(a("pair?"),new P(a("l"),N)),new P(new P(a("begin"),new P(new P(a("vector-set!"),new P(a("v"),new P(a("i"),new P(new P(a("car"),new P(a("l"),N)),N)))),new P(new P(a("loop"),new P(new P(a("+"),new P(a("i"),new P(1,N))),new P(new P(a("cdr"),new P(a("l"),N)),N))),N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(a("l"),N)),N)),new P(new P(a("vector-set!"),new P(a("v"),new P(a("i"),new P(a("l"),N)))),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["i"]=list.car;e["l"]=list.cdr.car;r=e["l"]instanceof P!=false?(A(T.get("vector-set!"),new P(e.PE["v"],new P(e["i"],new P(e["l"].car,N)))),TC(e.PE["loop"],list=new P(e["i"]+1,new P(e["l"].cdr,N)))):e["l"]==N==false!=false?TC(T.get("vector-set!"),list=new P(e.PE["v"],new P(e["i"],new P(e["l"],N)))):null;if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["l"]=list.car;r=(e["v"]=A(T.get("make-vector"),new P(0,N)),e["loop"]=e.PE["_32_"].clone(e),A(e["loop"],new P(0,new P(e["l"],N))),e["v"]);if(r!=theTC||r.f!=this)return r}});e["dynamic-wind"]=false;A(new L(N,new P(a("begin"),new P(new P(a("define"),new P(a("winders"),new P(new P(a("quote"),new P(N,N)),N))),new P(new P(a("define"),new P(a("common-tail"),new P(new P(a("clone"),new P(a("_33_"),N)),N))),new P(new P(a("define"),new P(a("do-wind"),new P(new P(a("clone"),new P(a("_34_"),N)),N))),new P(new P(new P(a("clone"),new P(a("_35_"),N)),new P(a("call/cc"),N)),new P(new P(a("set!"),new P(a("call-with-current-continuation"),new P(a("call/cc"),N))),new P(new P(a("set!"),new P(a("dynamic-wind"),new P(new P(a("clone"),new P(a("_36_"),N)),N))),N))))))),new Env(e).With("_33_",new L(new P(a("x"),new P(a("y"),N)),new P(a("begin"),new P(new P(a("define"),new P(a("lx"),new P(new P(a("length"),new P(a("x"),N)),N))),new P(new P(a("define"),new P(a("ly"),new P(new P(a("length"),new P(a("y"),N)),N))),new P(new P(a("define"),new P(a("loop"),new P(new P(a("clone"),new P(a("_37_"),N)),N))),new P(new P(a("loop"),new P(new P(a("if"),new P(new P(a(">"),new P(a("lx"),new P(a("ly"),N))),new P(new P(a("list-tail"),new P(a("x"),new P(new P(a("-"),new P(a("lx"),new P(a("ly"),N))),N))),new P(a("x"),N)))),new P(new P(a("if"),new P(new P(a(">"),new P(a("ly"),new P(a("lx"),N))),new P(new P(a("list-tail"),new P(a("y"),new P(new P(a("-"),new P(a("ly"),new P(a("lx"),N))),N))),new P(a("y"),N)))),N))),N))))),new Env(e).With("_37_",new L(new P(a("x"),new P(a("y"),N)),new P(a("if"),new P(new P(a("eq?"),new P(a("x"),new P(a("y"),N))),new P(a("x"),new P(new P(a("loop"),new P(new P(a("cdr"),new P(a("x"),N)),new P(new P(a("cdr"),new P(a("y"),N)),N))),N)))),e,function(list){var r,e=new Env(this.env);
while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=isEq(e["x"],e["y"])!=false?e["x"]:TC(e.PE["loop"],list=new P(e["x"].cdr,new P(e["y"].cdr,N)));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;e["y"]=list.cdr.car;r=(e["lx"]=A(T.get("length"),new P(e["x"],N)),e["ly"]=A(T.get("length"),new P(e["y"],N)),e["loop"]=e.PE["_37_"].clone(e),TC(e["loop"],list=new P(e["lx"]>e["ly"]!=false?A(T.get("list-tail"),new P(e["x"],new P(e["lx"]-e["ly"],N))):e["x"],new P(e["ly"]>e["lx"]!=false?A(T.get("list-tail"),new P(e["y"],new P(e["ly"]-e["lx"],N))):e["y"],N))));if(r!=theTC||r.f!=this)return r}})).With("_34_",new L(new P(a("new"),N),new P(a("begin"),new P(new P(a("define"),new P(a("tail"),new P(new P(a("common-tail"),new P(a("new"),new P(a("winders"),N))),N))),new P(new P(a("define"),new P(a("f1"),new P(new P(a("clone"),new P(a("_38_"),N)),N))),new P(new P(a("define"),new P(a("f2"),new P(new P(a("clone"),new P(a("_39_"),N)),N))),new P(new P(a("f1"),new P(a("winders"),N)),new P(new P(a("f2"),new P(a("new"),N)),N)))))),new Env(e).With("_38_",new L(new P(a("l"),N),new P(a("if"),new P(new P(a("not"),new P(new P(a("eq?"),new P(a("l"),new P(a("tail"),N))),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("winders"),new P(new P(a("cdr"),new P(a("l"),N)),N))),new P(new P(new P(a("cdar"),new P(a("l"),N)),N),new P(new P(a("f1"),new P(new P(a("cdr"),new P(a("l"),N)),N)),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["l"]=list.car;r=isEq(e["l"],e.PE["tail"])==false!=false?(e.set("winders",e["l"].cdr),A(e["l"].car.cdr,N),TC(e.PE["f1"],list=new P(e["l"].cdr,N))):null;if(r!=theTC||r.f!=this)return r}})).With("_39_",new L(new P(a("l"),N),new P(a("if"),new P(new P(a("not"),new P(new P(a("eq?"),new P(a("l"),new P(a("tail"),N))),N)),new P(new P(a("begin"),new P(new P(a("f2"),new P(new P(a("cdr"),new P(a("l"),N)),N)),new P(new P(new P(a("caar"),new P(a("l"),N)),N),new P(new P(a("set!"),new P(a("winders"),new P(a("l"),N))),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["l"]=list.car;r=isEq(e["l"],e.PE["tail"])==false!=false?(A(e.PE["f2"],new P(e["l"].cdr,N)),A(e["l"].car.car,N),e.set("winders",e["l"])):null;if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["new"]=list.car;r=(e["tail"]=A(e.PE.PE["common-tail"],new P(e["new"],new P(e.PE.PE["winders"],N))),e["f1"]=e.PE["_38_"].clone(e),e["f2"]=e.PE["_39_"].clone(e),A(e["f1"],new P(e.PE.PE["winders"],N)),TC(e["f2"],list=new P(e["new"],N)));if(r!=theTC||r.f!=this)return r}})).With("_35_",new L(new P(a("c"),N),new P(a("set!"),new P(a("call/cc"),new P(new P(a("clone"),new P(a("_40_"),N)),N))),new Env(e).With("_40_",new L(new P(a("f"),N),new P(a("c"),new P(new P(a("clone"),new P(a("_41_"),N)),N)),new Env(e).With("_41_",new L(new P(a("k"),N),new P(a("f"),new P(new P(new P(a("clone"),new P(a("_42_"),N)),new P(a("winders"),N)),N)),new Env(e).With("_42_",new L(new P(a("save"),N),new P(a("clone"),new P(a("_43_"),N)),new Env(e).With("_43_",new L(a("x"),new P(a("begin"),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("eq?"),new P(a("save"),new P(a("winders"),N))),N)),new P(new P(a("do-wind"),new P(a("save"),N)),N))),new P(new P(a("apply"),new P(a("k"),new P(a("x"),N))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list;r=(isEq(e.PE["save"],e.PE.PE.PE.PE.PE.PE.PE.PE.PE["winders"])==false!=false?A(e.PE.PE.PE.PE.PE.PE.PE.PE.PE["do-wind"],new P(e.PE["save"],N)):null,TC(e.PE.PE.PE["k"],list=e["x"].ListCopy()));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["save"]=list.car;r=e.PE["_43_"].clone(e);if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["k"]=list.car;r=TC(e.PE.PE["f"],list=new P(A(e.PE["_42_"].clone(e),new P(e.PE.PE.PE.PE.PE.PE["winders"],N)),N));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["f"]=list.car;r=TC(e.PE.PE["c"],list=new P(e.PE["_41_"].clone(e),N));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["c"]=list.car;r=e.set("call/cc",e.PE["_40_"].clone(e));if(r!=theTC||r.f!=this)return r}})).With("_36_",new L(new P(a("in"),new P(a("body"),new P(a("out"),N))),new P(a("begin"),new P(new P(a("define"),new P(a("ans"),new P(false,N))),new P(new P(a("in"),N),new P(new P(a("set!"),new P(a("winders"),new P(new P(a("cons"),new P(new P(a("cons"),new P(a("in"),new P(a("out"),N))),new P(a("winders"),N))),N))),new P(new P(a("set!"),new P(a("ans"),new P(new P(a("body"),N),N))),new P(new P(a("set!"),new P(a("winders"),new P(new P(a("cdr"),new P(a("winders"),N)),N))),new P(new P(a("out"),N),new P(a("ans"),N)))))))),e,function(list){var r,e=new Env(this.env);while(true){e["in"]=list.car;e["body"]=list.cdr.car;e["out"]=list.cdr.cdr.car;r=(e["ans"]=false,A(e["in"],N),e.set("winders",new P(new P(e["in"],e["out"]),e.PE["winders"])),e["ans"]=A(e["body"],N),e.set("winders",e.PE["winders"].cdr),A(e["out"],N),e["ans"]);if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){r=(e["winders"]=N,e["common-tail"]=e.PE["_33_"].clone(e),e["do-wind"]=e.PE["_34_"].clone(e),A(e.PE["_35_"].clone(e),new P(T.get("call/cc"),N)),e.set("call-with-current-continuation",T.get("call/cc")),e.set("dynamic-wind",e.PE["_36_"].clone(e)));if(r!=theTC||r.f!=this)return r}}),N);e["js-char"]=new L(new P(a("c"),N),new P(a("begin"),new P(new P(a("define"),new P(a("char-code"),new P(new P(a("char->integer"),new P(a("c"),N)),N))),new P(new P(a("if"),new P(new P(a(">="),new P(a("char-code"),new P(32,N))),new P(new P(a("string"),new P(a("c"),N)),new P(new P(a("string-append"),new P("\\x",new P(new P(a("if"),new P(new P(a("<"),new P(a("char-code"),new P(16,N))),new P("0",new P("",N)))),new P(new P(a("number->string"),new P(a("char-code"),new P(16,N))),N)))),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["c"]=list.car;r=(e["char-code"]=A(T.get("char->integer"),new P(e["c"],N)),e["char-code"]>=32!=false?TC(T.get("string"),list=new P(e["c"],N)):"\\x"+(e["char-code"]<16!=false?"0":"")+A(T.get("number->string"),new P(e["char-code"],new P(16,N))));if(r!=theTC||r.f!=this)return r}});e["c"]=new L(new P(a("ex"),a("tt")),new P(a("begin"),new P(new P(a("define"),new P(a("tail"),new P(false,N))),new P(new P(a("define"),new P(a("locs"),new P(false,N))),new P(new P(a("define"),new P(a("app"),new P("A",N))),new P(new P(a("define"),new P(a("prefix"),new P("",N))),new P(new P(a("define"),new P(a("suffix"),new P("",N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(a("tt"),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("locs"),new P(new P(a("car"),new P(a("tt"),N)),N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("tt"),N)),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("tail"),new P(new P(a("cadr"),new P(a("tt"),N)),N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(new P(a("cddr"),new P(a("tt"),N)),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("prefix"),new P(new P(a("caddr"),new P(a("tt"),N)),N))),new P(new P(a("set!"),new P(a("suffix"),new P(new P(a("cadddr"),new P(a("tt"),N)),N))),N))),N))),N))),N))),N))),N))),new P(new P(a("if"),new P(a("tail"),new P(new P(a("set!"),new P(a("app"),new P("TC",N))),N))),new P(new P(a("if"),new P(new P(a("number?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("number->string"),new P(a("ex"),N)),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("symbol?"),new P(a("ex"),N)),new P(new P(a("if"),new P(a("locs"),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("locs"),new P(new P(a("quote"),new P(a("gen"),N)),new P(a("ex"),new P("e",N)))),new P(a("suffix"),N)))),new P(new P(a("string-append"),new P(a("prefix"),new P("e.get('",new P(new P(a("symbol->string"),new P(a("ex"),N)),new P("')",new P(a("suffix"),N)))))),N)))),new P(new P(a("if"),new P(new P(a("string?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("str"),new P(a("ex"),N)),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("char?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P("getChar('",new P(new P(a("js-char"),new P(a("ex"),N)),new P("')",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("ex"),N)),new P(new P(a("error"),new P("cannot c ()",N)),new P(new P(a("if"),new P(new P(a("boolean?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("if"),new P(a("ex"),new P("true",new P("false",N)))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("vector?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P(a("app"),new P("(e.get('list->vector'),",new P(new P(a("if"),new P(a("tail"),new P("list=",new P("",N)))),new P("new P(",new P(new P(a("c-quote"),new P(new P(a("vector->list"),new P(a("ex"),N)),N)),new P(",N),e)",new P(a("suffix"),N))))))))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("pair?"),new P(a("ex"),N)),N)),new P(new P(a("error"),new P(new P(a("string-append"),new P("cannot c ",new P(new P(a("str"),new P(a("ex"),N)),N))),N)),new P(new P(a("c-pair"),new P(a("ex"),new P(a("locs"),new P(a("tail"),new P(a("prefix"),new P(a("suffix"),new P(a("app"),N))))))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N))))))))),e,function(list){var r,e=new Env(this.env);while(true){e["ex"]=list.car;e["tt"]=list.cdr;r=(e["tail"]=false,e["locs"]=false,e["app"]="A",e["prefix"]="",e["suffix"]="",e["tt"]==N==false!=false?(e["locs"]=e["tt"].car,e["tt"].cdr==N==false!=false?(e["tail"]=e["tt"].cdr.car,e["tt"].cdr.cdr==N==false!=false?(e["prefix"]=e["tt"].cdr.cdr.car,e["suffix"]=e["tt"].cdr.cdr.cdr.car):null):null):null,e["tail"]!=false?e["app"]="TC":null,typeof e["ex"]=="number"!=false?e["prefix"]+A(T.get("number->string"),new P(e["ex"],N))+e["suffix"]:e["ex"]instanceof Symbol!=false?e["locs"]!=false?e["prefix"]+A(e["locs"],new P(a("gen"),new P(e["ex"],new P("e",N))))+e["suffix"]:e["prefix"]+"e.get('"+e["ex"].name+"')"+e["suffix"]:typeof e["ex"]=="string"!=false?e["prefix"]+Str(e["ex"])+e["suffix"]:e["ex"]instanceof Char!=false?e["prefix"]+"getChar('"+A(T.get("js-char"),new P(e["ex"],N))+"')"+e["suffix"]:e["ex"]==N!=false?TC(T.get("error"),list=new P("cannot c ()",N)):typeof e["ex"]=="boolean"!=false?e["prefix"]+(e["ex"]!=false?"true":"false")+e["suffix"]:A(T.get("vector?"),new P(e["ex"],N))!=false?e["prefix"]+e["app"]+"(e.get('list->vector'),"+(e["tail"]!=false?"list=":"")+"new P("+A(T.get("c-quote"),new P(A(T.get("vector->list"),new P(e["ex"],N)),N))+",N),e)"+e["suffix"]:e["ex"]instanceof P==false!=false?TC(T.get("error"),list=new P("cannot c "+Str(e["ex"]),N)):TC(T.get("c-pair"),list=new P(e["ex"],new P(e["locs"],new P(e["tail"],new P(e["prefix"],new P(e["suffix"],new P(e["app"],N))))))));if(r!=theTC||r.f!=this)return r}});e["c-pair"]=new L(new P(a("ex"),new P(a("locs"),new P(a("tail"),new P(a("prefix"),new P(a("suffix"),new P(a("app"),N)))))),new P(a("begin"),new P(new P(a("define"),new P(a("list-len"),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("locs"),N)),new P(new P(a("length"),new P(a("locs"),N)),new P(false,N)))),N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("begin"),N)),N))),new P(new P(a("c-begin"),new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),new P(a("tail"),new P(a("prefix"),new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("quote"),N)),N))),new P(new P(a("c-quote"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("prefix"),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("not"),N)),N))),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),new P(false,new P(new P(a("string-append"),new P(a("prefix"),new P("(",N))),new P(new P(a("string-append"),new P("==false)",new P(a("suffix"),N))),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("symbol->string"),N)),N))),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),new P(false,new P(a("prefix"),new P(new P(a("string-append"),new P(a("suffix"),new P(".name",N))),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("car"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".car",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cdr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("caar"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".car.car",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cadr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr.car",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cdar"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".car.cdr",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cddr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr.cdr",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("caaar"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".car.car.car",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("caddr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr.cdr.car",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cdaar"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".car.car.cdr",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cdddr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr.cdr.cdr",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("caaddr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr.cdr.car.car",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cadddr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr.cdr.cdr.car",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cdaddr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr.cdr.car.cdr",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cddddr"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".cdr.cdr.cdr.cdr",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("cons"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("new P(",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(",",new P(new P(a("c"),new P(new P(a("caddr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")",new P(a("suffix"),N)))))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("boolean?"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("(typeof(",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")=='boolean')",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("string?"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("(typeof(",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")=='string')",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("number?"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("(typeof(",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")=='number')",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("char?"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("((",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")instanceof Char)",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("symbol?"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("((",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")instanceof Symbol)",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("syntax?"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("((",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")instanceof Syntax)",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("null?"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("(",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P("==N)",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("pair?"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("((",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")instanceof P)",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("str"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("Str(",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("clone"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(".clone(e)",new P(a("suffix"),N))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("get-prop"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P("[",new P(new P(a("str"),new P(new P(a("caddr"),new P(a("ex"),N)),N)),new P("]",new P(a("suffix"),N))))))),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a(">"),N)),N))),new P(true,new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("<"),N)),N))),new P(true,new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a(">="),N)),N))),new P(true,new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("<="),N)),N))),N)))),N)))),N)))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c-predicate"),new P(new P(a("symbol->string"),new P(new P(a("car"),new P(a("ex"),N)),N)),new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),N)))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("+"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c-append"),new P("0",new P("+",new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),N))))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("*"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c-append"),new P("1",new P("*",new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),N))))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("-"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c-minus"),new P("-",new P("-",new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),N))))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("/"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c-minus"),new P("1/",new P("/",new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),N))))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("string-append"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c-append"),new P("''",new P("+",new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),N))))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("eq?"),N)),N))),new P(true,new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("="),N)),N))),new P(true,new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("eqv?"),N)),N))),new P(true,new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("string=?"),N)),N))),new P(true,new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("char=?"),N)),N))),N)))),N)))),N)))),N)))),new P(new P(a("string-append"),new P(a("prefix"),new P("isEq(",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(",",new P(new P(a("c"),new P(new P(a("caddr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")",new P(a("suffix"),N)))))))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("list"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c-list"),new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("if"),N)),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdddr"),new P(a("ex"),N)),N)),new P(new P(a("c"),new P(new P(a("caddr"),new P(a("ex"),N)),new P(a("locs"),new P(a("tail"),new P(new P(a("string-append"),new P(a("prefix"),new P("((",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")!=false?",N))))),new P(new P(a("string-append"),new P(":null)",new P(a("suffix"),N))),N)))))),new P(new P(a("c"),new P(new P(a("cadddr"),new P(a("ex"),N)),new P(a("locs"),new P(a("tail"),new P(new P(a("string-append"),new P(a("prefix"),new P("((",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")!=false?",new P(new P(a("c"),new P(new P(a("caddr"),new P(a("ex"),N)),new P(a("locs"),new P(a("tail"),N)))),new P(":",N))))))),new P(new P(a("string-append"),new P(")",new P(a("suffix"),N))),N)))))),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("define-syntax"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("e['",new P(new P(a("symbol->string"),new P(new P(a("cadr"),new P(a("ex"),N)),N)),new P("']=new Syntax(e.get('",new P(new P(a("symbol->string"),new P(new P(a("caaddr"),new P(a("ex"),N)),N)),new P("'),",new P(new P(a("c-quote"),new P(new P(a("cdaddr"),new P(a("ex"),N)),N)),new P(")",new P(a("suffix"),N)))))))))),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("define"),N)),N))),new P(new P(a("symbol?"),new P(new P(a("cadr"),new P(a("ex"),N)),N)),new P(false,N)))),new P(new P(a("begin"),new P(new P(a("if"),new P(a("locs"),new P(new P(a("locs"),new P(new P(a("quote"),new P(a("add"),N)),new P(new P(a("cadr"),new P(a("ex"),N)),N))),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("e['",new P(new P(a("symbol->string"),new P(new P(a("cadr"),new P(a("ex"),N)),N)),new P("']=",new P(new P(a("c"),new P(new P(a("caddr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(a("suffix"),N))))))),N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("set!"),N)),N))),new P(new P(a("if"),new P(new P(a("if"),new P(a("locs"),new P(new P(a("locs"),new P(new P(a("quote"),new P(a("memq"),N)),new P(new P(a("cadr"),new P(a("ex"),N)),N))),new P(false,N)))),new P(new P(a("c"),new P(new P(a("caddr"),new P(a("ex"),N)),new P(a("locs"),new P(false,new P(new P(a("string-append"),new P(a("prefix"),new P("e['",new P(new P(a("symbol->string"),new P(new P(a("cadr"),new P(a("ex"),N)),N)),new P("']=",N))))),new P(a("suffix"),N)))))),new P(new P(a("c"),new P(new P(a("caddr"),new P(a("ex"),N)),new P(a("locs"),new P(false,new P(new P(a("string-append"),new P(a("prefix"),new P("e.set('",new P(new P(a("symbol->string"),new P(new P(a("cadr"),new P(a("ex"),N)),N)),new P("',",N))))),new P(new P(a("string-append"),new P(")",new P(a("suffix"),N))),N)))))),N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("lambda"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("c-lambda-obj"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(new P(a("cddr"),new P(a("ex"),N)),new P(a("locs"),N)))),new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("define"),N)),N))),new P(new P(a("pair?"),new P(new P(a("cadr"),new P(a("ex"),N)),N)),new P(false,N)))),new P(new P(a("begin"),new P(new P(a("if"),new P(a("locs"),new P(new P(a("locs"),new P(new P(a("quote"),new P(a("add"),N)),new P(new P(a("caadr"),new P(a("ex"),N)),N))),N))),new P(new P(a("string-append"),new P(a("prefix"),new P("e['",new P(new P(a("symbol->string"),new P(new P(a("caadr"),new P(a("ex"),N)),N)),new P("']=",new P(new P(a("c-lambda-obj"),new P(new P(a("cdadr"),new P(a("ex"),N)),new P(new P(a("cddr"),new P(a("ex"),N)),new P(a("locs"),N)))),new P(a("suffix"),N))))))),N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("apply"),N)),N))),new P(new P(a("string-append"),new P(a("prefix"),new P(a("app"),new P("(",new P(new P(a("c"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(",",new P(new P(a("if"),new P(a("tail"),new P("list=",new P("",N)))),new P(new P(a("c-apply-list"),new P(new P(a("cddr"),new P(a("ex"),N)),new P(a("locs"),N))),new P(")",new P(a("suffix"),N)))))))))),new P(new P(a("if"),new P(new P(a("if"),new P(a("tail"),new P(new P(a("if"),new P(new P(a("number?"),new P(a("list-len"),N)),new P(new P(a(">="),new P(a("list-len"),new P(new P(a("length"),new P(new P(a("cdr"),new P(a("ex"),N)),N)),N))),new P(false,N)))),new P(false,N)))),new P(new P(a("string-append"),new P(a("prefix"),new P("(",new P(new P(a("c-reuse"),new P(new P(a("cdr"),new P(a("ex"),N)),new P("list",new P(a("locs"),N)))),new P(",",new P("theTC.f=",new P(new P(a("c"),new P(new P(a("car"),new P(a("ex"),N)),new P(a("locs"),N))),new P(",theTC.args=list,theTC)",new P(a("suffix"),N))))))))),new P(new P(a("c-list"),new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),new P(new P(a("string-append"),new P(a("prefix"),new P(a("app"),new P("(",new P(new P(a("c"),new P(new P(a("car"),new P(a("ex"),N)),new P(a("locs"),N))),new P(",",new P(new P(a("if"),new P(a("tail"),new P("list=",new P("",N)))),N))))))),new P(new P(a("string-append"),new P(")",new P(a("suffix"),N))),N))))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["ex"]=list.car;e["locs"]=list.cdr.car;e["tail"]=list.cdr.cdr.car;e["prefix"]=list.cdr.cdr.cdr.car;e["suffix"]=list.cdr.cdr.cdr.cdr.car;e["app"]=list.cdr.cdr.cdr.cdr.cdr.car;r=(e["list-len"]=e["locs"]instanceof P!=false?A(T.get("length"),new P(e["locs"],N)):false,isEq(e["ex"].car,a("begin"))!=false?TC(T.get("c-begin"),list=new P(e["ex"].cdr,new P(e["locs"],new P(e["tail"],new P(e["prefix"],new P(e["suffix"],N)))))):isEq(e["ex"].car,a("quote"))!=false?TC(T.get("c-quote"),list=new P(e["ex"].cdr.car,new P(e["prefix"],new P(e["suffix"],N)))):isEq(e["ex"].car,a("not"))!=false?TC(T.get("c"),list=new P(e["ex"].cdr.car,new P(e["locs"],new P(false,new P(e["prefix"]+"(",new P("==false)"+e["suffix"],N)))))):isEq(e["ex"].car,a("symbol->string"))!=false?TC(T.get("c"),list=new P(e["ex"].cdr.car,new P(e["locs"],new P(false,new P(e["prefix"],new P(e["suffix"]+".name",N)))))):isEq(e["ex"].car,a("car"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".car"+e["suffix"]:isEq(e["ex"].car,a("cdr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr"+e["suffix"]:isEq(e["ex"].car,a("caar"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".car.car"+e["suffix"]:isEq(e["ex"].car,a("cadr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr.car"+e["suffix"]:isEq(e["ex"].car,a("cdar"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".car.cdr"+e["suffix"]:isEq(e["ex"].car,a("cddr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr.cdr"+e["suffix"]:isEq(e["ex"].car,a("caaar"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".car.car.car"+e["suffix"]:isEq(e["ex"].car,a("caddr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr.cdr.car"+e["suffix"]:isEq(e["ex"].car,a("cdaar"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".car.car.cdr"+e["suffix"]:isEq(e["ex"].car,a("cdddr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr.cdr.cdr"+e["suffix"]:isEq(e["ex"].car,a("caaddr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr.cdr.car.car"+e["suffix"]:isEq(e["ex"].car,a("cadddr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr.cdr.cdr.car"+e["suffix"]:isEq(e["ex"].car,a("cdaddr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr.cdr.car.cdr"+e["suffix"]:isEq(e["ex"].car,a("cddddr"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".cdr.cdr.cdr.cdr"+e["suffix"]:isEq(e["ex"].car,a("cons"))!=false?e["prefix"]+"new P("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+","+A(T.get("c"),new P(e["ex"].cdr.cdr.car,new P(e["locs"],N)))+")"+e["suffix"]:isEq(e["ex"].car,a("boolean?"))!=false?e["prefix"]+"(typeof("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")=='boolean')"+e["suffix"]:isEq(e["ex"].car,a("string?"))!=false?e["prefix"]+"(typeof("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")=='string')"+e["suffix"]:isEq(e["ex"].car,a("number?"))!=false?e["prefix"]+"(typeof("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")=='number')"+e["suffix"]:isEq(e["ex"].car,a("char?"))!=false?e["prefix"]+"(("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")instanceof Char)"+e["suffix"]:isEq(e["ex"].car,a("symbol?"))!=false?e["prefix"]+"(("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")instanceof Symbol)"+e["suffix"]:isEq(e["ex"].car,a("syntax?"))!=false?e["prefix"]+"(("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")instanceof Syntax)"+e["suffix"]:isEq(e["ex"].car,a("null?"))!=false?e["prefix"]+"("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+"==N)"+e["suffix"]:isEq(e["ex"].car,a("pair?"))!=false?e["prefix"]+"(("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")instanceof P)"+e["suffix"]:isEq(e["ex"].car,a("str"))!=false?e["prefix"]+"Str("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")"+e["suffix"]:isEq(e["ex"].car,a("clone"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+".clone(e)"+e["suffix"]:isEq(e["ex"].car,a("get-prop"))!=false?e["prefix"]+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+"["+Str(e["ex"].cdr.cdr.car)+"]"+e["suffix"]:(isEq(e["ex"].car,a(">"))!=false?true:isEq(e["ex"].car,a("<"))!=false?true:isEq(e["ex"].car,a(">="))!=false?true:isEq(e["ex"].car,a("<=")))!=false?e["prefix"]+A(T.get("c-predicate"),new P(e["ex"].car.name,new P(e["ex"].cdr,new P(e["locs"],N))))+e["suffix"]:isEq(e["ex"].car,a("+"))!=false?e["prefix"]+A(T.get("c-append"),new P("0",new P("+",new P(e["ex"].cdr,new P(e["locs"],N)))))+e["suffix"]:isEq(e["ex"].car,a("*"))!=false?e["prefix"]+A(T.get("c-append"),new P("1",new P("*",new P(e["ex"].cdr,new P(e["locs"],N)))))+e["suffix"]:isEq(e["ex"].car,a("-"))!=false?e["prefix"]+A(T.get("c-minus"),new P("-",new P("-",new P(e["ex"].cdr,new P(e["locs"],N)))))+e["suffix"]:isEq(e["ex"].car,a("/"))!=false?e["prefix"]+A(T.get("c-minus"),new P("1/",new P("/",new P(e["ex"].cdr,new P(e["locs"],N)))))+e["suffix"]:isEq(e["ex"].car,a("string-append"))!=false?e["prefix"]+A(T.get("c-append"),new P("''",new P("+",new P(e["ex"].cdr,new P(e["locs"],N)))))+e["suffix"]:(isEq(e["ex"].car,a("eq?"))!=false?true:isEq(e["ex"].car,a("="))!=false?true:isEq(e["ex"].car,a("eqv?"))!=false?true:isEq(e["ex"].car,a("string=?"))!=false?true:isEq(e["ex"].car,a("char=?")))!=false?e["prefix"]+"isEq("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+","+A(T.get("c"),new P(e["ex"].cdr.cdr.car,new P(e["locs"],N)))+")"+e["suffix"]:isEq(e["ex"].car,a("list"))!=false?e["prefix"]+A(T.get("c-list"),new P(e["ex"].cdr,new P(e["locs"],N)))+e["suffix"]:isEq(e["ex"].car,a("if"))!=false?e["ex"].cdr.cdr.cdr==N!=false?TC(T.get("c"),list=new P(e["ex"].cdr.cdr.car,new P(e["locs"],new P(e["tail"],new P(e["prefix"]+"(("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")!=false?",new P(":null)"+e["suffix"],N)))))):TC(T.get("c"),list=new P(e["ex"].cdr.cdr.cdr.car,new P(e["locs"],new P(e["tail"],new P(e["prefix"]+"(("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+")!=false?"+A(T.get("c"),new P(e["ex"].cdr.cdr.car,new P(e["locs"],new P(e["tail"],N))))+":",new P(")"+e["suffix"],N)))))):isEq(e["ex"].car,a("define-syntax"))!=false?e["prefix"]+"e['"+e["ex"].cdr.car.name+"']=new Syntax(e.get('"+e["ex"].cdr.cdr.car.car.name+"'),"+A(T.get("c-quote"),new P(e["ex"].cdr.cdr.car.cdr,N))+")"+e["suffix"]:(isEq(e["ex"].car,a("define"))!=false?e["ex"].cdr.car instanceof Symbol:false)!=false?(e["locs"]!=false?A(e["locs"],new P(a("add"),new P(e["ex"].cdr.car,N))):null,e["prefix"]+"e['"+e["ex"].cdr.car.name+"']="+A(T.get("c"),new P(e["ex"].cdr.cdr.car,new P(e["locs"],N)))+e["suffix"]):isEq(e["ex"].car,a("set!"))!=false?(e["locs"]!=false?A(e["locs"],new P(a("memq"),new P(e["ex"].cdr.car,N))):false)!=false?TC(T.get("c"),list=new P(e["ex"].cdr.cdr.car,new P(e["locs"],new P(false,new P(e["prefix"]+"e['"+e["ex"].cdr.car.name+"']=",new P(e["suffix"],N)))))):TC(T.get("c"),list=new P(e["ex"].cdr.cdr.car,new P(e["locs"],new P(false,new P(e["prefix"]+"e.set('"+e["ex"].cdr.car.name+"',",new P(")"+e["suffix"],N)))))):isEq(e["ex"].car,a("lambda"))!=false?e["prefix"]+A(T.get("c-lambda-obj"),new P(e["ex"].cdr.car,new P(e["ex"].cdr.cdr,new P(e["locs"],N))))+e["suffix"]:(isEq(e["ex"].car,a("define"))!=false?e["ex"].cdr.car instanceof P:false)!=false?(e["locs"]!=false?A(e["locs"],new P(a("add"),new P(A(T.get("caadr"),new P(e["ex"],N)),N))):null,e["prefix"]+"e['"+A(T.get("caadr"),new P(e["ex"],N)).name+"']="+A(T.get("c-lambda-obj"),new P(A(T.get("cdadr"),new P(e["ex"],N)),new P(e["ex"].cdr.cdr,new P(e["locs"],N))))+e["suffix"]):isEq(e["ex"].car,a("apply"))!=false?e["prefix"]+e["app"]+"("+A(T.get("c"),new P(e["ex"].cdr.car,new P(e["locs"],N)))+","+(e["tail"]!=false?"list=":"")+A(T.get("c-apply-list"),new P(e["ex"].cdr.cdr,new P(e["locs"],N)))+")"+e["suffix"]:(e["tail"]!=false?typeof e["list-len"]=="number"!=false?e["list-len"]>=A(T.get("length"),new P(e["ex"].cdr,N)):false:false)!=false?e["prefix"]+"("+A(T.get("c-reuse"),new P(e["ex"].cdr,new P("list",new P(e["locs"],N))))+","+"theTC.f="+A(T.get("c"),new P(e["ex"].car,new P(e["locs"],N)))+",theTC.args=list,theTC)"+e["suffix"]:TC(T.get("c-list"),list=new P(e["ex"].cdr,new P(e["locs"],new P(e["prefix"]+e["app"]+"("+A(T.get("c"),new P(e["ex"].car,new P(e["locs"],N)))+","+(e["tail"]!=false?"list=":""),new P(")"+e["suffix"],N))))));
if(r!=theTC||r.f!=this)return r}});e["c-reuse"]=new L(new P(a("lst"),new P(a("var"),new P(a("locs"),N))),new P(a("if"),new P(new P(a("pair?"),new P(a("lst"),N)),new P(new P(a("string-append"),new P("(",new P(a("var"),new P(".car=",new P(new P(a("c"),new P(new P(a("car"),new P(a("lst"),N)),new P(a("locs"),N))),new P("),",new P(new P(a("c-reuse"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(new P(a("string-append"),new P(a("var"),new P(".cdr",N))),new P(a("locs"),N)))),N))))))),new P(new P(a("string-append"),new P("(",new P(a("var"),new P("=",new P(new P(a("if"),new P(new P(a("null?"),new P(a("lst"),N)),new P("N",new P(new P(a("c"),new P(a("lst"),new P(a("locs"),N))),N)))),new P(")",N)))))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["var"]=list.cdr.car;e["locs"]=list.cdr.cdr.car;r=e["lst"]instanceof P!=false?"("+e["var"]+".car="+A(T.get("c"),new P(e["lst"].car,new P(e["locs"],N)))+"),"+A(T.get("c-reuse"),new P(e["lst"].cdr,new P(e["var"]+".cdr",new P(e["locs"],N)))):"("+e["var"]+"="+(e["lst"]==N!=false?"N":A(T.get("c"),new P(e["lst"],new P(e["locs"],N))))+")";if(r!=theTC||r.f!=this)return r}});e["c-predicate"]=new L(new P(a("op"),new P(a("lst"),new P(a("locs"),N))),new P(a("begin"),new P(new P(a("define"),new P(a("s"),new P(new P(a("string-append"),new P(new P(a("c"),new P(new P(a("car"),new P(a("lst"),N)),new P(a("locs"),N))),new P(a("op"),new P(new P(a("c"),new P(new P(a("cadr"),new P(a("lst"),N)),new P(a("locs"),N))),N)))),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cddr"),new P(a("lst"),N)),N)),new P(a("s"),new P(new P(a("string-append"),new P(a("s"),new P("&&",new P(new P(a("c-predicate"),new P(a("op"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(a("locs"),N)))),N)))),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["op"]=list.car;e["lst"]=list.cdr.car;e["locs"]=list.cdr.cdr.car;r=(e["s"]=A(T.get("c"),new P(e["lst"].car,new P(e["locs"],N)))+e["op"]+A(T.get("c"),new P(e["lst"].cdr.car,new P(e["locs"],N))),e["lst"].cdr.cdr==N!=false?e["s"]:e["s"]+"&&"+A(T.get("c-predicate"),new P(e["op"],new P(e["lst"].cdr,new P(e["locs"],N)))));if(r!=theTC||r.f!=this)return r}});e["c-minus"]=new L(new P(a("one"),new P(a("op"),new P(a("lst"),new P(a("locs"),N)))),new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("lst"),N)),N)),new P(new P(a("string-append"),new P("(",new P(a("one"),new P(new P(a("c"),new P(new P(a("car"),new P(a("lst"),N)),new P(a("locs"),N))),new P(")",N))))),new P(new P(a("c-append"),new P("0",new P(a("op"),new P(a("lst"),new P(a("locs"),N))))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["one"]=list.car;e["op"]=list.cdr.car;e["lst"]=list.cdr.cdr.car;e["locs"]=list.cdr.cdr.cdr.car;r=e["lst"].cdr==N!=false?"("+e["one"]+A(T.get("c"),new P(e["lst"].car,new P(e["locs"],N)))+")":TC(T.get("c-append"),list=new P("0",new P(e["op"],new P(e["lst"],new P(e["locs"],N)))));if(r!=theTC||r.f!=this)return r}});e["c-append"]=new L(new P(a("zero"),new P(a("op"),new P(a("lst"),new P(a("locs"),a("q"))))),new P(a("if"),new P(new P(a("null?"),new P(a("lst"),N)),new P(a("zero"),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("lst"),N)),N)),new P(new P(a("c"),new P(new P(a("car"),new P(a("lst"),N)),new P(a("locs"),N))),new P(new P(a("string-append"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("q"),N)),new P("(",new P("",N)))),new P(new P(a("c"),new P(new P(a("car"),new P(a("lst"),N)),new P(a("locs"),N))),new P(a("op"),new P(new P(a("c-append"),new P(a("zero"),new P(a("op"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(a("locs"),new P(true,N)))))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("q"),N)),new P(")",new P("",N)))),N)))))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["zero"]=list.car;e["op"]=list.cdr.car;e["lst"]=list.cdr.cdr.car;e["locs"]=list.cdr.cdr.cdr.car;e["q"]=list.cdr.cdr.cdr.cdr;r=e["lst"]==N!=false?e["zero"]:e["lst"].cdr==N!=false?TC(T.get("c"),list=new P(e["lst"].car,new P(e["locs"],N))):(e["q"]==N!=false?"(":"")+A(T.get("c"),new P(e["lst"].car,new P(e["locs"],N)))+e["op"]+A(T.get("c-append"),new P(e["zero"],new P(e["op"],new P(e["lst"].cdr,new P(e["locs"],new P(true,N))))))+(e["q"]==N!=false?")":"");if(r!=theTC||r.f!=this)return r}});e["c-list"]=new L(new P(a("ex"),new P(a("locs"),a("tt"))),new P(a("begin"),new P(new P(a("define"),new P(a("prefix"),new P("",N))),new P(new P(a("define"),new P(a("suffix"),new P("",N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(a("tt"),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("prefix"),new P(new P(a("car"),new P(a("tt"),N)),N))),new P(new P(a("set!"),new P(a("suffix"),new P(new P(a("cadr"),new P(a("tt"),N)),N))),N))),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P("N",new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("ex"),N)),new P(new P(a("c-list"),new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),new P(new P(a("string-append"),new P(a("prefix"),new P("new P(",new P(new P(a("c"),new P(new P(a("car"),new P(a("ex"),N)),new P(a("locs"),N))),new P(",",N))))),new P(new P(a("string-append"),new P(")",new P(a("suffix"),N))),N))))),new P(new P(a("c"),new P(a("ex"),new P(a("locs"),new P(false,new P(a("prefix"),new P(a("suffix"),N)))))),N)))),N)))),N))))),e,function(list){var r,e=new Env(this.env);while(true){e["ex"]=list.car;e["locs"]=list.cdr.car;e["tt"]=list.cdr.cdr;r=(e["prefix"]="",e["suffix"]="",e["tt"]==N==false!=false?(e["prefix"]=e["tt"].car,e["suffix"]=e["tt"].cdr.car):null,e["ex"]==N!=false?e["prefix"]+"N"+e["suffix"]:e["ex"]instanceof P!=false?TC(T.get("c-list"),list=new P(e["ex"].cdr,new P(e["locs"],new P(e["prefix"]+"new P("+A(T.get("c"),new P(e["ex"].car,new P(e["locs"],N)))+",",new P(")"+e["suffix"],N))))):TC(T.get("c"),list=new P(e["ex"],new P(e["locs"],new P(false,new P(e["prefix"],new P(e["suffix"],N)))))));if(r!=theTC||r.f!=this)return r}});e["c-quote"]=new L(new P(a("ex"),a("tt")),new P(a("begin"),new P(new P(a("define"),new P(a("prefix"),new P("",N))),new P(new P(a("define"),new P(a("suffix"),new P("",N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(a("tt"),N)),N)),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("prefix"),new P(new P(a("car"),new P(a("tt"),N)),N))),new P(new P(a("set!"),new P(a("suffix"),new P(new P(a("cadr"),new P(a("tt"),N)),N))),N))),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P("N",new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("symbol?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P("a('",new P(new P(a("symbol->string"),new P(a("ex"),N)),new P("')",new P(a("suffix"),N)))))),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("ex"),N)),new P(new P(a("c-quote"),new P(new P(a("cdr"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P("new P(",new P(new P(a("c-quote"),new P(new P(a("car"),new P(a("ex"),N)),N)),new P(",",N))))),new P(new P(a("string-append"),new P(")",new P(a("suffix"),N))),N)))),new P(new P(a("c"),new P(a("ex"),new P(false,new P(false,new P(a("prefix"),new P(a("suffix"),N)))))),N)))),N)))),N)))),N))))),e,function(list){var r,e=new Env(this.env);while(true){e["ex"]=list.car;e["tt"]=list.cdr;r=(e["prefix"]="",e["suffix"]="",e["tt"]==N==false!=false?(e["prefix"]=e["tt"].car,e["suffix"]=e["tt"].cdr.car):null,e["ex"]==N!=false?e["prefix"]+"N"+e["suffix"]:e["ex"]instanceof Symbol!=false?e["prefix"]+"a('"+e["ex"].name+"')"+e["suffix"]:e["ex"]instanceof P!=false?TC(T.get("c-quote"),list=new P(e["ex"].cdr,new P(e["prefix"]+"new P("+A(T.get("c-quote"),new P(e["ex"].car,N))+",",new P(")"+e["suffix"],N)))):TC(T.get("c"),list=new P(e["ex"],new P(false,new P(false,new P(e["prefix"],new P(e["suffix"],N)))))));if(r!=theTC||r.f!=this)return r}});e["c-begin"]=new L(new P(a("ex"),new P(a("locs"),new P(a("tail"),new P(a("prefix"),new P(a("suffix"),a("q")))))),new P(a("if"),new P(new P(a("null?"),new P(a("ex"),N)),new P(new P(a("string-append"),new P(a("prefix"),new P("null",new P(a("suffix"),N)))),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("ex"),N)),N)),new P(new P(a("c"),new P(new P(a("car"),new P(a("ex"),N)),new P(a("locs"),new P(a("tail"),new P(a("prefix"),new P(a("suffix"),N)))))),new P(new P(a("c-begin"),new P(new P(a("cdr"),new P(a("ex"),N)),new P(a("locs"),new P(a("tail"),new P(new P(a("string-append"),new P(a("prefix"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("q"),N)),new P("(",new P("",N)))),new P(new P(a("c"),new P(new P(a("car"),new P(a("ex"),N)),new P(a("locs"),N))),new P(",",N))))),new P(new P(a("string-append"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("q"),N)),new P(")",new P("",N)))),new P(a("suffix"),N))),new P(true,N))))))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["ex"]=list.car;e["locs"]=list.cdr.car;e["tail"]=list.cdr.cdr.car;e["prefix"]=list.cdr.cdr.cdr.car;e["suffix"]=list.cdr.cdr.cdr.cdr.car;e["q"]=list.cdr.cdr.cdr.cdr.cdr;r=e["ex"]==N!=false?e["prefix"]+"null"+e["suffix"]:e["ex"].cdr==N!=false?TC(T.get("c"),list=new P(e["ex"].car,new P(e["locs"],new P(e["tail"],new P(e["prefix"],new P(e["suffix"],N)))))):TC(T.get("c-begin"),list=new P(e["ex"].cdr,new P(e["locs"],new P(e["tail"],new P(e["prefix"]+(e["q"]==N!=false?"(":"")+A(T.get("c"),new P(e["ex"].car,new P(e["locs"],N)))+",",new P((e["q"]==N!=false?")":"")+e["suffix"],new P(true,N)))))));if(r!=theTC||r.f!=this)return r}});e["c-apply-list"]=new L(new P(a("lst"),new P(a("locs"),N)),new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("lst"),N)),N)),new P(new P(a("c"),new P(new P(a("car"),new P(a("lst"),N)),new P(a("locs"),new P(false,new P("",new P(".ListCopy()",N)))))),new P(new P(a("string-append"),new P("new P(",new P(new P(a("c"),new P(new P(a("car"),new P(a("lst"),N)),new P(a("locs"),N))),new P(",",new P(new P(a("c-apply-list"),new P(new P(a("cdr"),new P(a("lst"),N)),new P(a("locs"),N))),new P(")",N)))))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["locs"]=list.cdr.car;r=e["lst"].cdr==N!=false?TC(T.get("c"),list=new P(e["lst"].car,new P(e["locs"],new P(false,new P("",new P(".ListCopy()",N)))))):"new P("+A(T.get("c"),new P(e["lst"].car,new P(e["locs"],N)))+","+A(T.get("c-apply-list"),new P(e["lst"].cdr,new P(e["locs"],N)))+")";if(r!=theTC||r.f!=this)return r}});e["c-lambda-args"]=new L(new P(a("args"),new P(a("var"),N)),new P(a("if"),new P(new P(a("null?"),new P(a("args"),N)),new P("",new P(new P(a("if"),new P(new P(a("symbol?"),new P(a("args"),N)),new P(new P(a("string-append"),new P("e['",new P(new P(a("symbol->string"),new P(a("args"),N)),new P("']=",new P(a("var"),new P(";",N)))))),new P(new P(a("string-append"),new P("e['",new P(new P(a("symbol->string"),new P(new P(a("car"),new P(a("args"),N)),N)),new P("']=",new P(a("var"),new P(".car;",new P(new P(a("c-lambda-args"),new P(new P(a("cdr"),new P(a("args"),N)),new P(new P(a("string-append"),new P(a("var"),new P(".cdr",N))),N))),N))))))),N)))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["args"]=list.car;e["var"]=list.cdr.car;r=e["args"]==N!=false?"":e["args"]instanceof Symbol!=false?"e['"+e["args"].name+"']="+e["var"]+";":"e['"+e["args"].car.name+"']="+e["var"]+".car;"+A(T.get("c-lambda-args"),new P(e["args"].cdr,new P(e["var"]+".cdr",N)));if(r!=theTC||r.f!=this)return r}});e["c-extract-children"]=new L(new P(a("obj"),a("c")),new P(a("begin"),new P(new P(a("define"),new P(a("tmp-name"),new P(false,N))),new P(new P(a("define"),new P(a("a"),new P(false,N))),new P(new P(a("define"),new P(a("d"),new P(false,N))),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("pair?"),new P(a("obj"),N)),new P(new P(a("not"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("obj"),N)),new P(new P(a("quote"),new P(a("quote"),N)),N))),N)),new P(false,N)))),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("obj"),N)),new P(new P(a("quote"),new P(a("lambda"),N)),N))),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("tmp-name"),new P(new P(a("gen-sym"),N),N))),new P(new P(a("cons"),new P(new P(a("list"),new P(new P(a("quote"),new P(a("clone"),N)),new P(a("tmp-name"),N))),new P(new P(a("cons"),new P(new P(a("cons"),new P(a("tmp-name"),new P(new P(a("cdr"),new P(a("obj"),N)),N))),new P(a("c"),N))),N))),N))),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("obj"),N)),new P(new P(a("quote"),new P(a("define"),N)),N))),new P(new P(a("pair?"),new P(new P(a("cadr"),new P(a("obj"),N)),N)),new P(false,N)))),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("tmp-name"),new P(new P(a("gen-sym"),N),N))),new P(new P(a("cons"),new P(new P(a("list"),new P(new P(a("quote"),new P(a("define"),N)),new P(new P(a("caadr"),new P(a("obj"),N)),new P(new P(a("list"),new P(new P(a("quote"),new P(a("clone"),N)),new P(a("tmp-name"),N))),N)))),new P(new P(a("cons"),new P(new P(a("cons"),new P(a("tmp-name"),new P(new P(a("cons"),new P(new P(a("cdadr"),new P(a("obj"),N)),new P(new P(a("cddr"),new P(a("obj"),N)),N))),N))),new P(a("c"),N))),N))),N))),new P(new P(a("begin"),new P(new P(a("set!"),new P(a("a"),new P(new P(a("c-extract-children"),new P(new P(a("car"),new P(a("obj"),N)),N)),N))),new P(new P(a("set!"),new P(a("d"),new P(new P(a("c-extract-children"),new P(new P(a("cdr"),new P(a("obj"),N)),N)),N))),new P(new P(a("cons"),new P(new P(a("cons"),new P(new P(a("car"),new P(a("a"),N)),new P(new P(a("car"),new P(a("d"),N)),N))),new P(new P(a("append"),new P(new P(a("cdr"),new P(a("a"),N)),new P(new P(a("cdr"),new P(a("d"),N)),N))),N))),N)))),N)))),N)))),new P(new P(a("cons"),new P(a("obj"),new P(a("c"),N))),N)))),N))))),e,function(list){var r,e=new Env(this.env);while(true){e["obj"]=list.car;e["c"]=list.cdr;r=(e["tmp-name"]=false,e["a"]=false,e["d"]=false,(e["obj"]instanceof P!=false?isEq(e["obj"].car,a("quote"))==false:false)!=false?isEq(e["obj"].car,a("lambda"))!=false?(e["tmp-name"]=A(T.get("gen-sym"),N),new P(new P(a("clone"),new P(e["tmp-name"],N)),new P(new P(e["tmp-name"],e["obj"].cdr),e["c"]))):(isEq(e["obj"].car,a("define"))!=false?e["obj"].cdr.car instanceof P:false)!=false?(e["tmp-name"]=A(T.get("gen-sym"),N),new P(new P(a("define"),new P(A(T.get("caadr"),new P(e["obj"],N)),new P(new P(a("clone"),new P(e["tmp-name"],N)),N))),new P(new P(e["tmp-name"],new P(A(T.get("cdadr"),new P(e["obj"],N)),e["obj"].cdr.cdr)),e["c"]))):(e["a"]=A(T.get("c-extract-children"),new P(e["obj"].car,N)),e["d"]=A(T.get("c-extract-children"),new P(e["obj"].cdr,N)),new P(new P(e["a"].car,e["d"].car),A(T.get("append"),new P(e["a"].cdr,new P(e["d"].cdr,N))))):new P(e["obj"],e["c"]));if(r!=theTC||r.f!=this)return r}});e["c-lambda-obj"]=new L(new P(a("args"),new P(a("body"),a("tt"))),new P(a("begin"),new P(new P(a("define"),new P(a("parent-locs"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("tt"),N)),new P(false,new P(new P(a("car"),new P(a("tt"),N)),N)))),N))),new P(new P(a("define"),new P(a("ex"),new P(new P(a("c-extract-children"),new P(a("body"),N)),N))),new P(new P(a("define"),new P(a("ll"),new P(false,N))),new P(new P(a("set!"),new P(a("body"),new P(new P(a("car"),new P(a("ex"),N)),N))),new P(new P(a("if"),new P(new P(a("not"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("ex"),N)),N)),N)),new P(new P(a("set!"),new P(a("parent-locs"),new P(new P(a("c-make-locals"),new P(new P(a("map+"),new P(a("car"),new P(new P(a("cdr"),new P(a("ex"),N)),N))),new P(a("parent-locs"),N))),N))),N))),new P(new P(a("set!"),new P(a("parent-locs"),new P(new P(a("c-make-locals"),new P(a("args"),new P(a("parent-locs"),N))),N))),new P(new P(a("set!"),new P(a("ll"),new P(new P(a("c-lambda"),new P(a("args"),new P(a("body"),new P(a("parent-locs"),N)))),N))),new P(new P(a("string-append"),new P("new L(",new P(new P(a("c-quote"),new P(a("args"),N)),new P(",",new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("body"),N)),N)),new P(new P(a("c-quote"),new P(new P(a("car"),new P(a("body"),N)),N)),new P(new P(a("c-quote"),new P(new P(a("cons"),new P(new P(a("quote"),new P(a("begin"),N)),new P(a("body"),N))),N)),N)))),new P(",",new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("ex"),N)),N)),new P("e",new P(new P(a("apply"),new P(a("string-append"),new P("new Env(e)",new P(new P(a("map+"),new P(new P(a("clone"),new P(a("_44_"),N)),new P(new P(a("cdr"),new P(a("ex"),N)),N))),N)))),N)))),new P(",",new P(a("ll"),new P(")",N)))))))))),N))))))))),new Env(e).With("_44_",new L(new P(a("l"),N),new P(a("string-append"),new P(".With('",new P(new P(a("symbol->string"),new P(new P(a("car"),new P(a("l"),N)),N)),new P("',",new P(new P(a("c-lambda-obj"),new P(new P(a("cadr"),new P(a("l"),N)),new P(new P(a("cddr"),new P(a("l"),N)),new P(a("parent-locs"),N)))),new P(")",N)))))),e,function(list){var r,e=new Env(this.env);while(true){e["l"]=list.car;r=".With('"+e["l"].car.name+"',"+A(T.get("c-lambda-obj"),new P(e["l"].cdr.car,new P(e["l"].cdr.cdr,new P(e.PE["parent-locs"],N))))+")";if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["args"]=list.car;e["body"]=list.cdr.car;e["tt"]=list.cdr.cdr;r=(e["parent-locs"]=e["tt"]==N!=false?false:e["tt"].car,e["ex"]=A(T.get("c-extract-children"),new P(e["body"],N)),e["ll"]=false,e["body"]=e["ex"].car,e["ex"].cdr==N==false!=false?e["parent-locs"]=A(T.get("c-make-locals"),new P(A(T.get("map+"),new P(T.get("car"),new P(e["ex"].cdr,N))),new P(e["parent-locs"],N))):null,e["parent-locs"]=A(T.get("c-make-locals"),new P(e["args"],new P(e["parent-locs"],N))),e["ll"]=A(T.get("c-lambda"),new P(e["args"],new P(e["body"],new P(e["parent-locs"],N)))),"new L("+A(T.get("c-quote"),new P(e["args"],N))+","+(e["body"].cdr==N!=false?A(T.get("c-quote"),new P(e["body"].car,N)):A(T.get("c-quote"),new P(new P(a("begin"),e["body"]),N)))+","+(e["ex"].cdr==N!=false?"e":A(T.get("string-append"),new P("new Env(e)",A(T.get("map+"),new P(e.PE["_44_"].clone(e),new P(e["ex"].cdr,N))).ListCopy())))+","+e["ll"]+")");if(r!=theTC||r.f!=this)return r}});e["c-make-locals"]=new L(new P(a("lst"),new P(a("parent"),N)),new P(a("clone"),new P(a("_45_"),N)),new Env(e).With("_45_",new L(new P(a("msg"),new P(a("v"),a("tt"))),new P(a("begin"),new P(new P(a("define"),new P(a("e"),new P(new P(a("if"),new P(new P(a("null?"),new P(a("tt"),N)),new P("e",new P(new P(a("car"),new P(a("tt"),N)),N)))),N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(a("msg"),new P(new P(a("quote"),new P(a("set!"),N)),N))),new P(new P(a("set!"),new P(a("lst"),new P(a("v"),N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(a("msg"),new P(new P(a("quote"),new P(a("get"),N)),N))),new P(a("lst"),new P(new P(a("if"),new P(new P(a("eq?"),new P(a("msg"),new P(new P(a("quote"),new P(a("add"),N)),N))),new P(new P(a("set!"),new P(a("lst"),new P(new P(a("cons"),new P(a("v"),new P(a("lst"),N))),N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(a("msg"),new P(new P(a("quote"),new P(a("memq"),N)),N))),new P(new P(a("memq"),new P(a("v"),new P(a("lst"),N))),new P(new P(a("if"),new P(new P(a("eq?"),new P(a("msg"),new P(new P(a("quote"),new P(a("gen"),N)),N))),new P(new P(a("if"),new P(new P(a("memq"),new P(a("v"),new P(a("lst"),N))),new P(new P(a("string-append"),new P(a("e"),new P("['",new P(new P(a("symbol->string"),new P(a("v"),N)),new P("']",N))))),new P(new P(a("if"),new P(a("parent"),new P(new P(a("parent"),new P(new P(a("quote"),new P(a("gen"),N)),new P(a("v"),new P(new P(a("string-append"),new P(a("e"),new P(".PE",N))),N)))),new P(new P(a("string-append"),new P("T.get('",new P(new P(a("symbol->string"),new P(a("v"),N)),new P("')",N)))),N)))),N)))),N))),N)))),N)))),N)))),N)))),N))),e,function(list){var r,e=new Env(this.env);while(true){e["msg"]=list.car;e["v"]=list.cdr.car;e["tt"]=list.cdr.cdr;r=(e["e"]=e["tt"]==N!=false?"e":e["tt"].car,isEq(e["msg"],a("set!"))!=false?e.set("lst",e["v"]):isEq(e["msg"],a("get"))!=false?e.PE["lst"]:isEq(e["msg"],a("add"))!=false?e.set("lst",new P(e["v"],e.PE["lst"])):isEq(e["msg"],a("memq"))!=false?TC(T.get("memq"),list=new P(e["v"],new P(e.PE["lst"],N))):isEq(e["msg"],a("gen"))!=false?A(T.get("memq"),new P(e["v"],new P(e.PE["lst"],N)))!=false?e["e"]+"['"+e["v"].name+"']":e.PE["parent"]!=false?TC(e.PE["parent"],list=new P(a("gen"),new P(e["v"],new P(e["e"]+".PE",N)))):"T.get('"+e["v"].name+"')":null);if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["lst"]=list.car;e["parent"]=list.cdr.car;r=e.PE["_45_"].clone(e);if(r!=theTC||r.f!=this)return r}});e["c-lambda"]=new L(new P(a("args"),new P(a("body"),new P(a("locs"),N))),new P(a("c-begin"),new P(a("body"),new P(a("locs"),new P(true,new P(new P(a("string-append"),new P("function(list){var r,e=new Env(this.env);while(true){",new P(new P(a("c-lambda-args"),new P(a("args"),new P("list",N))),new P("r=",N)))),new P(new P(a("string-append"),new P(";if(r!=theTC||r.f!=this)return r}}",N)),N)))))),e,function(list){var r,e=new Env(this.env);while(true){e["args"]=list.car;e["body"]=list.cdr.car;e["locs"]=list.cdr.cdr.car;r=TC(T.get("c-begin"),list=new P(e["body"],new P(e["locs"],new P(true,new P("function(list){var r,e=new Env(this.env);while(true){"+A(T.get("c-lambda-args"),new P(e["args"],new P("list",N)))+"r=",new P(";if(r!=theTC||r.f!=this)return r}}",N))))));if(r!=theTC||r.f!=this)return r}});e["eval-cd"]=new L(new P(a("s"),N),new P(a("js-eval"),new P(new P(a("string-append"),new P("var e=T;",new P(a("s"),N))),N)),e,function(list){var r,e=new Env(this.env);while(true){e["s"]=list.car;r=TC(T.get("js-eval"),list=new P("var e=T;"+e["s"],N));if(r!=theTC||r.f!=this)return r}});e["cd"]=new L(new P(a("s"),N),new P(a("js-invoke"),new P(new P(a("get-prop"),new P(a("s"),new P("cd",N))),new P("toString",N))),e,function(list){var r,e=new Env(this.env);while(true){e["s"]=list.car;r=TC(T.get("js-invoke"),list=new P(e["s"]["cd"],new P("toString",N)));if(r!=theTC||r.f!=this)return r}});e["c-lib"]=new L(new P(a("s"),N),new P(a("begin"),new P(new P(a("define"),new P(a("lib"),new P(new P(a("parse"),new P(a("s"),N)),N))),new P(new P(a("define"),new P(a("print"),new P(new P(a("clone"),new P(a("_46_"),N)),N))),new P(new P(a("print"),new P("var e=T",N)),new P(new P(a("define"),new P(a("print-cd"),new P(new P(a("clone"),new P(a("_47_"),N)),N))),new P(new P(a("for-each"),new P(a("print-cd"),new P(a("lib"),N))),N)))))),new Env(e).With("_46_",new L(new P(a("x"),N),new P(a("begin"),new P(new P(a("display"),new P(a("x"),N)),new P(new P(a("display"),new P(getChar(";"),N)),new P(new P(a("newline"),N),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=(A(T.get("display"),new P(e["x"],N)),A(T.get("display"),new P(getChar(";"),N)),TC(T.get("newline"),list=N));if(r!=theTC||r.f!=this)return r}})).With("_47_",new L(new P(a("x"),N),new P(a("print"),new P(new P(a("c"),new P(a("x"),N)),N)),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=TC(e.PE["print"],list=new P(A(T.get("c"),new P(e["x"],N)),N));if(r!=theTC||r.f!=this)return r}})),function(list){var r,e=new Env(this.env);while(true){e["s"]=list.car;r=(e["lib"]=A(T.get("parse"),new P(e["s"],N)),e["print"]=e.PE["_46_"].clone(e),A(e["print"],new P("var e=T",N)),e["print-cd"]=e.PE["_47_"].clone(e),TC(T.get("for-each"),list=new P(e["print-cd"],new P(e["lib"],N))));if(r!=theTC||r.f!=this)return r}});e["server"]=new L(new P(a("x"),N),new P(a("js-invoke"),new P(new P(a("js-eval"),new P("window.frames.hf",N)),new P("navigate",new P(new P(a("string-append"),new P("servlet/db?s=",new P(new P(a("encode"),new P(new P(a("str"),new P(a("x"),N)),N)),N))),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["x"]=list.car;r=TC(T.get("js-invoke"),list=new P(A(T.get("js-eval"),new P("window.frames.hf",N)),new P("navigate",new P("servlet/db?s="+A(T.get("encode"),new P(Str(e["x"]),N)),N))));if(r!=theTC||r.f!=this)return r}});e["transform"]=new L(new P(a("ex"),N),new P(a("if"),new P(new P(a("pair?"),new P(a("ex"),N)),new P(new P(a("if"),new P(new P(a("symbol?"),new P(new P(a("car"),new P(a("ex"),N)),N)),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("quote"),N)),N))),new P(a("ex"),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("begin"),N)),N))),new P(new P(a("if"),new P(new P(a("null?"),new P(new P(a("cdr"),new P(a("ex"),N)),N)),new P(false,new P(new P(a("null?"),new P(new P(a("cddr"),new P(a("ex"),N)),N)),N)))),new P(false,N)))),new P(new P(a("transform"),new P(new P(a("cadr"),new P(a("ex"),N)),N)),new P(new P(a("if"),new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("lambda"),N)),N))),new P(true,new P(new P(a("if"),new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("define"),N)),N))),new P(true,new P(new P(a("eq?"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("quote"),new P(a("set!"),N)),N))),N)))),N)))),new P(new P(a("cons"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("cons"),new P(new P(a("cadr"),new P(a("ex"),N)),new P(new P(a("map+"),new P(a("transform"),new P(new P(a("cddr"),new P(a("ex"),N)),N))),N))),N))),new P(new P(a("begin"),new P(new P(a("define"),new P(a("x"),new P(new P(a("eval"),new P(new P(a("car"),new P(a("ex"),N)),N)),N))),new P(new P(a("if"),new P(new P(a("syntax?"),new P(a("x"),N)),new P(new P(a("transform"),new P(new P(a("apply"),new P(new P(a("get-prop"),new P(a("x"),new P("transformer",N))),new P(a("ex"),new P(new P(a("get-prop"),new P(a("x"),new P("args",N))),N)))),N)),new P(new P(a("cons"),new P(new P(a("car"),new P(a("ex"),N)),new P(new P(a("map+"),new P(a("transform"),new P(new P(a("cdr"),new P(a("ex"),N)),N))),N))),N)))),N))),N)))),N)))),N)))),new P(new P(a("map+"),new P(a("transform"),new P(a("ex"),N))),N)))),new P(a("ex"),N)))),e,function(list){var r,e=new Env(this.env);while(true){e["ex"]=list.car;r=e["ex"]instanceof P!=false?e["ex"].car instanceof Symbol!=false?isEq(e["ex"].car,a("quote"))!=false?e["ex"]:(isEq(e["ex"].car,a("begin"))!=false?e["ex"].cdr==N!=false?false:e["ex"].cdr.cdr==N:false)!=false?TC(T.get("transform"),list=new P(e["ex"].cdr.car,N)):(isEq(e["ex"].car,a("lambda"))!=false?true:isEq(e["ex"].car,a("define"))!=false?true:isEq(e["ex"].car,a("set!")))!=false?new P(e["ex"].car,new P(e["ex"].cdr.car,A(T.get("map+"),new P(T.get("transform"),new P(e["ex"].cdr.cdr,N))))):(e["x"]=A(T.get("eval"),new P(e["ex"].car,N)),e["x"]instanceof Syntax!=false?TC(T.get("transform"),list=new P(A(e["x"]["transformer"],new P(e["ex"],e["x"]["args"].ListCopy())),N)):new P(e["ex"].car,A(T.get("map+"),new P(T.get("transform"),new P(e["ex"].cdr,N))))):TC(T.get("map+"),list=new P(T.get("transform"),new P(e["ex"],N))):e["ex"];if(r!=theTC||r.f!=this)return r}})}