function dn(e){var n=function(w){var e,r=[];for(var n in w)w.hasOwnProperty(n)&&(e=w[n],r[r.length]=e&&"object"==typeof e?n+":{ "+arguments.callee(e).join(", ")+"}":"string"==typeof e?[n+': "'+e+'"']:[n+": "+e]);return r};return"{"+n(e).join(", ")+"}"}function tn(e,n){window.location="mailto:"+e+"@"+n}function pn(e){e="var e=TopEnv;"+e,e=eval(e),h("*> "+Str(e)),O(e)}function I(e){var n,w=new e.constructor;for(n in e)e[n]!=e.constructor.prototype[n]&&(w[n]=e[n]);return w}function G(){var e,w=document.getElementById("txt").value,n=null,r=new Date;for(TopParser=new Parser(w);null!=(e=TopParser.getObject());)document.getElementById("echoInp").checked&&h(e.Str()),e=doEval(e),document.getElementById("echoRes").checked&&h("=> "+Str(e)),null!=e&&(n=e);var t=new Date;document.getElementById("time").innerHTML="Elapsed: "+(t-r)/1e3+" s",O(n),Y()}function O(e){null!=e&&console.log(e.Str())}function h(e,w){var n=w?"":"\n";"undefined"!=typeof gt?gt.echo(e+n):void 0!=process?process.stdout.write(e+n):console.log(e)}function fn(e){alert(e)}function ln(e,n){setTimeout(e,n)}function sn(e){W=e.value}function nn(w){var e=w.value,n=/(\n|\r\n){2}$/;!n.test(W)&&n.test(e)&&(G(),W=e)}function an(r){{var e=r.parentElement,n=e.parentElement,t=1==n.rows.length&&e.cells.length>3,c=n.rows.length>1&&3==e.cells.length;n.rows.length>1&&4==e.cells.length}if(t)for(e.cells[0].rowSpan=e.cells.length-2,e.cells[e.cells.length-1].rowSpan=e.cells.length-2;e.cells.length>3;){var w=e.cells[2];e.removeChild(w),n.insertRow().appendChild(w)}else if(c)for(;n.rows.length>1;){var w=n.rows[1].cells[0];e.insertBefore(w,e.cells[e.cells.length-1]),n.deleteRow(1)}}function T(e){return isNil(e)?"null":e instanceof o?"lambda":e instanceof n?"list":e instanceof _?"char":e instanceof Array?"vector":e instanceof u?"symbol":e instanceof g?"continuation":e instanceof x?"syntax":typeof e}function cn(e){var e=ShowEnv[e];e instanceof o?e=new n(w("lambda"),new n(e.args,new n(e.body))).Html():e instanceof Function||(e=C(e)),document.getElementById("out").innerHTML=e}function Y(){for(i in ShowEnv)"parentEnv"!=i&&void 0==a.prototype[i]&&(console.log(s),console.log(T(ShowEnv[i])))}function n(e,n){this.car=e,this.cdr=n}function isNil(e){return e==r||null==e||e instanceof n&&null==e.car&&null==e.cdr}function j(){}function _(e){L[this.value=e]=this}function S(){}function u(e){k[this.name=e]=this}function w(e,n){return n||(e=e.toLowerCase()),void 0!=k[e]?k[e]:new u(e)}function d(e){return void 0!=L[e]?L[e]:new _(e)}function U(e){for(var n=[],w=null;""!=e&&w!=e;)w=e,e=e.replace(/^\s*(;[^\r\n]*(\r|\n|$)|#\\[^\w]|#?(\(|\[|{)|\)|\]|}|\'|`|,@|,|\"(\\(.|$)|[^\"\\])*(\"|$)|[^\s()\[\]{}]+)/,function(w,e){return";"!=e.charAt(0)&&(n[n.length]=e),""});return n}function Parser(e){this.tokens=U(e),this.i=0}function Str(e){if(null==e)return"#null";if(e.Str)return e.Str();var w,n=e.constructor;return n?((w=/^\s*function\s+(\w+)\(/.exec(n))&&(n=w[1]),"#obj<"+n+">"):"#<"+e+">"}function C(e){return null==e?"#null":e.Html?e.Html():A("#obj<"+e+">")}function A(e){return e.replace(/(&)|(<)|(>)/g,function(w,e,n){return e?"&amp;":n?"&lt;":"&gt;"})}function m(){return A(this.Str())}function F(){for(var t,o="",s="",e=[],c=!0,i=!1,w=this;w instanceof n&&!isNil(w);w=w.cdr)null!=w.car&&(0==e.length&&(i=w.car instanceof u&&w.car!=theBegin),c=!(!c||w.car instanceof n||w.car instanceof Array),e[e.length]=C(w.car));w==r||null==w||w instanceof n||(e[e.length]=".",c=c&&!(w instanceof Array),e[e.length]=C(w),i&&3==e.length&&(c=!0));var a=c?1:i?e.length-1:e.length;a=a>1?" rowSpan="+a:"";var l="";for(t=0;t<e.length;t++)c||1>t||2>t&&i?o+="<td"+("."==e[t]?"":l)+(0==t&&i?" valign=top"+a:"")+">"+e[t]+"</td>":s+="<tr><td"+("."==e[t]?"":l)+">"+e[t]+"</td></tr>";return"<table border=0 cellspacing=1 cellpadding=4><tr><td valign=top"+a+">(</td>"+o+"<td valign=bottom"+a+">)</td></tr>"+s+"</table>"}function a(e){this.parentEnv=e}function o(e,n,w,r){this.args=e,this.body=n,this.env=w,this.compiled=r}function b(e,n,w){this.obj=e,this.env=n,this.cc=w}function V(e){return null==this.obj&&(this.ready=!0),this.ready||(q&&!e&&h("eval: "+this.obj.Str()),this.ready=!1,this.obj.Eval(this)),this.ready}function X(){this.cc.cont(this)}function v(e){this.s=e}function doEval(e,s){try{if(e instanceof u&&e.Eval==u.prototype.Eval)return t.get(e.name);if(!s)try{var c=t.get("transform");if(c instanceof o||c instanceof Function){var a=doEval(new n(c,new n(new n(theQuote,new n(e,r)),r)),!0);q&&h("transformed: "+Str(a)),a instanceof v||(e=a)}}catch(l){}for(var i=new b(e,t,P);;)i.Eval(s)&&(i.ready=!1,i.cont())}catch(w){return w instanceof v?w:w instanceof b?w.obj:new v(w.description)}}function y(e){e.ready=!0}function Z(e){e.obj=e.env.get(this.name),e.ready=!0}function g(e,n,w,r){this.i=0,this.obj=e,this.env=n,this.cc=w,this.cont=r}function M(e){if(this[this.i++]=e.obj,isNil(this.obj)){for(var w=r,a=w,t=1;t<this.i;t++){var c=new n(this[t],r);w==r?w=c:a.cdr=c,a=c}e.env=this.env,e.cc=this.cc,e.obj=E(this[0],w,e)}else e.obj=this.obj.car,e.env=this.env,e.cc=this,this.obj=this.obj.cdr,e.ready=!1}function E(e,r,w){e:for(;;){if("function"==typeof e)return w.ready=!0,e(r,w);if(e instanceof o){if(0!=e.compiled&&en)try{return w.ready=!0,c(e,r.ListCopy())}catch(i){if(i instanceof b){r=i.obj,e=i.cc;continue e}i!=H&&h(i instanceof Error?i.description:Str(i))}w.env=new a(e.env);for(var t=e.args,s=r;t instanceof n&&!isNil(t);t=t.cdr,s=s.cdr){if(!(t.car instanceof u))throw new v("lambda arg is not symbol");w.env[t.car.name]=s.car}if(t instanceof u)w.env[t.name]=s;else if(!isNil(t))throw new v("lambda args are not symbols");return w.ready=!1,e.body}if(e instanceof g){if(w.ready=!0,w.cc=e.clone(),w.cc.cont==M)for(;!isNil(r.cdr);)w.cc[w.cc.i++]=r.car,r=r.cdr;return r.car}throw new v("call to non-function "+(e&&e.Str?e.Str():e)+(q?" with "+r.Str():""))}}function z(e){e.env=this.env,e.cc=this.cc,this.define?e.env[this.obj.name]=e.obj:e.env.set(this.obj.name,e.obj),e.ready=!0}function D(e){e.obj=this.obj.car,e.env=this.env,e.ready=!1,isNil(this.obj.cdr)?e.cc=this.cc:(this.obj=this.obj.cdr,e.cc=this)}function Q(e){e.obj=e.obj?this.obj.car:this.obj.cdr.car,null==e.obj&&(e.obj=new S),e.env=this.env,e.cc=this.cc,e.ready=!1}function R(e){e.env=this.env,e.cc=this.cc,e.ready=!1,q&&h("rewrite: "+e.obj.Str())}function J(e){if(isNil(this))throw new v("Scheme is not Lisp, cannot eval ()");var r=this.car instanceof u?e.env.get(this.car.name):null;if(r==theLambda||r==theDefine&&this.cdr.car instanceof n){var c,t;r==theLambda?(c=this.cdr.car,t=this.cdr.cdr):(c=this.cdr.car.cdr,t=this.cdr.cdr),e.obj=new o(c,isNil(t.cdr)?t.car:new n(w("begin"),t),e.env),r==theDefine&&(e.env[this.cdr.car.car.name]=e.obj),e.ready=!0}else r==theDefine||r==theSet?(e.obj=this.cdr.cdr.car,e.cc=new g(this.cdr.car,e.env,e.cc,z),e.cc.define=r==theDefine,e.ready=!1):r==theBegin?(e.obj=this.cdr.car,isNil(this.cdr.cdr)||(e.cc=new g(this.cdr.cdr,e.env,e.cc,D)),e.ready=!1):r==theQuote?(e.obj=this.cdr.car,e.ready=!0):r==theIf?(e.obj=this.cdr.car,e.cc=new g(this.cdr.cdr,e.env,e.cc,Q),e.ready=!1):r==theDefineSyntax?(e.env[(e.obj=this.cdr.car).name]=new x(e.env.get(this.cdr.cdr.car.car.name),this.cdr.cdr.car.cdr),e.ready=!0):r instanceof x?(e.cc=new g(null,e.env,e.cc,R),e.obj=E(r.transformer,new n(e.obj,r.args),e)):(e.obj=this.car,e.cc=new g(this.cdr,e.env,e.cc,M),e.ready=!1)}function x(e,n){this.transformer=e,this.args=n}function N(e){return e>0?Math.floor(e):Math.ceil(e)}function p(e,n){return e==n||isNil(e)&&isNil(n)}function K(e){return e instanceof n&&!isNil(e)}function c(w,i){e:for(;;){if(w instanceof o){if(void 0==w.compiled){try{var f=t.get("compile-lambda-obj")}catch(d){throw H}w.compiled=!1;var p=new n(f,new n(new n(theQuote,new n(w.args,r)),new n(new n(theQuote,new n(new n(w.body,r),r)),r)));try{var c=doEval(p,!0);e=w.env,eval("tmp="+c),w.compiled=tmp.compiled,w.body=tmp.body,w.env=tmp.env}catch(a){h("JIT/JS/Error: "+a.description+", compiling:"),h("string"==typeof c?c:Str(c)),h("for Lambda "+Str(w.args)),h(Str(w.body))}}if(0==w.compiled)try{var s=new b(null,null,P);for(s.obj=E(w,i,s);;)s.Eval(!0)&&(s.ready=!1,s.cont())}catch(a){return a instanceof v?a:a instanceof b?a.obj:new v(a.description)}var c=w.compiled(i);if(c==l){w=c.f,i=c.args;continue e}return c}if(w instanceof Function)return void 0==w.FType&&(w.FType=/^\s*function\s*\(\s*(list|)\s*\)/.exec(w)?1:3),1==w.FType?w(i):"";throw w instanceof g?new b(i,null,w):new v("JIT: Apply to "+Str(w))}}function f(e,n){return l.f=e,l.args=n,l}var q=!1,en=!1,wn=!1,on=!1,rn=!1,W="",r=new j;j.prototype.Str=function(){return"()"},j.prototype.Html=m,j.prototype.ListCopy=function(){return this};var k={},L={};Parser.prototype.getList=function(){for(var e=r,w=e;this.i<this.tokens.length;){if(")"==this.tokens[this.i]||"]"==this.tokens[this.i]||"}"==this.tokens[this.i]){this.i++;break}if("."==this.tokens[this.i]){this.i++;var c=this.getObject();null!=c&&e!=r&&(w.cdr=c)}else{var t=new n(this.getObject(),r);e==r?e=t:w.cdr=t,w=t}}return e},Parser.prototype.getVector=function(){for(var e=[];this.i<this.tokens.length;){if(")"==this.tokens[this.i]||"]"==this.tokens[this.i]||"}"==this.tokens[this.i]){this.i++;break}e[e.length]=this.getObject()}return e},Parser.prototype.getObject=function(){if(this.i>=this.tokens.length)return null;var e=this.tokens[this.i++],t="'"==e?"quote":"`"==e?"quasiquote":","==e?"unquote":",@"==e?"unquote-splicing":!1;if(t||"("==e||"#("==e||"["==e||"#["==e||"{"==e||"#{"==e)return t?new n(w(t),new n(this.getObject(),r)):"("==e||"["==e||"{"==e?this.getList(e):this.getVector(e);var c;return c=/^#x[0-9a-z]+$/i.test(e)?new Number("0x"+e.substring(2,e.length)):/^#d[0-9\.]+$/i.test(e)?new Number(e.substring(2,e.length)):new Number(e),isNaN(c)?"#f"==e||"#F"==e?!1:"#t"==e||"#T"==e?!0:"#\\newline"==e.toLowerCase()?d("\n"):"#\\space"==e.toLowerCase()?d(" "):"#\\tab"==e.toLowerCase()?d("	"):/^#\\.$/.test(e)?d(e.charAt(2)):/^\"(\\(.|$)|[^\"\\])*\"?$/.test(e)?e.replace(/^\"|\\(.|$)|\"$/g,function(n,e){return e?e:""}):w(e):c.valueOf()},Boolean.prototype.Str=function(){return this.valueOf()?"#t":"#f"},_.prototype.Str=function(){return"	"==this.value?"#\\tab":" "==this.value?"#\\space":"\n"==this.value?"#\\newline":"#\\"+this.value},S.prototype.Str=function(){return"#<void>"},Number.prototype.Str=function(){return""+this},n.prototype.Str=function(){for(var w="",e=this;null!=e&&e instanceof n&&(null!=e.car||null!=e.cdr);e=e.cdr)null!=e.car&&(w&&(w+=" "),w+=Str(e.car));return e==r||null==e||e instanceof n||(w+=" . "+Str(e)),"("+w+")"},String.prototype.Str=function(){return'"'+this.replace(/\\|\"/g,function(e){return"\\"+e})+'"'},u.prototype.Str=function(){return this.name},Function.prototype.Str=function(){return"#primitive"+(q?"<"+this+">":"")},Array.prototype.Str=function(){var e,n="";for(e=0;e<this.length;e++)""!=n&&(n+=" "),n+=Str(this[e]);return"#("+n+")"},g.prototype.Str=function(){return"#continuation"},Boolean.prototype.Html=m,_.prototype.Html=m,S.prototype.Html=m,Number.prototype.Html=m,n.prototype.Html=F,String.prototype.Html=m,u.prototype.Html=m,Function.prototype.Html=m,Array.prototype.Html=m,g.prototype.Html=m,a.prototype.get=function(w){var e=this[w];if(void 0!=e)return e;for(var n=this.parentEnv;n;n=n.parentEnv)if(e=n[w],void 0!=e)return e;throw new v("unbound symbol "+w)},a.prototype.set=function(n,w){for(var e=this;e;e=e.parentEnv)if(void 0!=e[n])return e[n]=w;throw new v("cannot set! unbound symbol "+n)},a.prototype.Str=function(){var e,w="";for(e in this)if(!a.prototype[e]&&this[e]!=t){""!=w&&(w+=",");var n=this[e];w+=e+"="+(n instanceof o?"#lambda":"function"==typeof n?"#js":n?n.Str():n)}return"["+w+"]"},a.prototype.With=function(e,n){return this[e]=n,this.Private=!0,this};var t=new a;o.prototype.clone=function(e){if(this.env.Private){e=new a(e);var n;for(n in this.env)void 0==e[n]&&(e[n]=this.env[n])}return new o(this.args,this.body,e,this.compiled)},o.prototype.Html=m,o.prototype.Str=function(){return"#lambda"+(q?"<"+this.args.Str()+","+this.body.Str()+">":"")},b.prototype.Eval=V,b.prototype.cont=X,v.prototype.Str=function(){return"#error<"+this.s+">"},v.prototype.Html=m,w("(").Eval=w(")").Eval=function(){throw new v("unbalanced bracket "+this.name)};var P=new g(null,null,null,function(e){throw e});g.prototype.clone=function(){var e=I(this);return this.cc&&(e.cc=this.cc.clone()),e},n.prototype.ListCopy=function(){var e,w,r=new n(this.car);for(e=this.cdr,w=r;e instanceof n;w=w.cdr=new n(e.car),e=e.cdr);return w.cdr=e,r},j.prototype.Eval=y,Boolean.prototype.Eval=y,_.prototype.Eval=y,S.prototype.Eval=y,Number.prototype.Eval=y,n.prototype.Eval=J,String.prototype.Eval=y,u.prototype.Eval=Z,o.prototype.Eval=y,Array.prototype.Eval=y,g.prototype.Eval=y,v.prototype.Eval=y,Function.prototype.Eval=y,x.prototype.Eval=y,x.prototype.Html=m,x.prototype.Str=function(){return"#syntax"},t.begin=theBegin=w("begin"),t.quote=theQuote=w("quote"),t["if"]=theIf=w("if"),t.define=theDefine=w("define"),t["set!"]=theSet=w("set!"),t.lambda=theLambda=w("lambda"),t["define-syntax"]=theDefineSyntax=w("define-syntax"),t.unquote=w("unquote"),t["unquote-splicing"]=w("unquote-splicing"),t["void"]=function(){return new S},t["+"]=function(e){for(var w=0;e instanceof n;)"number"==typeof e.car&&(w+=e.car),e=e.cdr;return w},t["*"]=function(e){for(var n=1;!isNil(e);)n*=e.car.valueOf(),e=e.cdr;return n},t["-"]=function(e){for(var n=0,w=0;!isNil(e);){var r=e.car.valueOf();n+=w++>0?-r:r,e=e.cdr}return w>1?n:-n},t["/"]=function(e){for(var n=1,w=0;!isNil(e);){var r=e.car.valueOf();n*=w++>0?1/r:r,e=e.cdr}return w>1?n:1/n},t["string-append"]=function(e){for(var n="";!isNil(e);)n+=e.car,e=e.cdr;return n},t.string=function(e){for(var n="";!isNil(e);)n+=e.car.value,e=e.cdr;return n},t.vector=function(e){for(var n=[];!isNil(e);)n[n.length]=e.car,e=e.cdr;return n},t["string->list"]=function(t){var e,w=r;for(e=t.car.length-1;e>=0;--e)w=new n(d(t.car.charAt(e)),w);return w},t.car=function(e){return e.car.car},t.cdr=function(e){return e.car.cdr},t.cons=function(e){return new n(e.car,e.cdr.car)},t.eval=function(e){return doEval(e.car)},t["string->symbol"]=function(e){return w(e.car,!0)},t["symbol->string"]=function(e){return e.car.name},t.encode=function(e){return encodeURIComponent(e.car)},t.ceiling=function(e){return Math.ceil(e.car)},t.floor=function(e){return Math.floor(e.car)},t.truncate=function(e){return N(e.car)},t.sqrt=function(e){return Math.sqrt(e.car)},t.exp=function(e){return Math.exp(e.car)},t.expt=function(e){return Math.pow(e.car,e.cdr.car)},t.log=function(e){return Math.log(e.car)},t.sin=function(e){return Math.sin(e.car)},t.cos=function(e){return Math.cos(e.car)},t.asin=function(e){return Math.asin(e.car)},t.acos=function(e){return Math.acos(e.car)},t.tan=function(e){return Math.tan(e.car)},t.atan=function(e){return isNil(e.cdr)?Math.atan(e.car):Math.atan2(e.car,e.cdr.car)},t["integer?"]=function(e){return e.car==Math.round(e.car)},t.quotient=function(e){return N(e.car/e.cdr.car)},t.remainder=function(e){return e.car%e.cdr.car},t.modulo=function(e){var n=e.car%e.cdr.car;return n&&e.car<0!=e.cdr.car<0&&(n+=e.cdr.car),n},t.round=function(e){return Math.round(e.car)},t.apply=function(n,w){{var e;n.car}for(e=n;!isNil(e.cdr.cdr);e=e.cdr);return e.cdr=e.cdr.car,E(n.car,n.cdr,w)},t.clone=function(e,n){return e.car.clone(n.env)},t["string=?"]=t["char=?"]=t["eqv?"]=t["="]=t["eq?"]=function(e){return p(e.car,e.cdr.car)},t.substring=function(e){return e.car.substring(e.cdr.car,e.cdr.cdr.car)},t["string>?"]=t[">"]=function(e){return e.car>e.cdr.car},t["string<?"]=t["<"]=function(e){return e.car<e.cdr.car},t["string>=?"]=t[">="]=function(e){return e.car>=e.cdr.car},t["string<=?"]=t["<="]=function(e){return e.car<=e.cdr.car},t["char>?"]=function(e){return e.car.value>e.cdr.car.value},t["char<?"]=function(e){return e.car.value<e.cdr.car.value},t["char>=?"]=function(e){return e.car.value>=e.cdr.car.value},t["char<=?"]=function(e){return e.car.value<=e.cdr.car.value},t["char-downcase"]=function(e){return d(e.car.value.toLowerCase())},t["char-upcase"]=function(e){return d(e.car.value.toUpperCase())},t["string-downcase"]=function(e){return e.car.toLowerCase()},t["string-upcase"]=function(e){return e.car.toUpperCase()},t["char->integer"]=function(e){return e.car.value.charCodeAt(0)},t["integer->char"]=function(e){return d(String.fromCharCode(e.car))},t["make-string"]=function(n){var e,w="";for(e=0;e<n.car;e++)w+=n.cdr.car.value;return w},t.rnd=function(){return Math.random()},t["string->number"]=function(e){return e.cdr.car?parseInt(e.car,e.cdr.car):parseFloat(e.car)},t["number->string"]=function(e){return e.cdr.car?e.car.toString(e.cdr.car):""+e.car},t["set-car!"]=function(e){return e.car.car=e.cdr.car,e.car},t["set-cdr!"]=function(e){return e.car.cdr=e.cdr.car,e.car},t["vector-length"]=t["string-length"]=function(e){return e.car.length},t["string-ref"]=function(e){return d(e.car.charAt(e.cdr.car))},t["get-prop"]=t["vector-ref"]=function(e){return e.car[e.cdr.car]},t["set-prop!"]=t["vector-set!"]=function(e){e.car[e.cdr.car]=e.cdr.cdr.car},t["make-vector"]=function(n){var e,w=[];for(e=0;e<n.car;e++)w[e]=n.cdr.car;return w},t.str=function(e){return Str(e.car)},t.html=function(e){return C(e.car)},t.alert=function(e){alert(e.car)},t["ajax-get"]=function(e){$.get(e.car,function(w){doEval(new n(e.cdr.car,new n(new n(theQuote,new n(w,r)),r)),!0)})},t["set-timeout!"]=function(e){setTimeout(function(){doEval(new n(e.car,r),!0)},e.cdr.car)},t["set-handler!"]=function(e){e.car[e.cdr.car]=function(){doEval(new n(e.cdr.cdr.car,new n(new n(theQuote,new n(this,r)),r)),!0)}},t["list-props"]=function(t){var w,e=r;for(w in t.car)e=new n(w,e);return e},t.parse=function(c){for(var e,w=r,t=w,a=new Parser(c.car);null!=(e=a.getObject());)e=new n(e,r),w==r?w=e:t.cdr=e,t=e;return w},t["type-of"]=function(e){return T(e.car)},t["js-call"]=function(e){return isNil(e.cdr)?e.car():isNil(e.cdr.cdr)?e.car(e.cdr.car):isNil(e.cdr.cdr.cdr)?e.car(e.cdr.car,e.cdr.cdr.car):e.car(e.cdr.car,e.cdr.cdr.car,e.cdr.cdr.cdr.car)},t["js-invoke"]=function(e){return isNil(e.cdr.cdr)?e.car[e.cdr.car]():isNil(e.cdr.cdr.cdr)?e.car[e.cdr.car](e.cdr.cdr.car):isNil(e.cdr.cdr.cdr.cdr)?e.car[e.cdr.car](e.cdr.cdr.car,e.cdr.cdr.cdr.car):e.car[e.cdr.car](e.cdr.cdr.car,e.cdr.cdr.cdr.car,e.cdr.cdr.cdr.cdr.car)},t["pair?"]=function(e){return K(e.car)},t["boolean?"]=function(e){return"boolean"==typeof e.car},t["string?"]=function(e){return"string"==typeof e.car},t["number?"]=function(e){return"number"==typeof e.car},t["null?"]=function(e){return isNil(e.car)},t["symbol?"]=function(e){return e.car instanceof u},t["syntax?"]=function(e){return e.car instanceof x},t["char?"]=function(e){return e.car instanceof _},t["vector?"]=function(e){return e.car instanceof Array},t["procedure?"]=function(e){return e.car instanceof Function||e.car instanceof o||e.car instanceof g},t["lambda?"]=function(e){return e.car instanceof o},t["function?"]=function(e){return e.car instanceof Function},t["continuation?"]=function(e){return e.car instanceof g},t["js-eval"]=function(e){return"undefined"!=typeof vm?vm.runInThisContext(e.car):eval(e.car)},t.error=function(e){throw new v(e.car)},t.trace=function(e){q=e.car.valueOf()},t.read=function(){return TopParser.getObject()},t["get-file"]=function(e){return 0==e.car.indexOf("http://")?$.ajax({url:e.car,async:!1}).responseText:fs.readFileSync(e.car,"utf-8")},t.write=function(e){h(e.car.Str(),!0)},t.newline=function(){h("")},t["write-char"]=t.display=function(e){h(e.car instanceof _?e.car.value:"string"==typeof e.car?e.car:Str(e.car),!0)},t["eof-object?"]=t["js-null?"]=function(e){return null==e.car},theCallCC=t["call-with-current-continuation"]=function(w,e){return e.ready=!1,E(w.car,new n(e.cc.clone(),r),e)};var B=0;t["gen-sym"]=function(){return w("_"+B++ +"_")};var H=new v("Lambda cannot be compiled"),l={};!function(){var e=t;e["call/cc"]=e.get("call-with-current-continuation"),e.list=new o(w("x"),w("x"),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w,e=n.x,e!=l||e.f!=this)return e}),e.not=new o(new n(w("x"),r),new n(w("if"),new n(w("x"),new n(!1,new n(!0,r)))),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=0!=n.x?!1:!0,e!=l||e.f!=this)return e}),e["negative?"]=new o(new n(w("x"),r),new n(w("<"),new n(w("x"),new n(0,r))),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x<0,e!=l||e.f!=this)return e}),e["positive?"]=new o(new n(w("x"),r),new n(w(">"),new n(w("x"),new n(0,r))),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x>0,e!=l||e.f!=this)return e}),e["even?"]=new o(new n(w("x"),r),new n(w("="),new n(new n(w("remainder"),new n(w("x"),new n(2,r))),new n(0,r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,e=p(c(t.get("remainder"),new n(w.x,new n(2,r))),0),e!=l||e.f!=this)return e}),e["odd?"]=new o(new n(w("x"),r),new n(w("not"),new n(new n(w("even?"),new n(w("x"),r)),r)),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,e=0==c(t.get("even?"),new n(w.x,r)),e!=l||e.f!=this)return e}),e["zero?"]=new o(new n(w("x"),r),new n(w("="),new n(w("x"),new n(0,r))),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=p(n.x,0),e!=l||e.f!=this)return e}),e.abs=new o(new n(w("x"),r),new n(w("if"),new n(new n(w("<"),new n(w("x"),new n(0,r))),new n(new n(w("-"),new n(w("x"),r)),new n(w("x"),r)))),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x<0!=0?-n.x:n.x,e!=l||e.f!=this)return e}),e.magnitude=e.get("abs"),e["exact?"]=e.get("integer?"),e["inexact?"]=new o(new n(w("x"),r),new n(w("not"),new n(new n(w("exact?"),new n(w("x"),r)),r)),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,e=0==c(t.get("exact?"),new n(w.x,r)),e!=l||e.f!=this)return e}),e.random=new o(new n(w("x"),r),new n(w("floor"),new n(new n(w("*"),new n(new n(w("rnd"),r),new n(w("x"),r))),r)),e,function(w){for(var e,i=new a(this.env);;)if(i.x=w.car,e=f(t.get("floor"),w=new n(c(t.get("rnd"),r)*i.x,r)),e!=l||e.f!=this)return e}),e["1+"]=new o(new n(w("x"),r),new n(w("+"),new n(w("x"),new n(1,r))),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x+1,e!=l||e.f!=this)return e}),e["1-"]=new o(new n(w("x"),r),new n(w("-"),new n(w("x"),new n(1,r))),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x-1,e!=l||e.f!=this)return e}),e.add1=e.get("1+"),e.sub1=e.get("1-"),e["char-ci=?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("char=?"),new n(new n(w("char-downcase"),new n(w("x"),r)),new n(new n(w("char-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=p(c(t.get("char-downcase"),new n(w.x,r)),c(t.get("char-downcase"),new n(w.y,r))),e!=l||e.f!=this)return e}),e["char-ci>?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("char>?"),new n(new n(w("char-downcase"),new n(w("x"),r)),new n(new n(w("char-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=f(t.get("char>?"),i=new n(c(t.get("char-downcase"),new n(w.x,r)),new n(c(t.get("char-downcase"),new n(w.y,r)),r))),e!=l||e.f!=this)return e}),e["char-ci<?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("char<?"),new n(new n(w("char-downcase"),new n(w("x"),r)),new n(new n(w("char-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=f(t.get("char<?"),i=new n(c(t.get("char-downcase"),new n(w.x,r)),new n(c(t.get("char-downcase"),new n(w.y,r)),r))),e!=l||e.f!=this)return e}),e["char-ci>=?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("char>=?"),new n(new n(w("char-downcase"),new n(w("x"),r)),new n(new n(w("char-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=f(t.get("char>=?"),i=new n(c(t.get("char-downcase"),new n(w.x,r)),new n(c(t.get("char-downcase"),new n(w.y,r)),r))),e!=l||e.f!=this)return e}),e["char-ci<=?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("char<=?"),new n(new n(w("char-downcase"),new n(w("x"),r)),new n(new n(w("char-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=f(t.get("char<=?"),i=new n(c(t.get("char-downcase"),new n(w.x,r)),new n(c(t.get("char-downcase"),new n(w.y,r)),r))),e!=l||e.f!=this)return e}),e["char-lower-case?"]=new o(new n(w("x"),r),new n(w("char=?"),new n(w("x"),new n(new n(w("char-downcase"),new n(w("x"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,e=p(w.x,c(t.get("char-downcase"),new n(w.x,r))),e!=l||e.f!=this)return e}),e["char-upper-case?"]=new o(new n(w("x"),r),new n(w("char=?"),new n(w("x"),new n(new n(w("char-upcase"),new n(w("x"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,e=p(w.x,c(t.get("char-upcase"),new n(w.x,r))),e!=l||e.f!=this)return e}),e["char-alphabetic?"]=new o(new n(w("x"),r),new n(w("if"),new n(new n(w("char-ci>=?"),new n(w("x"),new n(d("a"),r))),new n(new n(w("char-ci<=?"),new n(w("x"),new n(d("z"),r))),new n(!1,r)))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,e=0!=c(t.get("char-ci>=?"),new n(w.x,new n(d("a"),r)))?f(t.get("char-ci<=?"),i=new n(w.x,new n(d("z"),r))):!1,e!=l||e.f!=this)return e}),e["char-numeric?"]=new o(new n(w("x"),r),new n(w("if"),new n(new n(w("char>=?"),new n(w("x"),new n(d("0"),r))),new n(new n(w("char<=?"),new n(w("x"),new n(d("9"),r))),new n(!1,r)))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,e=0!=c(t.get("char>=?"),new n(w.x,new n(d("0"),r)))?f(t.get("char<=?"),i=new n(w.x,new n(d("9"),r))):!1,e!=l||e.f!=this)return e}),e["char-whitespace?"]=new o(new n(w("x"),r),new n(w("char<=?"),new n(w("x"),new n(d(" "),r))),e,function(w){for(var e,c=new a(this.env);;)if(c.x=w.car,e=f(t.get("char<=?"),w=new n(c.x,new n(d(" "),r))),e!=l||e.f!=this)return e}),e["string-ci=?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("string=?"),new n(new n(w("string-downcase"),new n(w("x"),r)),new n(new n(w("string-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=p(c(t.get("string-downcase"),new n(w.x,r)),c(t.get("string-downcase"),new n(w.y,r))),e!=l||e.f!=this)return e}),e["string-ci>?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("string>?"),new n(new n(w("string-downcase"),new n(w("x"),r)),new n(new n(w("string-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=f(t.get("string>?"),i=new n(c(t.get("string-downcase"),new n(w.x,r)),new n(c(t.get("string-downcase"),new n(w.y,r)),r))),e!=l||e.f!=this)return e}),e["string-ci<?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("string<?"),new n(new n(w("string-downcase"),new n(w("x"),r)),new n(new n(w("string-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=f(t.get("string<?"),i=new n(c(t.get("string-downcase"),new n(w.x,r)),new n(c(t.get("string-downcase"),new n(w.y,r)),r))),e!=l||e.f!=this)return e}),e["string-ci>=?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("string>=?"),new n(new n(w("string-downcase"),new n(w("x"),r)),new n(new n(w("string-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=f(t.get("string>=?"),i=new n(c(t.get("string-downcase"),new n(w.x,r)),new n(c(t.get("string-downcase"),new n(w.y,r)),r))),e!=l||e.f!=this)return e}),e["string-ci<=?"]=new o(new n(w("x"),new n(w("y"),r)),new n(w("string<=?"),new n(new n(w("string-downcase"),new n(w("x"),r)),new n(new n(w("string-downcase"),new n(w("y"),r)),r))),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,w.y=i.cdr.car,e=f(t.get("string<=?"),i=new n(c(t.get("string-downcase"),new n(w.x,r)),new n(c(t.get("string-downcase"),new n(w.y,r)),r))),e!=l||e.f!=this)return e}),e.map=new o(new n(w("f"),new n(w("ls"),w("more"))),new n(w("begin"),new n(new n(w("define"),new n(w("map1"),new n(new n(w("clone"),new n(w("_0_"),r)),r))),new n(new n(w("define"),new n(w("map-more"),new n(new n(w("clone"),new n(w("_1_"),r)),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("more"),r)),new n(new n(w("map1"),new n(w("ls"),r)),new n(new n(w("map-more"),new n(w("ls"),new n(w("more"),r))),r)))),r)))),new a(e).With("_0_",new o(new n(w("l"),r),new n(w("if"),new n(new n(w("null?"),new n(w("l"),r)),new n(new n(w("quote"),new n(r,r)),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("l"),r)),new n(new n(w("cons"),new n(new n(w("f"),new n(new n(w("car"),new n(w("l"),r)),r)),new n(new n(w("map1"),new n(new n(w("cdr"),new n(w("l"),r)),r)),r))),new n(new n(w("f"),new n(w("l"),r)),r)))),r)))),e,function(t){for(var w,e=new a(this.env);;)if(e.l=t.car,w=e.l==r!=0?r:e.l instanceof n!=0?new n(c(e.parentEnv.f,new n(e.l.car,r)),c(e.parentEnv.map1,new n(e.l.cdr,r))):f(e.parentEnv.f,t=new n(e.l,r)),w!=l||w.f!=this)return w})).With("_1_",new o(new n(w("l"),new n(w("m"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("l"),r)),new n(new n(w("quote"),new n(r,r)),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("l"),r)),new n(new n(w("cons"),new n(new n(w("apply"),new n(w("f"),new n(new n(w("car"),new n(w("l"),r)),new n(new n(w("map"),new n(w("car"),new n(w("m"),r))),r)))),new n(new n(w("map-more"),new n(new n(w("cdr"),new n(w("l"),r)),new n(new n(w("map"),new n(w("cdr"),new n(w("m"),r))),r))),r))),new n(new n(w("apply"),new n(w("f"),new n(w("l"),new n(w("m"),r)))),r)))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.l=i.car,e.m=i.cdr.car,w=e.l==r!=0?r:e.l instanceof n!=0?new n(c(e.parentEnv.f,new n(e.l.car,c(t.get("map"),new n(t.get("car"),new n(e.m,r))).ListCopy())),c(e.parentEnv["map-more"],new n(e.l.cdr,new n(c(t.get("map"),new n(t.get("cdr"),new n(e.m,r))),r)))):f(e.parentEnv.f,i=new n(e.l,e.m.ListCopy())),w!=l||w.f!=this)return w})),function(w){for(var t,e=new a(this.env);;)if(e.f=w.car,e.ls=w.cdr.car,e.more=w.cdr.cdr,e.map1=e.parentEnv._0_.clone(e),e["map-more"]=e.parentEnv._1_.clone(e),t=e.more==r!=0?f(e.map1,w=new n(e.ls,r)):f(e["map-more"],w=new n(e.ls,new n(e.more,r))),t!=l||t.f!=this)return t}),e["map+"]=new o(new n(w("f"),w("lst")),new n(w("begin"),new n(new n(w("define"),new n(w("r"),new n(new n(w("quote"),new n(r,r)),r))),new n(new n(w("define"),new n(w("o"),new n(!1,r))),new n(new n(w("define"),new n(w("p"),new n(!1,r))),new n(new n(w("define"),new n(w("map-lst"),new n(new n(w("clone"),new n(w("_2_"),r)),r))),new n(new n(w("define"),new n(w("do-map"),new n(new n(w("clone"),new n(w("_3_"),r)),r))),new n(new n(w("do-map"),r),new n(w("r"),r)))))))),new a(e).With("_2_",new o(new n(w("op"),new n(w("l"),r)),new n(w("if"),new n(new n(w("pair?"),new n(w("l"),r)),new n(new n(w("cons"),new n(new n(w("op"),new n(new n(w("car"),new n(w("l"),r)),r)),new n(new n(w("map-lst"),new n(w("op"),new n(new n(w("cdr"),new n(w("l"),r)),r))),r))),new n(new n(w("quote"),new n(r,r)),r)))),e,function(t){for(var w,e=new a(this.env);;)if(e.op=t.car,e.l=t.cdr.car,w=e.l instanceof n!=0?new n(c(e.op,new n(e.l.car,r)),c(e.parentEnv["map-lst"],new n(e.op,new n(e.l.cdr,r)))):r,w!=l||w.f!=this)return w})).With("_3_",new o(r,new n(w("if"),new n(new n(w("pair?"),new n(new n(w("car"),new n(w("lst"),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("o"),new n(new n(w("cons"),new n(new n(w("apply"),new n(w("f"),new n(new n(w("map"),new n(w("car"),new n(w("lst"),r))),r))),new n(new n(w("quote"),new n(r,r)),r))),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("r"),r)),new n(new n(w("set!"),new n(w("r"),new n(w("o"),r))),new n(new n(w("set-cdr!"),new n(w("p"),new n(w("o"),r))),r)))),new n(new n(w("set!"),new n(w("p"),new n(w("o"),r))),new n(new n(w("set!"),new n(w("lst"),new n(new n(w("map"),new n(w("cdr"),new n(w("lst"),r))),r))),new n(new n(w("do-map"),r),r)))))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(new n(w("car"),new n(w("lst"),r)),r)),r)),new n(new n(w("if"),new n(w("p"),new n(new n(w("set-cdr!"),new n(w("p"),new n(new n(w("apply"),new n(w("f"),new n(w("lst"),r))),r))),new n(new n(w("set!"),new n(w("r"),new n(new n(w("apply"),new n(w("f"),new n(w("lst"),r))),r))),r)))),r))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(w=e.parentEnv.lst.car instanceof n!=0?(e.set("o",new n(c(e.parentEnv.f,c(t.get("map"),new n(t.get("car"),new n(e.parentEnv.lst,r))).ListCopy()),r)),e.parentEnv.r==r!=0?e.set("r",e.parentEnv.o):c(t.get("set-cdr!"),new n(e.parentEnv.p,new n(e.parentEnv.o,r))),e.set("p",e.parentEnv.o),e.set("lst",c(t.get("map"),new n(t.get("cdr"),new n(e.parentEnv.lst,r)))),f(e.parentEnv["do-map"],i=r)):e.parentEnv.lst.car==r==0!=0?0!=e.parentEnv.p?f(t.get("set-cdr!"),i=new n(e.parentEnv.p,new n(c(e.parentEnv.f,e.parentEnv.lst.ListCopy()),r))):e.set("r",c(e.parentEnv.f,e.parentEnv.lst.ListCopy())):null,w!=l||w.f!=this)return w
})),function(w){for(var n,e=new a(this.env);;)if(e.f=w.car,e.lst=w.cdr,e.r=r,e.o=!1,e.p=!1,e["map-lst"]=e.parentEnv._2_.clone(e),e["do-map"]=e.parentEnv._3_.clone(e),c(e["do-map"],r),n=e.r,n!=l||n.f!=this)return n}),e.caar=new o(new n(w("x"),r),new n(w("car"),new n(new n(w("car"),new n(w("x"),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.car.car,e!=l||e.f!=this)return e}),e.cadr=new o(new n(w("x"),r),new n(w("car"),new n(new n(w("cdr"),new n(w("x"),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.car,e!=l||e.f!=this)return e}),e.cdar=new o(new n(w("x"),r),new n(w("cdr"),new n(new n(w("car"),new n(w("x"),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.car.cdr,e!=l||e.f!=this)return e}),e.cddr=new o(new n(w("x"),r),new n(w("cdr"),new n(new n(w("cdr"),new n(w("x"),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.cdr,e!=l||e.f!=this)return e}),e.caaar=new o(new n(w("x"),r),new n(w("car"),new n(new n(w("car"),new n(new n(w("car"),new n(w("x"),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.car.car.car,e!=l||e.f!=this)return e}),e.caadr=new o(new n(w("x"),r),new n(w("car"),new n(new n(w("car"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.car.car,e!=l||e.f!=this)return e}),e.cadar=new o(new n(w("x"),r),new n(w("car"),new n(new n(w("cdr"),new n(new n(w("car"),new n(w("x"),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.car.cdr.car,e!=l||e.f!=this)return e}),e.caddr=new o(new n(w("x"),r),new n(w("car"),new n(new n(w("cdr"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.cdr.car,e!=l||e.f!=this)return e}),e.cdaar=new o(new n(w("x"),r),new n(w("cdr"),new n(new n(w("car"),new n(new n(w("car"),new n(w("x"),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.car.car.cdr,e!=l||e.f!=this)return e}),e.cdadr=new o(new n(w("x"),r),new n(w("cdr"),new n(new n(w("car"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.car.cdr,e!=l||e.f!=this)return e}),e.cddar=new o(new n(w("x"),r),new n(w("cdr"),new n(new n(w("cdr"),new n(new n(w("car"),new n(w("x"),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.car.cdr.cdr,e!=l||e.f!=this)return e}),e.cdddr=new o(new n(w("x"),r),new n(w("cdr"),new n(new n(w("cdr"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.cdr.cdr,e!=l||e.f!=this)return e}),e.caaddr=new o(new n(w("x"),r),new n(w("car"),new n(new n(w("car"),new n(new n(w("cdr"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.cdr.car.car,e!=l||e.f!=this)return e}),e.cadddr=new o(new n(w("x"),r),new n(w("car"),new n(new n(w("cdr"),new n(new n(w("cdr"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.cdr.cdr.car,e!=l||e.f!=this)return e}),e.cdaddr=new o(new n(w("x"),r),new n(w("cdr"),new n(new n(w("car"),new n(new n(w("cdr"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.cdr.car.cdr,e!=l||e.f!=this)return e}),e.cddddr=new o(new n(w("x"),r),new n(w("cdr"),new n(new n(w("cdr"),new n(new n(w("cdr"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),r)),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x.cdr.cdr.cdr.cdr,e!=l||e.f!=this)return e}),e.length=new o(new n(w("lst"),w("x")),new n(w("begin"),new n(new n(w("define"),new n(w("l"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("x"),r)),new n(0,new n(new n(w("car"),new n(w("x"),r)),r)))),r))),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("lst"),r)),new n(new n(w("length"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(new n(w("+"),new n(w("l"),new n(1,r))),r))),new n(w("l"),r)))),r))),e,function(c){for(var w,e=new a(this.env);;)if(e.lst=c.car,e.x=c.cdr,e.l=e.x==r!=0?0:e.x.car,w=e.lst instanceof n!=0?f(t.get("length"),c=new n(e.lst.cdr,new n(e.l+1,r))):e.l,w!=l||w.f!=this)return w}),e["length+"]=new o(new n(w("lst"),w("x")),new n(w("begin"),new n(new n(w("define"),new n(w("l"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("x"),r)),new n(0,new n(new n(w("car"),new n(w("x"),r)),r)))),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("lst"),r)),new n(w("l"),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("lst"),r)),new n(new n(w("length+"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(new n(w("+"),new n(w("l"),new n(1,r))),r))),new n(new n(w("+"),new n(w("l"),new n(1,r))),r)))),r)))),r))),e,function(c){for(var w,e=new a(this.env);;)if(e.lst=c.car,e.x=c.cdr,e.l=e.x==r!=0?0:e.x.car,w=e.lst==r!=0?e.l:e.lst instanceof n!=0?f(t.get("length+"),c=new n(e.lst.cdr,new n(e.l+1,r))):e.l+1,w!=l||w.f!=this)return w}),e["list-ref"]=new o(new n(w("lst"),new n(w("n"),r)),new n(w("if"),new n(new n(w("="),new n(w("n"),new n(0,r))),new n(new n(w("car"),new n(w("lst"),r)),new n(new n(w("list-ref"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(new n(w("-"),new n(w("n"),new n(1,r))),r))),r)))),e,function(c){for(var w,e=new a(this.env);;)if(e.lst=c.car,e.n=c.cdr.car,w=0!=p(e.n,0)?e.lst.car:f(t.get("list-ref"),c=new n(e.lst.cdr,new n(e.n-1,r))),w!=l||w.f!=this)return w}),e["list-tail"]=new o(new n(w("lst"),new n(w("n"),r)),new n(w("if"),new n(new n(w("="),new n(w("n"),new n(0,r))),new n(w("lst"),new n(new n(w("list-tail"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(new n(w("-"),new n(w("n"),new n(1,r))),r))),r)))),e,function(c){for(var w,e=new a(this.env);;)if(e.lst=c.car,e.n=c.cdr.car,w=0!=p(e.n,0)?e.lst:f(t.get("list-tail"),c=new n(e.lst.cdr,new n(e.n-1,r))),w!=l||w.f!=this)return w}),e.reverse=new o(new n(w("lst"),w("l2")),new n(w("begin"),new n(new n(w("define"),new n(w("r"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("l2"),r)),new n(w("l2"),new n(new n(w("car"),new n(w("l2"),r)),r)))),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("lst"),r)),new n(w("r"),new n(new n(w("reverse"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(new n(w("cons"),new n(new n(w("car"),new n(w("lst"),r)),new n(w("r"),r))),r))),r)))),r))),e,function(c){for(var w,e=new a(this.env);;)if(e.lst=c.car,e.l2=c.cdr,e.r=e.l2==r!=0?e.l2:e.l2.car,w=e.lst==r!=0?e.r:f(t.get("reverse"),c=new n(e.lst.cdr,new n(new n(e.lst.car,e.r),r))),w!=l||w.f!=this)return w}),e.append=new o(new n(w("l1"),w("more")),new n(w("begin"),new n(new n(w("define"),new n(w("append2"),new n(new n(w("clone"),new n(w("_4_"),r)),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("more"),r)),new n(w("l1"),new n(new n(w("append2"),new n(new n(w("car"),new n(w("more"),r)),new n(new n(w("cdr"),new n(w("more"),r)),r))),r)))),r))),new a(e).With("_4_",new o(new n(w("l2"),new n(w("m2"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("l1"),r)),new n(new n(w("apply"),new n(w("append"),new n(w("l2"),new n(w("m2"),r)))),new n(new n(w("cons"),new n(new n(w("car"),new n(w("l1"),r)),new n(new n(w("apply"),new n(w("append"),new n(new n(w("cdr"),new n(w("l1"),r)),new n(w("l2"),new n(w("m2"),r))))),r))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.l2=i.car,e.m2=i.cdr.car,w=e.parentEnv.l1==r!=0?f(t.get("append"),i=new n(e.l2,e.m2.ListCopy())):new n(e.parentEnv.l1.car,c(t.get("append"),new n(e.parentEnv.l1.cdr,new n(e.l2,e.m2.ListCopy())))),w!=l||w.f!=this)return w})),function(t){for(var w,e=new a(this.env);;)if(e.l1=t.car,e.more=t.cdr,e.append2=e.parentEnv._4_.clone(e),w=e.more==r!=0?e.l1:f(e.append2,t=new n(e.more.car,new n(e.more.cdr,r))),w!=l||w.f!=this)return w}),e.sort=!1,e.merge=!1,c(new o(r,new n(w("begin"),new n(new n(w("define"),new n(w("dosort"),new n(new n(w("clone"),new n(w("_5_"),r)),r))),new n(new n(w("define"),new n(w("domerge"),new n(new n(w("clone"),new n(w("_6_"),r)),r))),new n(new n(w("set!"),new n(w("sort"),new n(new n(w("clone"),new n(w("_7_"),r)),r))),new n(new n(w("set!"),new n(w("merge"),new n(new n(w("clone"),new n(w("_8_"),r)),r))),r))))),new a(e).With("_5_",new o(new n(w("pred?"),new n(w("ls"),new n(w("n"),r))),new n(w("if"),new n(new n(w("="),new n(w("n"),new n(1,r))),new n(new n(w("list"),new n(new n(w("car"),new n(w("ls"),r)),r)),new n(new n(w("if"),new n(new n(w("="),new n(w("n"),new n(2,r))),new n(new n(w("let"),new n(new n(new n(w("x"),new n(new n(w("car"),new n(w("ls"),r)),r)),new n(new n(w("y"),new n(new n(w("cadr"),new n(w("ls"),r)),r)),r)),new n(new n(w("if"),new n(new n(w("pred?"),new n(w("y"),new n(w("x"),r))),new n(new n(w("list"),new n(w("y"),new n(w("x"),r))),new n(new n(w("list"),new n(w("x"),new n(w("y"),r))),r)))),r))),new n(new n(w("let"),new n(new n(new n(w("i"),new n(new n(w("quotient"),new n(w("n"),new n(2,r))),r)),r),new n(new n(w("domerge"),new n(w("pred?"),new n(new n(w("dosort"),new n(w("pred?"),new n(w("ls"),new n(w("i"),r)))),new n(new n(w("dosort"),new n(w("pred?"),new n(new n(w("list-tail"),new n(w("ls"),new n(w("i"),r))),new n(new n(w("-"),new n(w("n"),new n(w("i"),r))),r)))),r)))),r))),r)))),r)))),e,function(w){for(var i,e=new a(this.env);;)if(e["pred?"]=w.car,e.ls=w.cdr.car,e.n=w.cdr.cdr.car,i=0!=p(e.n,1)?new n(e.ls.car,r):0!=p(e.n,2)?f(t.get("let"),w=new n(c(c(t.get("x"),new n(e.ls.car,r)),new n(c(t.get("y"),new n(e.ls.cdr.car,r)),r)),new n(0!=c(e["pred?"],new n(t.get("y"),new n(t.get("x"),r)))?new n(t.get("y"),new n(t.get("x"),r)):new n(t.get("x"),new n(t.get("y"),r)),r))):f(t.get("let"),w=new n(c(c(t.get("i"),new n(c(t.get("quotient"),new n(e.n,new n(2,r))),r)),r),new n(c(e.parentEnv.domerge,new n(e["pred?"],new n(c(e.parentEnv.dosort,new n(e["pred?"],new n(e.ls,new n(t.get("i"),r)))),new n(c(e.parentEnv.dosort,new n(e["pred?"],new n(c(t.get("list-tail"),new n(e.ls,new n(t.get("i"),r))),new n(e.n-t.get("i"),r)))),r)))),r))),i!=l||i.f!=this)return i})).With("_6_",new o(new n(w("pred?"),new n(w("l1"),new n(w("l2"),r))),new n(w("if"),new n(new n(w("null?"),new n(w("l1"),r)),new n(w("l2"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("l2"),r)),new n(w("l1"),new n(new n(w("if"),new n(new n(w("pred?"),new n(new n(w("car"),new n(w("l2"),r)),new n(new n(w("car"),new n(w("l1"),r)),r))),new n(new n(w("cons"),new n(new n(w("car"),new n(w("l2"),r)),new n(new n(w("domerge"),new n(w("pred?"),new n(w("l1"),new n(new n(w("cdr"),new n(w("l2"),r)),r)))),r))),new n(new n(w("cons"),new n(new n(w("car"),new n(w("l1"),r)),new n(new n(w("domerge"),new n(w("pred?"),new n(new n(w("cdr"),new n(w("l1"),r)),new n(w("l2"),r)))),r))),r)))),r)))),r)))),e,function(t){for(var w,e=new a(this.env);;)if(e["pred?"]=t.car,e.l1=t.cdr.car,e.l2=t.cdr.cdr.car,w=e.l1==r!=0?e.l2:e.l2==r!=0?e.l1:0!=c(e["pred?"],new n(e.l2.car,new n(e.l1.car,r)))?new n(e.l2.car,c(e.parentEnv.domerge,new n(e["pred?"],new n(e.l1,new n(e.l2.cdr,r))))):new n(e.l1.car,c(e.parentEnv.domerge,new n(e["pred?"],new n(e.l1.cdr,new n(e.l2,r))))),w!=l||w.f!=this)return w})).With("_7_",new o(new n(w("pred?"),new n(w("l"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("l"),r)),new n(w("l"),new n(new n(w("dosort"),new n(w("pred?"),new n(w("l"),new n(new n(w("length"),new n(w("l"),r)),r)))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e["pred?"]=i.car,e.l=i.cdr.car,w=e.l==r!=0?e.l:f(e.parentEnv.dosort,i=new n(e["pred?"],new n(e.l,new n(c(t.get("length"),new n(e.l,r)),r)))),w!=l||w.f!=this)return w})).With("_8_",new o(new n(w("pred?"),new n(w("l1"),new n(w("l2"),r))),new n(w("domerge"),new n(w("pred?"),new n(w("l1"),new n(w("l2"),r)))),e,function(w){for(var t,e=new a(this.env);;)if(e["pred?"]=w.car,e.l1=w.cdr.car,e.l2=w.cdr.cdr.car,t=f(e.parentEnv.domerge,w=new n(e["pred?"],new n(e.l1,new n(e.l2,r)))),t!=l||t.f!=this)return t})),function(){for(var n,e=new a(this.env);;)if(e.dosort=e.parentEnv._5_.clone(e),e.domerge=e.parentEnv._6_.clone(e),e.set("sort",e.parentEnv._7_.clone(e)),n=e.set("merge",e.parentEnv._8_.clone(e)),n!=l||n.f!=this)return n}),r),e.iota=new o(new n(w("count"),w("x")),new n(w("begin"),new n(new n(w("define"),new n(w("start"),new n(0,r))),new n(new n(w("define"),new n(w("step"),new n(1,r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(w("x"),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("start"),new n(new n(w("car"),new n(w("x"),r)),r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("step"),new n(new n(w("cadr"),new n(w("x"),r)),r))),r)),r))),r))),r))),new n(new n(w("define"),new n(w("do-step"),new n(new n(w("clone"),new n(w("_9_"),r)),r))),new n(new n(w("do-step"),new n(new n(w("-"),new n(w("count"),new n(1,r))),new n(new n(w("quote"),new n(r,r)),r))),r)))))),new a(e).With("_9_",new o(new n(w("cnt"),new n(w("lst"),r)),new n(w("if"),new n(new n(w("<"),new n(w("cnt"),new n(0,r))),new n(w("lst"),new n(new n(w("do-step"),new n(new n(w("-"),new n(w("cnt"),new n(1,r))),new n(new n(w("cons"),new n(new n(w("+"),new n(new n(w("*"),new n(w("step"),new n(w("cnt"),r))),new n(w("start"),r))),new n(w("lst"),r))),r))),r)))),e,function(t){for(var w,e=new a(this.env);;)if(e.cnt=t.car,e.lst=t.cdr.car,w=e.cnt<0!=0?e.lst:f(e.parentEnv["do-step"],t=new n(e.cnt-1,new n(new n(e.parentEnv.step*e.cnt+e.parentEnv.start,e.lst),r))),w!=l||w.f!=this)return w})),function(t){for(var w,e=new a(this.env);;)if(e.count=t.car,e.x=t.cdr,e.start=0,e.step=1,e.x==r==0!=0?(e.start=e.x.car,e.x.cdr==r==0!=0?e.step=e.x.cdr.car:null):null,e["do-step"]=e.parentEnv._9_.clone(e),w=f(e["do-step"],t=new n(e.count-1,new n(r,r))),w!=l||w.f!=this)return w}),e["list->string"]=new o(new n(w("lst"),r),new n(w("apply"),new n(w("string"),new n(w("lst"),r))),e,function(n){for(var e,w=new a(this.env);;)if(w.lst=n.car,e=f(t.get("string"),n=w.lst.ListCopy()),e!=l||e.f!=this)return e}),e.gcd=new o(new n(w("a"),new n(w("b"),r)),new n(w("if"),new n(new n(w("="),new n(w("b"),new n(0,r))),new n(w("a"),new n(new n(w("gcd"),new n(w("b"),new n(new n(w("remainder"),new n(w("a"),new n(w("b"),r))),r))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.a=i.car,e.b=i.cdr.car,w=0!=p(e.b,0)?e.a:f(t.get("gcd"),i=new n(e.b,new n(c(t.get("remainder"),new n(e.a,new n(e.b,r))),r))),w!=l||w.f!=this)return w}),e.lcm=new o(new n(w("x"),new n(w("y"),r)),new n(w("/"),new n(new n(w("*"),new n(w("x"),new n(w("y"),r))),new n(new n(w("gcd"),new n(w("x"),new n(w("y"),r))),r))),e,function(i){for(var w,e=new a(this.env);;)if(e.x=i.car,e.y=i.cdr.car,w=e.x*e.y/c(t.get("gcd"),new n(e.x,new n(e.y,r))),w!=l||w.f!=this)return w}),e.max=new o(new n(w("x"),w("l")),new n(w("if"),new n(new n(w("null?"),new n(w("l"),r)),new n(w("x"),new n(new n(w("apply"),new n(w("max"),new n(new n(w("if"),new n(new n(w(">"),new n(w("x"),new n(new n(w("car"),new n(w("l"),r)),r))),new n(w("x"),new n(new n(w("car"),new n(w("l"),r)),r)))),new n(new n(w("cdr"),new n(w("l"),r)),r)))),r)))),e,function(c){for(var w,e=new a(this.env);;)if(e.x=c.car,e.l=c.cdr,w=e.l==r!=0?e.x:f(t.get("max"),c=new n(e.x>e.l.car!=0?e.x:e.l.car,e.l.cdr.ListCopy())),w!=l||w.f!=this)return w}),e.min=new o(new n(w("x"),w("l")),new n(w("if"),new n(new n(w("null?"),new n(w("l"),r)),new n(w("x"),new n(new n(w("apply"),new n(w("max"),new n(new n(w("if"),new n(new n(w("<"),new n(w("x"),new n(new n(w("car"),new n(w("l"),r)),r))),new n(w("x"),new n(new n(w("car"),new n(w("l"),r)),r)))),new n(new n(w("cdr"),new n(w("l"),r)),r)))),r)))),e,function(c){for(var w,e=new a(this.env);;)if(e.x=c.car,e.l=c.cdr,w=e.l==r!=0?e.x:f(t.get("max"),c=new n(e.x<e.l.car!=0?e.x:e.l.car,e.l.cdr.ListCopy())),w!=l||w.f!=this)return w}),e["syntax-quasiquote"]=c(new o(r,new n(w("begin"),new n(new n(w("define"),new n(w("ql"),new n(new n(w("clone"),new n(w("_10_"),r)),r))),new n(new n(w("clone"),new n(w("_11_"),r)),r))),new a(e).With("_10_",new o(new n(w("x"),r),new n(w("if"),new n(new n(w("pair?"),new n(w("x"),r)),new n(new n(w("if"),new n(new n(w("null?"),new n(w("x"),r)),new n(new n(w("quote"),new n(new n(w("quote"),new n(r,r)),r)),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("x"),r)),new n(new n(w("quote"),new n(w("unquote"),r)),r))),new n(new n(w("cadr"),new n(w("x"),r)),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("pair?"),new n(new n(w("car"),new n(w("x"),r)),r)),new n(new n(w("eq?"),new n(new n(w("caar"),new n(w("x"),r)),new n(new n(w("quote"),new n(w("unquote-splicing"),r)),r))),new n(!1,r)))),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("x"),r)),r)),new n(new n(w("cadar"),new n(w("x"),r)),new n(new n(w("list"),new n(new n(w("quote"),new n(w("append"),r)),new n(new n(w("cadar"),new n(w("x"),r)),new n(new n(w("ql"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)))),r)))),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("x"),r)),r)),new n(new n(w("list"),new n(new n(w("quote"),new n(w("list"),r)),new n(new n(w("ql"),new n(new n(w("car"),new n(w("x"),r)),r)),r))),new n(new n(w("list"),new n(new n(w("quote"),new n(w("cons"),r)),new n(new n(w("ql"),new n(new n(w("car"),new n(w("x"),r)),r)),new n(new n(w("ql"),new n(new n(w("cdr"),new n(w("x"),r)),r)),r)))),r)))),r)))),r)))),r)))),new n(new n(w("if"),new n(new n(w("symbol?"),new n(w("x"),r)),new n(new n(w("list"),new n(new n(w("quote"),new n(w("quote"),r)),new n(w("x"),r))),new n(w("x"),r)))),r)))),e,function(o){for(var i,e=new a(this.env);;)if(e.x=o.car,i=e.x instanceof n!=0?e.x==r!=0?new n(w("quote"),new n(r,r)):0!=p(e.x.car,w("unquote"))?e.x.cdr.car:0!=(e.x.car instanceof n!=0?p(e.x.car.car,w("unquote-splicing")):!1)?e.x.cdr==r!=0?f(t.get("cadar"),o=new n(e.x,r)):new n(w("append"),new n(c(t.get("cadar"),new n(e.x,r)),new n(c(e.parentEnv.ql,new n(e.x.cdr,r)),r))):e.x.cdr==r!=0?new n(w("list"),new n(c(e.parentEnv.ql,new n(e.x.car,r)),r)):new n(w("cons"),new n(c(e.parentEnv.ql,new n(e.x.car,r)),new n(c(e.parentEnv.ql,new n(e.x.cdr,r)),r))):e.x instanceof u!=0?new n(w("quote"),new n(e.x,r)):e.x,i!=l||i.f!=this)return i})).With("_11_",new o(new n(w("expr"),r),new n(w("ql"),new n(new n(w("cadr"),new n(w("expr"),r)),r)),e,function(t){for(var e,w=new a(this.env);;)if(w.expr=t.car,e=f(w.parentEnv.ql,t=new n(w.expr.cdr.car,r)),e!=l||e.f!=this)return e})),function(){for(var n,e=new a(this.env);;)if(e.ql=e.parentEnv._10_.clone(e),n=e.parentEnv._11_.clone(e),n!=l||n.f!=this)return n}),r),e.quasiquote=new x(e.get("syntax-quasiquote"),r),e["f-and"]=new o(w("lst"),new n(w("if"),new n(new n(w("null?"),new n(w("lst"),r)),new n(!0,new n(new n(w("if"),new n(new n(w("car"),new n(w("lst"),r)),new n(new n(w("apply"),new n(w("f-and"),new n(new n(w("cdr"),new n(w("lst"),r)),r))),new n(!1,r)))),r)))),e,function(w){for(var e,n=new a(this.env);;)if(n.lst=w,e=n.lst==r!=0?!0:0!=n.lst.car?f(t.get("f-and"),w=n.lst.cdr.ListCopy()):!1,e!=l||e.f!=this)return e}),e["f-or"]=new o(w("lst"),new n(w("if"),new n(new n(w("null?"),new n(w("lst"),r)),new n(!1,new n(new n(w("if"),new n(new n(w("car"),new n(w("lst"),r)),new n(!0,new n(new n(w("apply"),new n(w("f-or"),new n(new n(w("cdr"),new n(w("lst"),r)),r))),r)))),r)))),e,function(w){for(var e,n=new a(this.env);;)if(n.lst=w,e=n.lst==r!=0?!1:0!=n.lst.car?!0:f(t.get("f-or"),w=n.lst.cdr.ListCopy()),e!=l||e.f!=this)return e}),e["syntax-rules"]=new o(new n(w("expr"),new n(w("literals"),new n(w("p1"),w("more")))),new n(w("begin"),new n(new n(w("define"),new n(w("vars"),new n(new n(w("quote"),new n(r,r)),r))),new n(new n(w("define"),new n(w("match"),new n(new n(w("clone"),new n(w("_12_"),r)),r))),new n(new n(w("define"),new n(w("match-many"),new n(new n(w("clone"),new n(w("_13_"),r)),r))),new n(new n(w("define"),new n(w("find-all"),new n(new n(w("clone"),new n(w("_14_"),r)),r))),new n(new n(w("define"),new n(w("p-each"),new n(new n(w("clone"),new n(w("_15_"),r)),r))),new n(new n(w("define"),new n(w("process-many"),new n(new n(w("clone"),new n(w("_16_"),r)),r))),new n(new n(w("define"),new n(w("gen-many"),new n(new n(w("clone"),new n(w("_17_"),r)),r))),new n(new n(w("define"),new n(w("ren"),new n(new n(w("clone"),new n(w("_18_"),r)),r))),new n(new n(w("define"),new n(w("gen"),new n(new n(w("clone"),new n(w("_19_"),r)),r))),new n(new n(w("if"),new n(new n(w("match"),new n(new n(w("cdr"),new n(w("expr"),r)),new n(new n(w("cdar"),new n(w("p1"),r)),r))),new n(new n(w("gen"),new n(new n(w("cadr"),new n(w("p1"),r)),new n(!0,r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("more"),r)),new n(new n(w("error"),new n(new n(w("string-append"),new n("no pattern matches ",new n(new n(w("symbol->string"),new n(new n(w("car"),new n(w("expr"),r)),r)),r))),r)),new n(new n(w("apply"),new n(w("syntax-rules"),new n(w("expr"),new n(w("literals"),new n(w("more"),r))))),r)))),r)))),r))))))))))),new a(e).With("_12_",new o(new n(w("ex"),new n(w("pat"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("pat"),r)),new n(new n(w("null?"),new n(w("ex"),r)),new n(new n(w("if"),new n(new n(w("symbol?"),new n(w("pat"),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("vars"),new n(new n(w("cons"),new n(new n(w("cons"),new n(w("pat"),new n(w("ex"),r))),new n(w("vars"),r))),r))),new n(!0,r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("cadr"),new n(w("pat"),r)),new n(new n(w("quote"),new n(w("..."),r)),r))),new n(new n(w("match-many"),new n(w("ex"),new n(new n(w("car"),new n(w("pat"),r)),r))),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("ex"),r)),new n(!1,new n(new n(w("if"),new n(new n(w("memq+"),new n(new n(w("car"),new n(w("pat"),r)),new n(w("literals"),r))),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("pat"),r)),new n(new n(w("car"),new n(w("ex"),r)),r))),new n(new n(w("if"),new n(new n(w("symbol?"),new n(new n(w("car"),new n(w("pat"),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("vars"),new n(new n(w("cons"),new n(new n(w("cons"),new n(new n(w("car"),new n(w("pat"),r)),new n(new n(w("car"),new n(w("ex"),r)),r))),new n(w("vars"),r))),r))),new n(!0,r))),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("pair?"),new n(new n(w("car"),new n(w("pat"),r)),r)),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("car"),new n(w("ex"),r)),r)),new n(!0,new n(new n(w("pair?"),new n(new n(w("car"),new n(w("ex"),r)),r)),r)))),new n(!1,r)))),new n(new n(w("match"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("car"),new n(w("pat"),r)),r))),new n(new n(w("eqv?"),new n(new n(w("car"),new n(w("pat"),r)),new n(new n(w("car"),new n(w("ex"),r)),r))),r)))),r)))),r)))),r)))),new n(new n(w("match"),new n(new n(w("cdr"),new n(w("ex"),r)),new n(new n(w("cdr"),new n(w("pat"),r)),r))),new n(!1,r)))),r)))),r)))),r)))),e,function(i){for(var o,e=new a(this.env);;)if(e.ex=i.car,e.pat=i.cdr.car,o=e.pat==r!=0?e.ex==r:e.pat instanceof u!=0?(e.set("vars",new n(new n(e.pat,e.ex),e.parentEnv.vars)),!0):0!=p(e.pat.cdr.car,w("..."))?f(e.parentEnv["match-many"],i=new n(e.ex,new n(e.pat.car,r))):0!=(e.ex==r!=0?!1:0!=c(t.get("memq+"),new n(e.pat.car,new n(e.parentEnv.literals,r)))?p(e.pat.car,e.ex.car):e.pat.car instanceof u!=0?(e.set("vars",new n(new n(e.pat.car,e.ex.car),e.parentEnv.vars)),!0):0!=(e.pat.car instanceof n!=0?e.ex.car==r!=0?!0:e.ex.car instanceof n:!1)?c(e.parentEnv.match,new n(e.ex.car,new n(e.pat.car,r))):p(e.pat.car,e.ex.car))?f(e.parentEnv.match,i=new n(e.ex.cdr,new n(e.pat.cdr,r))):!1,o!=l||o.f!=this)return o})).With("_13_",new o(new n(w("ex"),new n(w("pat"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("ex"),r)),new n(!0,new n(new n(w("if"),new n(new n(w("match"),new n(new n(w("list"),new n(new n(w("car"),new n(w("ex"),r)),r)),new n(new n(w("list"),new n(w("pat"),r)),r))),new n(new n(w("match-many"),new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("pat"),r))),new n(!1,r)))),r)))),e,function(t){for(var w,e=new a(this.env);;)if(e.ex=t.car,e.pat=t.cdr.car,w=e.ex==r!=0?!0:0!=c(e.parentEnv.match,new n(new n(e.ex.car,r),new n(new n(e.pat,r),r)))?f(e.parentEnv["match-many"],t=new n(e.ex.cdr,new n(e.pat,r))):!1,w!=l||w.f!=this)return w})).With("_14_",new o(new n(w("var"),new n(w("lst"),new n(w("out"),r))),new n(w("if"),new n(new n(w("null?"),new n(w("lst"),r)),new n(w("out"),new n(new n(w("if"),new n(new n(w("eq?"),new n(w("var"),new n(new n(w("caar"),new n(w("lst"),r)),r))),new n(new n(w("find-all"),new n(w("var"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(new n(w("cons"),new n(new n(w("cdar"),new n(w("lst"),r)),new n(w("out"),r))),r)))),new n(new n(w("find-all"),new n(w("var"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(w("out"),r)))),r)))),r)))),e,function(w){for(var t,e=new a(this.env);;)if(e["var"]=w.car,e.lst=w.cdr.car,e.out=w.cdr.cdr.car,t=e.lst==r!=0?e.out:0!=p(e["var"],e.lst.car.car)?f(e.parentEnv["find-all"],w=new n(e["var"],new n(e.lst.cdr,new n(new n(e.lst.car.cdr,e.out),r)))):f(e.parentEnv["find-all"],w=new n(e["var"],new n(e.lst.cdr,new n(e.out,r)))),t!=l||t.f!=this)return t})).With("_15_",new o(new n(w("lst"),new n(w("templ"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("lst"),r)),new n(new n(w("quote"),new n(r,r)),new n(new n(w("cons"),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("car"),new n(w("lst"),r)),r)),new n(new n(w("car"),new n(w("templ"),r)),new n(new n(w("caar"),new n(w("lst"),r)),r)))),new n(new n(w("p-each"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(new n(w("cdr"),new n(w("templ"),r)),r))),r))),r)))),e,function(t){for(var w,e=new a(this.env);;)if(e.lst=t.car,e.templ=t.cdr.car,w=e.lst==r!=0?r:new n(e.lst.car==r!=0?e.templ.car:e.lst.car.car,c(e.parentEnv["p-each"],new n(e.lst.cdr,new n(e.templ.cdr,r)))),w!=l||w.f!=this)return w})).With("_16_",new o(new n(w("lst"),new n(w("templ"),r)),new n(w("begin"),new n(new n(w("define"),new n(w("not-empty"),new n(!1,r))),new n(new n(w("define"),new n(w("l2"),new n(new n(w("clone"),new n(w("_20_"),r)),r))),new n(new n(w("define"),new n(w("ll"),new n(new n(w("l2"),new n(w("lst"),r)),r))),new n(new n(w("if"),new n(w("not-empty"),new n(new n(w("cons"),new n(new n(w("p-each"),new n(w("lst"),new n(w("templ"),r))),new n(new n(w("process-many"),new n(w("ll"),new n(w("templ"),r))),r))),new n(new n(w("quote"),new n(r,r)),r)))),r))))),new a(e).With("_20_",new o(new n(w("l"),r),new n(w("if"),new n(new n(w("null?"),new n(w("l"),r)),new n(new n(w("quote"),new n(r,r)),new n(new n(new n(w("clone"),new n(w("_21_"),r)),new n(new n(w("car"),new n(w("l"),r)),r)),r)))),new a(e).With("_21_",new o(new n(w("a"),r),new n(w("begin"),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(w("a"),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("not-empty"),new n(!0,r))),new n(new n(w("set!"),new n(w("a"),new n(new n(w("cdr"),new n(w("a"),r)),r))),r))),r))),new n(new n(w("cons"),new n(w("a"),new n(new n(w("l2"),new n(new n(w("cdr"),new n(w("l"),r)),r)),r))),r))),e,function(t){for(var w,e=new a(this.env);;)if(e.a=t.car,e.a==r==0!=0?(e.set("not-empty",!0),e.a=e.a.cdr):null,w=new n(e.a,c(e.parentEnv.parentEnv.parentEnv.l2,new n(e.parentEnv.l.cdr,r))),w!=l||w.f!=this)return w})),function(t){for(var w,e=new a(this.env);;)if(e.l=t.car,w=e.l==r!=0?r:f(e.parentEnv._21_.clone(e),t=new n(e.l.car,r)),w!=l||w.f!=this)return w})),function(t){for(var w,e=new a(this.env);;)if(e.lst=t.car,e.templ=t.cdr.car,e["not-empty"]=!1,e.l2=e.parentEnv._20_.clone(e),e.ll=c(e.l2,new n(e.lst,r)),w=0!=e["not-empty"]?new n(c(e.parentEnv.parentEnv["p-each"],new n(e.lst,new n(e.templ,r))),c(e.parentEnv.parentEnv["process-many"],new n(e.ll,new n(e.templ,r)))):r,w!=l||w.f!=this)return w})).With("_17_",new o(new n(w("templ"),r),new n(w("if"),new n(new n(w("null?"),new n(w("templ"),r)),new n(new n(w("quote"),new n(r,r)),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("templ"),r)),new n(new n(w("process-many"),new n(new n(w("map+"),new n(w("gen-many"),new n(w("templ"),r))),new n(w("templ"),r))),new n(new n(w("find-all"),new n(w("templ"),new n(w("vars"),new n(new n(w("quote"),new n(r,r)),r)))),r)))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.templ=i.car,w=e.templ==r!=0?r:e.templ instanceof n!=0?f(e.parentEnv["process-many"],i=new n(c(t.get("map+"),new n(e.parentEnv["gen-many"],new n(e.templ,r))),new n(e.templ,r))):f(e.parentEnv["find-all"],i=new n(e.templ,new n(e.parentEnv.vars,new n(r,r)))),w!=l||w.f!=this)return w})).With("_18_",new o(new n(w("x"),r),new n(w("begin"),new n(new n(w("define"),new n(w("new"),new n(!1,r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(w("x"),new n(new n(w("quote"),new n(w("..."),r)),r))),new n(w("x"),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("new"),new n(new n(w("gen-sym"),new n(w("x"),r)),r))),new n(new n(w("set!"),new n(w("vars"),new n(new n(w("cons"),new n(new n(w("cons"),new n(w("x"),new n(w("new"),r))),new n(w("vars"),r))),r))),new n(w("new"),r)))),r)))),r))),e,function(o){for(var i,e=new a(this.env);;)if(e.x=o.car,e["new"]=!1,i=0!=p(e.x,w("..."))?e.x:(e["new"]=c(t.get("gen-sym"),new n(e.x,r)),e.set("vars",new n(new n(e.x,e["new"]),e.parentEnv.vars)),e["new"]),i!=l||i.f!=this)return i})).With("_19_",new o(new n(w("templ"),new n(w("no..."),r)),new n(w("begin"),new n(new n(w("define"),new n(w("old-vars"),new n(!1,r))),new n(new n(w("define"),new n(w("args"),new n(!1,r))),new n(new n(w("define"),new n(w("body"),new n(!1,r))),new n(new n(w("define"),new n(w("new"),new n(!1,r))),new n(new n(w("define"),new n(w("x"),new n(!1,r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("templ"),r)),new n(new n(w("quote"),new n(r,r)),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("templ"),r)),new n(new n(w("if"),new n(new n(w("if"),new n(w("no..."),new n(new n(w("eq?"),new n(new n(w("cadr"),new n(w("templ"),r)),new n(new n(w("quote"),new n(w("..."),r)),r))),new n(!1,r)))),new n(new n(w("append"),new n(new n(w("gen-many"),new n(new n(w("car"),new n(w("templ"),r)),r)),new n(new n(w("gen"),new n(new n(w("cddr"),new n(w("templ"),r)),new n(w("no..."),r))),r))),new n(new n(w("if"),new n(new n(w("if"),new n(w("no..."),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("templ"),r)),new n(new n(w("quote"),new n(w("lambda"),r)),r))),new n(!1,r)))),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("old-vars"),new n(w("vars"),r))),new n(new n(w("set!"),new n(w("args"),new n(new n(w("gen"),new n(new n(w("cadr"),new n(w("templ"),r)),new n(w("no..."),r))),r))),new n(new n(w("set!"),new n(w("body"),new n(new n(w("gen"),new n(new n(w("cddr"),new n(w("templ"),r)),new n(w("no..."),r))),r))),new n(new n(w("set!"),new n(w("vars"),new n(new n(w("quote"),new n(r,r)),r))),new n(new n(w("set!"),new n(w("new"),new n(new n(w("map+"),new n(w("ren"),new n(w("args"),r))),r))),new n(new n(w("set!"),new n(w("new"),new n(new n(w("cons"),new n(new n(w("car"),new n(w("templ"),r)),new n(new n(w("cons"),new n(w("new"),new n(new n(w("gen"),new n(w("body"),new n(!1,r))),r))),r))),r))),new n(new n(w("set!"),new n(w("vars"),new n(w("old-vars"),r))),new n(w("new"),r))))))))),new n(new n(w("cons"),new n(new n(w("gen"),new n(new n(w("car"),new n(w("templ"),r)),new n(w("no..."),r))),new n(new n(w("gen"),new n(new n(w("cdr"),new n(w("templ"),r)),new n(w("no..."),r))),r))),r)))),r)))),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("x"),new n(new n(w("assq"),new n(w("templ"),new n(w("vars"),r))),r))),new n(new n(w("if"),new n(w("x"),new n(new n(w("cdr"),new n(w("x"),r)),new n(w("templ"),r)))),r))),r)))),r)))),r))))))),e,function(o){for(var i,e=new a(this.env);;)if(e.templ=o.car,e["no..."]=o.cdr.car,e["old-vars"]=!1,e.args=!1,e.body=!1,e["new"]=!1,e.x=!1,i=e.templ==r!=0?r:e.templ instanceof n!=0?0!=(0!=e["no..."]?p(e.templ.cdr.car,w("...")):!1)?f(t.get("append"),o=new n(c(e.parentEnv["gen-many"],new n(e.templ.car,r)),new n(c(e.parentEnv.gen,new n(e.templ.cdr.cdr,new n(e["no..."],r))),r))):0!=(0!=e["no..."]?p(e.templ.car,w("lambda")):!1)?(e["old-vars"]=e.parentEnv.vars,e.args=c(e.parentEnv.gen,new n(e.templ.cdr.car,new n(e["no..."],r))),e.body=c(e.parentEnv.gen,new n(e.templ.cdr.cdr,new n(e["no..."],r))),e.set("vars",r),e["new"]=c(t.get("map+"),new n(e.parentEnv.ren,new n(e.args,r))),e["new"]=new n(e.templ.car,new n(e["new"],c(e.parentEnv.gen,new n(e.body,new n(!1,r))))),e.set("vars",e["old-vars"]),e["new"]):new n(c(e.parentEnv.gen,new n(e.templ.car,new n(e["no..."],r))),c(e.parentEnv.gen,new n(e.templ.cdr,new n(e["no..."],r)))):(e.x=c(t.get("assq"),new n(e.templ,new n(e.parentEnv.vars,r))),0!=e.x?e.x.cdr:e.templ),i!=l||i.f!=this)return i
})),function(w){for(var i,e=new a(this.env);;)if(e.expr=w.car,e.literals=w.cdr.car,e.p1=w.cdr.cdr.car,e.more=w.cdr.cdr.cdr,e.vars=r,e.match=e.parentEnv._12_.clone(e),e["match-many"]=e.parentEnv._13_.clone(e),e["find-all"]=e.parentEnv._14_.clone(e),e["p-each"]=e.parentEnv._15_.clone(e),e["process-many"]=e.parentEnv._16_.clone(e),e["gen-many"]=e.parentEnv._17_.clone(e),e.ren=e.parentEnv._18_.clone(e),e.gen=e.parentEnv._19_.clone(e),i=0!=c(e.match,new n(e.expr.cdr,new n(e.p1.car.cdr,r)))?f(e.gen,w=new n(e.p1.cdr.car,new n(!0,r))):e.more==r!=0?f(t.get("error"),w=new n("no pattern matches "+e.expr.car.name,r)):f(t.get("syntax-rules"),w=new n(e.expr,new n(e.literals,e.more.ListCopy()))),i!=l||i.f!=this)return i}),e.and=new x(e.get("syntax-rules"),new n(r,new n(new n(new n(w("_"),r),new n(!0,r)),new n(new n(new n(w("_"),new n(w("test"),r)),new n(w("test"),r)),new n(new n(new n(w("_"),new n(w("test1"),new n(w("test2"),new n(w("..."),r)))),new n(new n(w("if"),new n(w("test1"),new n(new n(w("and"),new n(w("test2"),new n(w("..."),r))),new n(!1,r)))),r)),r))))),e.or=new x(e.get("syntax-rules"),new n(r,new n(new n(new n(w("_"),r),new n(!1,r)),new n(new n(new n(w("_"),new n(w("test"),r)),new n(w("test"),r)),new n(new n(new n(w("_"),new n(w("test1"),new n(w("test2"),new n(w("..."),r)))),new n(new n(w("let"),new n(new n(new n(w("_tmp_"),new n(w("test1"),r)),r),new n(new n(w("if"),new n(w("_tmp_"),new n(w("_tmp_"),new n(new n(w("or"),new n(w("test2"),new n(w("..."),r))),r)))),r))),r)),r))))),e.let=new x(e.get("syntax-rules"),new n(r,new n(new n(new n(w("_"),new n(new n(new n(w("name"),new n(w("val"),r)),new n(w("..."),r)),new n(w("body1"),new n(w("..."),r)))),new n(new n(new n(w("lambda"),new n(new n(w("name"),new n(w("..."),r)),new n(w("body1"),new n(w("..."),r)))),new n(w("val"),new n(w("..."),r))),r)),new n(new n(new n(w("_"),new n(w("tag"),new n(new n(new n(w("name"),new n(w("val"),r)),new n(w("..."),r)),new n(w("body1"),new n(w("..."),r))))),new n(new n(new n(w("letrec"),new n(new n(new n(w("tag"),new n(new n(w("lambda"),new n(new n(w("name"),new n(w("..."),r)),new n(w("body1"),new n(w("..."),r)))),r)),r),new n(w("tag"),r))),new n(w("val"),new n(w("..."),r))),r)),r)))),e.cond=new x(e.get("syntax-rules"),new n(new n(w("else"),new n(w("=>"),r)),new n(new n(new n(w("_"),new n(new n(w("else"),new n(w("result1"),new n(w("..."),r))),r)),new n(new n(w("begin"),new n(w("result1"),new n(w("..."),r))),r)),new n(new n(new n(w("_"),new n(new n(w("test"),new n(w("=>"),new n(w("result"),r))),r)),new n(new n(w("let"),new n(new n(new n(w("_tmp_"),new n(w("test"),r)),r),new n(new n(w("if"),new n(w("_tmp_"),new n(new n(w("result"),new n(w("_tmp_"),r)),r))),r))),r)),new n(new n(new n(w("_"),new n(new n(w("test"),new n(w("=>"),new n(w("result"),r))),new n(w("clause1"),new n(w("..."),r)))),new n(new n(w("let"),new n(new n(new n(w("_tmp_"),new n(w("test"),r)),r),new n(new n(w("if"),new n(w("_tmp_"),new n(new n(w("result"),new n(w("_tmp_"),r)),new n(new n(w("cond"),new n(w("clause1"),new n(w("..."),r))),r)))),r))),r)),new n(new n(new n(w("_"),new n(new n(w("test"),r),r)),new n(w("test"),r)),new n(new n(new n(w("_"),new n(new n(w("test"),r),new n(w("clause1"),new n(w("..."),r)))),new n(new n(w("let"),new n(new n(new n(w("_tmp_"),new n(w("test"),r)),r),new n(new n(w("if"),new n(w("_tmp_"),new n(w("_tmp_"),new n(new n(w("cond"),new n(w("clause1"),new n(w("..."),r))),r)))),r))),r)),new n(new n(new n(w("_"),new n(new n(w("test"),new n(w("result1"),new n(w("..."),r))),r)),new n(new n(w("if"),new n(w("test"),new n(new n(w("begin"),new n(w("result1"),new n(w("..."),r))),r))),r)),new n(new n(new n(w("_"),new n(new n(w("test"),new n(w("result1"),new n(w("..."),r))),new n(w("clause1"),new n(w("..."),r)))),new n(new n(w("if"),new n(w("test"),new n(new n(w("begin"),new n(w("result1"),new n(w("..."),r))),new n(new n(w("cond"),new n(w("clause1"),new n(w("..."),r))),r)))),r)),r))))))))),e["let*"]=new x(e.get("syntax-rules"),new n(r,new n(new n(new n(w("_"),new n(r,new n(w("body1"),new n(w("..."),r)))),new n(new n(w("begin"),new n(w("body1"),new n(w("..."),r))),r)),new n(new n(new n(w("_"),new n(new n(new n(w("name1"),new n(w("val1"),r)),new n(new n(w("name2"),new n(w("val2"),r)),new n(w("..."),r))),new n(w("body1"),new n(w("..."),r)))),new n(new n(new n(w("lambda"),new n(new n(w("name1"),r),new n(new n(w("let*"),new n(new n(new n(w("name2"),new n(w("val2"),r)),new n(w("..."),r)),new n(w("body1"),new n(w("..."),r)))),r))),new n(w("val1"),r)),r)),r)))),e.letrec=new x(e.get("syntax-rules"),new n(r,new n(new n(new n(w("_"),new n(new n(new n(w("var1"),new n(w("init1"),r)),new n(w("..."),r)),new n(w("body"),new n(w("..."),r)))),new n(new n(new n(w("lambda"),new n(r,new n(new n(w("define"),new n(w("var1"),new n(!1,r))),new n(w("..."),new n(new n(new n(w("lambda"),new n(w("_tmplst_"),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("var1"),new n(new n(w("car"),new n(w("_tmplst_"),r)),r))),new n(new n(w("set!"),new n(w("_tmplst_"),new n(new n(w("cdr"),new n(w("_tmplst_"),r)),r))),r))),new n(w("..."),r)))),new n(w("init1"),new n(w("..."),r))),new n(w("body"),new n(w("..."),r))))))),r),r)),r))),e["let-syntax"]=new x(e.get("syntax-rules"),new n(r,new n(new n(new n(w("_"),new n(new n(new n(w("_var1_"),new n(w("_init1_"),r)),new n(w("..."),r)),new n(w("_body_"),new n(w("..."),r)))),new n(new n(new n(w("lambda"),new n(r,new n(new n(w("define-syntax"),new n(w("_var1_"),new n(w("_init1_"),r))),new n(w("..."),new n(w("_body_"),new n(w("..."),r)))))),r),r)),r))),e["letrec-syntax"]=e.get("let-syntax"),e["case"]=new x(e.get("syntax-rules"),new n(new n(w("else"),r),new n(new n(new n(w("_"),new n(new n(w("key"),new n(w("..."),r)),new n(w("clauses"),new n(w("..."),r)))),new n(new n(w("let"),new n(new n(new n(w("_tmp_"),new n(new n(w("key"),new n(w("..."),r)),r)),r),new n(new n(w("case"),new n(w("_tmp_"),new n(w("clauses"),new n(w("..."),r)))),r))),r)),new n(new n(new n(w("_"),new n(w("key"),new n(new n(w("else"),new n(w("result1"),new n(w("..."),r))),r))),new n(new n(w("begin"),new n(w("result1"),new n(w("..."),r))),r)),new n(new n(new n(w("_"),new n(w("key"),new n(new n(new n(w("atoms"),new n(w("..."),r)),new n(w("result1"),new n(w("..."),r))),r))),new n(new n(w("if"),new n(new n(w("memv"),new n(w("key"),new n(new n(w("quote"),new n(new n(w("atoms"),new n(w("..."),r)),r)),r))),new n(new n(w("begin"),new n(w("result1"),new n(w("..."),r))),r))),r)),new n(new n(new n(w("_"),new n(w("key"),new n(new n(new n(w("atoms"),new n(w("..."),r)),new n(w("result1"),new n(w("..."),r))),new n(w("clause"),new n(w("..."),r))))),new n(new n(w("if"),new n(new n(w("memv"),new n(w("key"),new n(new n(w("quote"),new n(new n(w("atoms"),new n(w("..."),r)),r)),r))),new n(new n(w("begin"),new n(w("result1"),new n(w("..."),r))),new n(new n(w("case"),new n(w("key"),new n(w("clause"),new n(w("..."),r)))),r)))),r)),r)))))),e["do"]=new x(e.get("syntax-rules"),new n(r,new n(new n(new n(w("_"),new n(new n(new n(w("var"),new n(w("init"),new n(w("step"),r))),new n(w("..."),r)),new n(new n(w("test"),new n(w("expr"),new n(w("..."),r))),new n(w("command"),new n(w("..."),r))))),new n(new n(w("letrec"),new n(new n(new n(w("_loop_"),new n(new n(w("lambda"),new n(new n(w("var"),new n(w("..."),r)),new n(new n(w("if"),new n(w("test"),new n(new n(w("begin"),new n(w("expr"),new n(w("..."),r))),new n(new n(w("begin"),new n(w("command"),new n(w("..."),new n(new n(w("_loop_"),new n(new n(w("do"),new n("step",new n(w("var"),new n(w("step"),r)))),new n(w("..."),r))),r)))),r)))),r))),r)),r),new n(new n(w("_loop_"),new n(w("init"),new n(w("..."),r))),r))),r)),new n(new n(new n(w("_"),new n("step",new n(w("x"),r))),new n(w("x"),r)),new n(new n(new n(w("_"),new n("step",new n(w("x"),new n(w("y"),r)))),new n(w("y"),r)),r))))),e["memq+"]=new o(new n(w("x"),new n(w("ls"),r)),new n(w("if"),new n(new n(w("pair?"),new n(w("ls"),r)),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ls"),r)),new n(w("x"),r))),new n(w("ls"),new n(new n(w("memq+"),new n(w("x"),new n(new n(w("cdr"),new n(w("ls"),r)),r))),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(w("x"),new n(w("ls"),r))),new n(w("ls"),new n(!1,r)))),r)))),e,function(c){for(var w,e=new a(this.env);;)if(e.x=c.car,e.ls=c.cdr.car,w=e.ls instanceof n!=0?0!=p(e.ls.car,e.x)?e.ls:f(t.get("memq+"),c=new n(e.x,new n(e.ls.cdr,r))):0!=p(e.x,e.ls)?e.ls:!1,w!=l||w.f!=this)return w}),e.memq=e.get("memq+"),e.memv=new o(new n(w("x"),new n(w("ls"),r)),new n(w("if"),new n(new n(w("pair?"),new n(w("ls"),r)),new n(new n(w("if"),new n(new n(w("eqv?"),new n(new n(w("car"),new n(w("ls"),r)),new n(w("x"),r))),new n(w("ls"),new n(new n(w("memv"),new n(w("x"),new n(new n(w("cdr"),new n(w("ls"),r)),r))),r)))),new n(new n(w("if"),new n(new n(w("eqv?"),new n(w("x"),new n(w("ls"),r))),new n(w("ls"),new n(!1,r)))),r)))),e,function(c){for(var w,e=new a(this.env);;)if(e.x=c.car,e.ls=c.cdr.car,w=e.ls instanceof n!=0?0!=p(e.ls.car,e.x)?e.ls:f(t.get("memv"),c=new n(e.x,new n(e.ls.cdr,r))):0!=p(e.x,e.ls)?e.ls:!1,w!=l||w.f!=this)return w}),e.member=new o(new n(w("x"),new n(w("ls"),r)),new n(w("if"),new n(new n(w("pair?"),new n(w("ls"),r)),new n(new n(w("if"),new n(new n(w("equal?"),new n(new n(w("car"),new n(w("ls"),r)),new n(w("x"),r))),new n(w("ls"),new n(new n(w("member"),new n(w("x"),new n(new n(w("cdr"),new n(w("ls"),r)),r))),r)))),new n(new n(w("if"),new n(new n(w("equal?"),new n(w("x"),new n(w("ls"),r))),new n(w("ls"),new n(!1,r)))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.x=i.car,e.ls=i.cdr.car,w=e.ls instanceof n!=0?0!=c(t.get("equal?"),new n(e.ls.car,new n(e.x,r)))?e.ls:f(t.get("member"),i=new n(e.x,new n(e.ls.cdr,r))):0!=c(t.get("equal?"),new n(e.x,new n(e.ls,r)))?e.ls:!1,w!=l||w.f!=this)return w}),e.assq=new o(new n(w("x"),new n(w("ls"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("ls"),r)),new n(!1,new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("caar"),new n(w("ls"),r)),new n(w("x"),r))),new n(new n(w("car"),new n(w("ls"),r)),new n(new n(w("assq"),new n(w("x"),new n(new n(w("cdr"),new n(w("ls"),r)),r))),r)))),r)))),e,function(c){for(var w,e=new a(this.env);;)if(e.x=c.car,e.ls=c.cdr.car,w=e.ls==r!=0?!1:0!=p(e.ls.car.car,e.x)?e.ls.car:f(t.get("assq"),c=new n(e.x,new n(e.ls.cdr,r))),w!=l||w.f!=this)return w}),e.assv=new o(new n(w("x"),new n(w("ls"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("ls"),r)),new n(!1,new n(new n(w("if"),new n(new n(w("eqv?"),new n(new n(w("caar"),new n(w("ls"),r)),new n(w("x"),r))),new n(new n(w("car"),new n(w("ls"),r)),new n(new n(w("assv"),new n(w("x"),new n(new n(w("cdr"),new n(w("ls"),r)),r))),r)))),r)))),e,function(c){for(var w,e=new a(this.env);;)if(e.x=c.car,e.ls=c.cdr.car,w=e.ls==r!=0?!1:0!=p(e.ls.car.car,e.x)?e.ls.car:f(t.get("assv"),c=new n(e.x,new n(e.ls.cdr,r))),w!=l||w.f!=this)return w}),e.assoc=new o(new n(w("x"),new n(w("ls"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("ls"),r)),new n(!1,new n(new n(w("if"),new n(new n(w("equal?"),new n(new n(w("caar"),new n(w("ls"),r)),new n(w("x"),r))),new n(new n(w("car"),new n(w("ls"),r)),new n(new n(w("assoc"),new n(w("x"),new n(new n(w("cdr"),new n(w("ls"),r)),r))),r)))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.x=i.car,e.ls=i.cdr.car,w=e.ls==r!=0?!1:0!=c(t.get("equal?"),new n(e.ls.car.car,new n(e.x,r)))?e.ls.car:f(t.get("assoc"),i=new n(e.x,new n(e.ls.cdr,r))),w!=l||w.f!=this)return w}),e["list?"]=c(new o(r,new n(w("begin"),new n(new n(w("define"),new n(w("race"),new n(new n(w("clone"),new n(w("_22_"),r)),r))),new n(new n(w("clone"),new n(w("_23_"),r)),r))),new a(e).With("_22_",new o(new n(w("h"),new n(w("t"),r)),new n(w("if"),new n(new n(w("pair?"),new n(w("h"),r)),new n(new n(new n(w("clone"),new n(w("_24_"),r)),new n(new n(w("cdr"),new n(w("h"),r)),r)),new n(new n(w("null?"),new n(w("h"),r)),r)))),new a(e).With("_24_",new o(new n(w("h"),r),new n(w("if"),new n(new n(w("pair?"),new n(w("h"),r)),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("eq?"),new n(w("h"),new n(w("t"),r))),r)),new n(new n(w("race"),new n(new n(w("cdr"),new n(w("h"),r)),new n(new n(w("cdr"),new n(w("t"),r)),r))),new n(!1,r)))),new n(new n(w("null?"),new n(w("h"),r)),r)))),e,function(t){for(var w,e=new a(this.env);;)if(e.h=t.car,w=e.h instanceof n!=0?0==p(e.h,e.parentEnv.t)!=0?f(e.parentEnv.parentEnv.parentEnv.race,t=new n(e.h.cdr,new n(e.parentEnv.t.cdr,r))):!1:e.h==r,w!=l||w.f!=this)return w})),function(t){for(var w,e=new a(this.env);;)if(e.h=t.car,e.t=t.cdr.car,w=e.h instanceof n!=0?f(e.parentEnv._24_.clone(e),t=new n(e.h.cdr,r)):e.h==r,w!=l||w.f!=this)return w})).With("_23_",new o(new n(w("x"),r),new n(w("race"),new n(w("x"),new n(w("x"),r))),e,function(t){for(var e,w=new a(this.env);;)if(w.x=t.car,e=f(w.parentEnv.race,t=new n(w.x,new n(w.x,r))),e!=l||e.f!=this)return e})),function(){for(var n,e=new a(this.env);;)if(e.race=e.parentEnv._22_.clone(e),n=e.parentEnv._23_.clone(e),n!=l||n.f!=this)return n}),r),e["equal?"]=new o(new n(w("x"),new n(w("y"),r)),new n(new n(w("clone"),new n(w("_25_"),r)),new n(new n(w("eqv?"),new n(w("x"),new n(w("y"),r))),r)),new a(e).With("_25_",new o(new n(w("eqv"),r),new n(w("if"),new n(w("eqv"),new n(w("eqv"),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("x"),r)),new n(new n(w("begin"),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("y"),r)),new n(new n(w("if"),new n(new n(w("equal?"),new n(new n(w("car"),new n(w("x"),r)),new n(new n(w("car"),new n(w("y"),r)),r))),new n(new n(w("equal?"),new n(new n(w("cdr"),new n(w("x"),r)),new n(new n(w("cdr"),new n(w("y"),r)),r))),new n(!1,r)))),new n(!1,r)))),r)),new n(new n(w("if"),new n(new n(w("vector?"),new n(w("x"),r)),new n(new n(w("if"),new n(new n(w("vector?"),new n(w("y"),r)),new n(new n(new n(w("clone"),new n(w("_26_"),r)),new n(new n(w("vector-length"),new n(w("x"),r)),r)),new n(!1,r)))),new n(!1,r)))),r)))),r)))),new a(e).With("_26_",new o(new n(w("n"),r),new n(w("if"),new n(new n(w("="),new n(new n(w("vector-length"),new n(w("y"),r)),new n(w("n"),r))),new n(new n(new n(w("let"),new n(new n(new n(w("loop"),new n(new n(w("clone"),new n(w("_27_"),r)),r)),r),new n(w("loop"),r))),new n(0,r)),new n(!1,r)))),new a(e).With("_27_",new o(new n(w("i"),r),new n(new n(w("clone"),new n(w("_28_"),r)),new n(new n(w("="),new n(w("i"),new n(w("n"),r))),r)),new a(e).With("_28_",new o(new n(w("eq-len"),r),new n(w("if"),new n(w("eq-len"),new n(w("eq-len"),new n(new n(w("if"),new n(new n(w("equal?"),new n(new n(w("vector-ref"),new n(w("x"),new n(w("i"),r))),new n(new n(w("vector-ref"),new n(w("y"),new n(w("i"),r))),r))),new n(new n(w("loop"),new n(new n(w("+"),new n(w("i"),new n(1,r))),r)),new n(!1,r)))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e["eq-len"]=i.car,w=0!=e["eq-len"]?e["eq-len"]:0!=c(t.get("equal?"),new n(c(t.get("vector-ref"),new n(e.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.x,new n(e.parentEnv.i,r))),new n(c(t.get("vector-ref"),new n(e.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.y,new n(e.parentEnv.i,r))),r)))?f(t.get("loop"),i=new n(e.parentEnv.i+1,r)):!1,w!=l||w.f!=this)return w})),function(t){for(var w,e=new a(this.env);;)if(e.i=t.car,w=f(e.parentEnv._28_.clone(e),t=new n(p(e.i,e.parentEnv.parentEnv.n),r)),w!=l||w.f!=this)return w})),function(i){for(var w,e=new a(this.env);;)if(e.n=i.car,w=0!=p(c(t.get("vector-length"),new n(e.parentEnv.parentEnv.parentEnv.parentEnv.y,r)),e.n)?f(c(t.get("let"),new n(c(c(t.get("loop"),new n(e.parentEnv._27_.clone(e),r)),r),new n(t.get("loop"),r))),i=new n(0,r)):!1,w!=l||w.f!=this)return w})),function(i){for(var w,e=new a(this.env);;)if(e.eqv=i.car,w=0!=e.eqv?e.eqv:e.parentEnv.parentEnv.x instanceof n!=0?e.parentEnv.parentEnv.y instanceof n!=0?0!=c(t.get("equal?"),new n(e.parentEnv.parentEnv.x.car,new n(e.parentEnv.parentEnv.y.car,r)))?f(t.get("equal?"),i=new n(e.parentEnv.parentEnv.x.cdr,new n(e.parentEnv.parentEnv.y.cdr,r))):!1:!1:0!=c(t.get("vector?"),new n(e.parentEnv.parentEnv.x,r))?0!=c(t.get("vector?"),new n(e.parentEnv.parentEnv.y,r))?f(e.parentEnv._26_.clone(e),i=new n(c(t.get("vector-length"),new n(e.parentEnv.parentEnv.x,r)),r)):!1:!1,w!=l||w.f!=this)return w})),function(t){for(var w,e=new a(this.env);;)if(e.x=t.car,e.y=t.cdr.car,w=f(e.parentEnv._25_.clone(e),t=new n(p(e.x,e.y),r)),w!=l||w.f!=this)return w}),e.values=new o(w("things"),new n(w("call/cc"),new n(new n(w("clone"),new n(w("_29_"),r)),r)),new a(e).With("_29_",new o(new n(w("cont"),r),new n(w("apply"),new n(w("cont"),new n(w("things"),r))),e,function(w){for(var e,n=new a(this.env);;)if(n.cont=w.car,e=f(n.cont,w=n.parentEnv.things.ListCopy()),e!=l||e.f!=this)return e})),function(c){for(var e,w=new a(this.env);;)if(w.things=c,e=f(t.get("call/cc"),c=new n(w.parentEnv._29_.clone(w),r)),e!=l||e.f!=this)return e}),e["call-with-values"]=new o(new n(w("producer"),new n(w("consumer"),r)),new n(w("consumer"),new n(new n(w("producer"),r),r)),e,function(t){for(var e,w=new a(this.env);;)if(w.producer=t.car,w.consumer=t.cdr.car,e=f(w.consumer,t=new n(c(w.producer,r),r)),e!=l||e.f!=this)return e}),e["for-each"]=new o(new n(w("f"),w("lst")),new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(new n(w("car"),new n(w("lst"),r)),r)),r)),new n(new n(w("begin"),new n(new n(w("apply"),new n(w("f"),new n(new n(w("map+"),new n(w("car"),new n(w("lst"),r))),r))),new n(new n(w("apply"),new n(w("for-each"),new n(w("f"),new n(new n(w("map+"),new n(w("cdr"),new n(w("lst"),r))),r)))),r))),r))),e,function(i){for(var w,e=new a(this.env);;)if(e.f=i.car,e.lst=i.cdr,w=e.lst.car==r==0!=0?(c(e.f,c(t.get("map+"),new n(t.get("car"),new n(e.lst,r))).ListCopy()),f(t.get("for-each"),i=new n(e.f,c(t.get("map+"),new n(t.get("cdr"),new n(e.lst,r))).ListCopy()))):null,w!=l||w.f!=this)return w}),e.delay=new x(e.get("syntax-rules"),new n(r,new n(new n(new n(w("_"),new n(w("exp"),r)),new n(new n(w("make-promise"),new n(new n(w("lambda"),new n(r,new n(w("exp"),r))),r)),r)),r))),e["make-promise"]=new o(new n(w("p"),r),new n(new n(w("clone"),new n(w("_30_"),r)),r),new a(e).With("_30_",new o(r,new n(w("begin"),new n(new n(w("define"),new n(w("val"),new n(!1,r))),new n(new n(w("define"),new n(w("set?"),new n(!1,r))),new n(new n(w("clone"),new n(w("_31_"),r)),r)))),new a(e).With("_31_",new o(r,new n(w("begin"),new n(new n(w("if"),new n(new n(w("not"),new n(w("set?"),r)),new n(new n(w("let"),new n(new n(new n(w("x"),new n(new n(w("p"),r),r)),r),new n(new n(w("if"),new n(new n(w("not"),new n(w("set?"),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("val"),new n(w("x"),r))),new n(new n(w("set!"),new n(w("set?"),new n(!0,r))),r))),r))),r))),r))),new n(w("val"),r))),e,function(){for(var w,e=new a(this.env);;)if(0==e.parentEnv["set?"]!=0?c(t.get("let"),new n(c(c(t.get("x"),new n(c(e.parentEnv.parentEnv.parentEnv.p,r),r)),r),new n(0==e.parentEnv["set?"]!=0?(e.set("val",t.get("x")),e.set("set?",!0)):null,r))):null,w=e.parentEnv.val,w!=l||w.f!=this)return w})),function(){for(var e,n=new a(this.env);;)if(n.val=!1,n["set?"]=!1,e=n.parentEnv._31_.clone(n),e!=l||e.f!=this)return e})),function(w){for(var e,n=new a(this.env);;)if(n.p=w.car,e=f(n.parentEnv._30_.clone(n),w=r),e!=l||e.f!=this)return e}),e.force=new o(new n(w("promise"),r),new n(w("promise"),r),e,function(n){for(var e,w=new a(this.env);;)if(w.promise=n.car,e=f(w.promise,n=r),e!=l||e.f!=this)return e}),e["string-copy"]=new o(new n(w("x"),r),w("x"),e,function(w){for(var e,n=new a(this.env);;)if(n.x=w.car,e=n.x,e!=l||e.f!=this)return e}),e["vector-fill!"]=new o(new n(w("v"),new n(w("obj"),r)),new n(w("begin"),new n(new n(w("define"),new n(w("l"),new n(new n(w("vector-length"),new n(w("v"),r)),r))),new n(new n(w("define"),new n(w("vf"),new n(new n(w("clone"),new n(w("_32_"),r)),r))),new n(new n(w("vf"),new n(0,r)),r)))),new a(e).With("_32_",new o(new n(w("i"),r),new n(w("if"),new n(new n(w("<"),new n(w("i"),new n(w("l"),r))),new n(new n(w("begin"),new n(new n(w("vector-set!"),new n(w("v"),new n(w("i"),new n(w("obj"),r)))),new n(new n(w("vf"),new n(new n(w("+"),new n(w("i"),new n(1,r))),r)),r))),r))),e,function(i){for(var w,e=new a(this.env);;)if(e.i=i.car,w=e.i<e.parentEnv.l!=0?(c(t.get("vector-set!"),new n(e.parentEnv.v,new n(e.i,new n(e.parentEnv.obj,r)))),f(e.parentEnv.vf,i=new n(e.i+1,r))):null,w!=l||w.f!=this)return w})),function(i){for(var w,e=new a(this.env);;)if(e.v=i.car,e.obj=i.cdr.car,e.l=c(t.get("vector-length"),new n(e.v,r)),e.vf=e.parentEnv._32_.clone(e),w=f(e.vf,i=new n(0,r)),w!=l||w.f!=this)return w}),e["vector->list"]=new o(new n(w("v"),r),new n(w("begin"),new n(new n(w("define"),new n(w("loop"),new n(new n(w("clone"),new n(w("_33_"),r)),r))),new n(new n(w("loop"),new n(new n(w("-"),new n(new n(w("vector-length"),new n(w("v"),r)),new n(1,r))),new n(new n(w("quote"),new n(r,r)),r))),r))),new a(e).With("_33_",new o(new n(w("i"),new n(w("l"),r)),new n(w("if"),new n(new n(w("<"),new n(w("i"),new n(0,r))),new n(w("l"),new n(new n(w("loop"),new n(new n(w("-"),new n(w("i"),new n(1,r))),new n(new n(w("cons"),new n(new n(w("vector-ref"),new n(w("v"),new n(w("i"),r))),new n(w("l"),r))),r))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.i=i.car,e.l=i.cdr.car,w=e.i<0!=0?e.l:f(e.parentEnv.loop,i=new n(e.i-1,new n(new n(c(t.get("vector-ref"),new n(e.parentEnv.v,new n(e.i,r))),e.l),r))),w!=l||w.f!=this)return w})),function(i){for(var w,e=new a(this.env);;)if(e.v=i.car,e.loop=e.parentEnv._33_.clone(e),w=f(e.loop,i=new n(c(t.get("vector-length"),new n(e.v,r))-1,new n(r,r))),w!=l||w.f!=this)return w}),e["list->vector"]=new o(new n(w("l"),r),new n(w("begin"),new n(new n(w("define"),new n(w("v"),new n(new n(w("make-vector"),new n(0,r)),r))),new n(new n(w("define"),new n(w("loop"),new n(new n(w("clone"),new n(w("_34_"),r)),r))),new n(new n(w("loop"),new n(0,new n(w("l"),r))),new n(w("v"),r))))),new a(e).With("_34_",new o(new n(w("i"),new n(w("l"),r)),new n(w("if"),new n(new n(w("pair?"),new n(w("l"),r)),new n(new n(w("begin"),new n(new n(w("vector-set!"),new n(w("v"),new n(w("i"),new n(new n(w("car"),new n(w("l"),r)),r)))),new n(new n(w("loop"),new n(new n(w("+"),new n(w("i"),new n(1,r))),new n(new n(w("cdr"),new n(w("l"),r)),r))),r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(w("l"),r)),r)),new n(new n(w("vector-set!"),new n(w("v"),new n(w("i"),new n(w("l"),r)))),r))),r)))),e,function(w){for(var i,e=new a(this.env);;)if(e.i=w.car,e.l=w.cdr.car,i=e.l instanceof n!=0?(c(t.get("vector-set!"),new n(e.parentEnv.v,new n(e.i,new n(e.l.car,r)))),f(e.parentEnv.loop,w=new n(e.i+1,new n(e.l.cdr,r)))):e.l==r==0!=0?f(t.get("vector-set!"),w=new n(e.parentEnv.v,new n(e.i,new n(e.l,r)))):null,i!=l||i.f!=this)return i})),function(i){for(var w,e=new a(this.env);;)if(e.l=i.car,e.v=c(t.get("make-vector"),new n(0,r)),e.loop=e.parentEnv._34_.clone(e),c(e.loop,new n(0,new n(e.l,r))),w=e.v,w!=l||w.f!=this)return w}),e["dynamic-wind"]=!1,c(new o(r,new n(w("begin"),new n(new n(w("define"),new n(w("winders"),new n(new n(w("quote"),new n(r,r)),r))),new n(new n(w("define"),new n(w("common-tail"),new n(new n(w("clone"),new n(w("_35_"),r)),r))),new n(new n(w("define"),new n(w("do-wind"),new n(new n(w("clone"),new n(w("_36_"),r)),r))),new n(new n(new n(w("clone"),new n(w("_37_"),r)),new n(w("call/cc"),r)),new n(new n(w("set!"),new n(w("call-with-current-continuation"),new n(w("call/cc"),r))),new n(new n(w("set!"),new n(w("dynamic-wind"),new n(new n(w("clone"),new n(w("_38_"),r)),r))),r))))))),new a(e).With("_35_",new o(new n(w("x"),new n(w("y"),r)),new n(w("begin"),new n(new n(w("define"),new n(w("lx"),new n(new n(w("length"),new n(w("x"),r)),r))),new n(new n(w("define"),new n(w("ly"),new n(new n(w("length"),new n(w("y"),r)),r))),new n(new n(w("define"),new n(w("loop"),new n(new n(w("clone"),new n(w("_39_"),r)),r))),new n(new n(w("loop"),new n(new n(w("if"),new n(new n(w(">"),new n(w("lx"),new n(w("ly"),r))),new n(new n(w("list-tail"),new n(w("x"),new n(new n(w("-"),new n(w("lx"),new n(w("ly"),r))),r))),new n(w("x"),r)))),new n(new n(w("if"),new n(new n(w(">"),new n(w("ly"),new n(w("lx"),r))),new n(new n(w("list-tail"),new n(w("y"),new n(new n(w("-"),new n(w("ly"),new n(w("lx"),r))),r))),new n(w("y"),r)))),r))),r))))),new a(e).With("_39_",new o(new n(w("x"),new n(w("y"),r)),new n(w("if"),new n(new n(w("eq?"),new n(w("x"),new n(w("y"),r))),new n(w("x"),new n(new n(w("loop"),new n(new n(w("cdr"),new n(w("x"),r)),new n(new n(w("cdr"),new n(w("y"),r)),r))),r)))),e,function(t){for(var w,e=new a(this.env);;)if(e.x=t.car,e.y=t.cdr.car,w=0!=p(e.x,e.y)?e.x:f(e.parentEnv.loop,t=new n(e.x.cdr,new n(e.y.cdr,r))),w!=l||w.f!=this)return w})),function(i){for(var w,e=new a(this.env);;)if(e.x=i.car,e.y=i.cdr.car,e.lx=c(t.get("length"),new n(e.x,r)),e.ly=c(t.get("length"),new n(e.y,r)),e.loop=e.parentEnv._39_.clone(e),w=f(e.loop,i=new n(e.lx>e.ly!=0?c(t.get("list-tail"),new n(e.x,new n(e.lx-e.ly,r))):e.x,new n(e.ly>e.lx!=0?c(t.get("list-tail"),new n(e.y,new n(e.ly-e.lx,r))):e.y,r))),w!=l||w.f!=this)return w})).With("_36_",new o(new n(w("new"),r),new n(w("begin"),new n(new n(w("define"),new n(w("tail"),new n(new n(w("common-tail"),new n(w("new"),new n(w("winders"),r))),r))),new n(new n(w("define"),new n(w("f1"),new n(new n(w("clone"),new n(w("_40_"),r)),r))),new n(new n(w("define"),new n(w("f2"),new n(new n(w("clone"),new n(w("_41_"),r)),r))),new n(new n(w("f1"),new n(w("winders"),r)),new n(new n(w("f2"),new n(w("new"),r)),r)))))),new a(e).With("_40_",new o(new n(w("l"),r),new n(w("if"),new n(new n(w("not"),new n(new n(w("eq?"),new n(w("l"),new n(w("tail"),r))),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("winders"),new n(new n(w("cdr"),new n(w("l"),r)),r))),new n(new n(new n(w("cdar"),new n(w("l"),r)),r),new n(new n(w("f1"),new n(new n(w("cdr"),new n(w("l"),r)),r)),r)))),r))),e,function(t){for(var w,e=new a(this.env);;)if(e.l=t.car,w=0==p(e.l,e.parentEnv.tail)!=0?(e.set("winders",e.l.cdr),c(e.l.car.cdr,r),f(e.parentEnv.f1,t=new n(e.l.cdr,r))):null,w!=l||w.f!=this)return w})).With("_41_",new o(new n(w("l"),r),new n(w("if"),new n(new n(w("not"),new n(new n(w("eq?"),new n(w("l"),new n(w("tail"),r))),r)),new n(new n(w("begin"),new n(new n(w("f2"),new n(new n(w("cdr"),new n(w("l"),r)),r)),new n(new n(new n(w("caar"),new n(w("l"),r)),r),new n(new n(w("set!"),new n(w("winders"),new n(w("l"),r))),r)))),r))),e,function(t){for(var w,e=new a(this.env);;)if(e.l=t.car,w=0==p(e.l,e.parentEnv.tail)!=0?(c(e.parentEnv.f2,new n(e.l.cdr,r)),c(e.l.car.car,r),e.set("winders",e.l)):null,w!=l||w.f!=this)return w})),function(t){for(var w,e=new a(this.env);;)if(e["new"]=t.car,e.tail=c(e.parentEnv.parentEnv["common-tail"],new n(e["new"],new n(e.parentEnv.parentEnv.winders,r))),e.f1=e.parentEnv._40_.clone(e),e.f2=e.parentEnv._41_.clone(e),c(e.f1,new n(e.parentEnv.parentEnv.winders,r)),w=f(e.f2,t=new n(e["new"],r)),w!=l||w.f!=this)return w})).With("_37_",new o(new n(w("c"),r),new n(w("set!"),new n(w("call/cc"),new n(new n(w("clone"),new n(w("_42_"),r)),r))),new a(e).With("_42_",new o(new n(w("f"),r),new n(w("c"),new n(new n(w("clone"),new n(w("_43_"),r)),r)),new a(e).With("_43_",new o(new n(w("k"),r),new n(w("f"),new n(new n(new n(w("clone"),new n(w("_44_"),r)),new n(w("winders"),r)),r)),new a(e).With("_44_",new o(new n(w("save"),r),new n(w("clone"),new n(w("_45_"),r)),new a(e).With("_45_",new o(w("x"),new n(w("begin"),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("eq?"),new n(w("save"),new n(w("winders"),r))),r)),new n(new n(w("do-wind"),new n(w("save"),r)),r))),new n(new n(w("apply"),new n(w("k"),new n(w("x"),r))),r))),e,function(t){for(var w,e=new a(this.env);;)if(e.x=t,0==p(e.parentEnv.save,e.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.winders)!=0?c(e.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv["do-wind"],new n(e.parentEnv.save,r)):null,w=f(e.parentEnv.parentEnv.parentEnv.k,t=e.x.ListCopy()),w!=l||w.f!=this)return w})),function(w){for(var e,n=new a(this.env);;)if(n.save=w.car,e=n.parentEnv._45_.clone(n),e!=l||e.f!=this)return e})),function(t){for(var w,e=new a(this.env);;)if(e.k=t.car,w=f(e.parentEnv.parentEnv.f,t=new n(c(e.parentEnv._44_.clone(e),new n(e.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.parentEnv.winders,r)),r)),w!=l||w.f!=this)return w})),function(t){for(var e,w=new a(this.env);;)if(w.f=t.car,e=f(w.parentEnv.parentEnv.c,t=new n(w.parentEnv._43_.clone(w),r)),e!=l||e.f!=this)return e})),function(w){for(var e,n=new a(this.env);;)if(n.c=w.car,e=n.set("call/cc",n.parentEnv._42_.clone(n)),e!=l||e.f!=this)return e})).With("_38_",new o(new n(w("in"),new n(w("body"),new n(w("out"),r))),new n(w("begin"),new n(new n(w("define"),new n(w("ans"),new n(!1,r))),new n(new n(w("in"),r),new n(new n(w("set!"),new n(w("winders"),new n(new n(w("cons"),new n(new n(w("cons"),new n(w("in"),new n(w("out"),r))),new n(w("winders"),r))),r))),new n(new n(w("set!"),new n(w("ans"),new n(new n(w("body"),r),r))),new n(new n(w("set!"),new n(w("winders"),new n(new n(w("cdr"),new n(w("winders"),r)),r))),new n(new n(w("out"),r),new n(w("ans"),r)))))))),e,function(t){for(var w,e=new a(this.env);;)if(e["in"]=t.car,e.body=t.cdr.car,e.out=t.cdr.cdr.car,e.ans=!1,c(e["in"],r),e.set("winders",new n(new n(e["in"],e.out),e.parentEnv.winders)),e.ans=c(e.body,r),e.set("winders",e.parentEnv.winders.cdr),c(e.out,r),w=e.ans,w!=l||w.f!=this)return w})),function(){for(var w,e=new a(this.env);;)if(e.winders=r,e["common-tail"]=e.parentEnv._35_.clone(e),e["do-wind"]=e.parentEnv._36_.clone(e),c(e.parentEnv._37_.clone(e),new n(t.get("call/cc"),r)),e.set("call-with-current-continuation",t.get("call/cc")),w=e.set("dynamic-wind",e.parentEnv._38_.clone(e)),w!=l||w.f!=this)return w}),r),e["js-char"]=new o(new n(w("c"),r),new n(w("begin"),new n(new n(w("define"),new n(w("char-code"),new n(new n(w("char->integer"),new n(w("c"),r)),r))),new n(new n(w("if"),new n(new n(w(">="),new n(w("char-code"),new n(32,r))),new n(new n(w("string"),new n(w("c"),r)),new n(new n(w("string-append"),new n("\\x",new n(new n(w("if"),new n(new n(w("<"),new n(w("char-code"),new n(16,r))),new n("0",new n("",r)))),new n(new n(w("number->string"),new n(w("char-code"),new n(16,r))),r)))),r)))),r))),e,function(i){for(var w,e=new a(this.env);;)if(e.c=i.car,e["char-code"]=c(t.get("char->integer"),new n(e.c,r)),w=e["char-code"]>=32!=0?f(t.get("string"),i=new n(e.c,r)):"\\x"+(e["char-code"]<16!=0?"0":"")+c(t.get("number->string"),new n(e["char-code"],new n(16,r))),w!=l||w.f!=this)return w}),e.compile=new o(new n(w("ex"),w("tt")),new n(w("begin"),new n(new n(w("define"),new n(w("tail"),new n(!1,r))),new n(new n(w("define"),new n(w("locs"),new n(!1,r))),new n(new n(w("define"),new n(w("app"),new n("Apply",r))),new n(new n(w("define"),new n(w("prefix"),new n("",r))),new n(new n(w("define"),new n(w("suffix"),new n("",r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(w("tt"),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("locs"),new n(new n(w("car"),new n(w("tt"),r)),r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("tt"),r)),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("tail"),new n(new n(w("cadr"),new n(w("tt"),r)),r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(new n(w("cddr"),new n(w("tt"),r)),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("prefix"),new n(new n(w("caddr"),new n(w("tt"),r)),r))),new n(new n(w("set!"),new n(w("suffix"),new n(new n(w("cadddr"),new n(w("tt"),r)),r))),r))),r))),r))),r))),r))),r))),new n(new n(w("if"),new n(w("tail"),new n(new n(w("set!"),new n(w("app"),new n("TC",r))),r))),new n(new n(w("if"),new n(new n(w("number?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("number->string"),new n(w("ex"),r)),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("symbol?"),new n(w("ex"),r)),new n(new n(w("if"),new n(w("locs"),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("locs"),new n(new n(w("quote"),new n(w("gen"),r)),new n(w("ex"),new n("e",r)))),new n(w("suffix"),r)))),new n(new n(w("string-append"),new n(w("prefix"),new n("e.get('",new n(new n(w("symbol->string"),new n(w("ex"),r)),new n("')",new n(w("suffix"),r)))))),r)))),new n(new n(w("if"),new n(new n(w("string?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("str"),new n(w("ex"),r)),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("char?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n("getChar('",new n(new n(w("js-char"),new n(w("ex"),r)),new n("')",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("ex"),r)),new n(new n(w("error"),new n("cannot compile ()",r)),new n(new n(w("if"),new n(new n(w("boolean?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("if"),new n(w("ex"),new n("true",new n("false",r)))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("vector?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n(w("app"),new n("(e.get('list->vector'),",new n(new n(w("if"),new n(w("tail"),new n("list=",new n("",r)))),new n("new Pair(",new n(new n(w("compile-quote"),new n(new n(w("vector->list"),new n(w("ex"),r)),r)),new n(",theNil),e)",new n(w("suffix"),r))))))))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("pair?"),new n(w("ex"),r)),r)),new n(new n(w("error"),new n(new n(w("string-append"),new n("cannot compile ",new n(new n(w("str"),new n(w("ex"),r)),r))),r)),new n(new n(w("compile-pair"),new n(w("ex"),new n(w("locs"),new n(w("tail"),new n(w("prefix"),new n(w("suffix"),new n(w("app"),r))))))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r))))))))),e,function(i){for(var o,e=new a(this.env);;)if(e.ex=i.car,e.tt=i.cdr,e.tail=!1,e.locs=!1,e.app="Apply",e.prefix="",e.suffix="",e.tt==r==0!=0?(e.locs=e.tt.car,e.tt.cdr==r==0!=0?(e.tail=e.tt.cdr.car,e.tt.cdr.cdr==r==0!=0?(e.prefix=e.tt.cdr.cdr.car,e.suffix=e.tt.cdr.cdr.cdr.car):null):null):null,0!=e.tail?e.app="TC":null,o="number"==typeof e.ex!=0?e.prefix+c(t.get("number->string"),new n(e.ex,r))+e.suffix:e.ex instanceof u!=0?0!=e.locs?e.prefix+c(e.locs,new n(w("gen"),new n(e.ex,new n("e",r))))+e.suffix:e.prefix+"e.get('"+e.ex.name+"')"+e.suffix:"string"==typeof e.ex!=0?e.prefix+Str(e.ex)+e.suffix:e.ex instanceof _!=0?e.prefix+"getChar('"+c(t.get("js-char"),new n(e.ex,r))+"')"+e.suffix:e.ex==r!=0?f(t.get("error"),i=new n("cannot compile ()",r)):"boolean"==typeof e.ex!=0?e.prefix+(0!=e.ex?"true":"false")+e.suffix:0!=c(t.get("vector?"),new n(e.ex,r))?e.prefix+e.app+"(e.get('list->vector'),"+(0!=e.tail?"list=":"")+"new Pair("+c(t.get("compile-quote"),new n(c(t.get("vector->list"),new n(e.ex,r)),r))+",theNil),e)"+e.suffix:e.ex instanceof n==0!=0?f(t.get("error"),i=new n("cannot compile "+Str(e.ex),r)):f(t.get("compile-pair"),i=new n(e.ex,new n(e.locs,new n(e.tail,new n(e.prefix,new n(e.suffix,new n(e.app,r))))))),o!=l||o.f!=this)return o
}),e["compile-pair"]=new o(new n(w("ex"),new n(w("locs"),new n(w("tail"),new n(w("prefix"),new n(w("suffix"),new n(w("app"),r)))))),new n(w("begin"),new n(new n(w("define"),new n(w("list-len"),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("locs"),r)),new n(new n(w("length"),new n(w("locs"),r)),new n(!1,r)))),r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("begin"),r)),r))),new n(new n(w("compile-begin"),new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),new n(w("tail"),new n(w("prefix"),new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("quote"),r)),r))),new n(new n(w("compile-quote"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("prefix"),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("not"),r)),r))),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),new n(!1,new n(new n(w("string-append"),new n(w("prefix"),new n("(",r))),new n(new n(w("string-append"),new n("==false)",new n(w("suffix"),r))),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("symbol->string"),r)),r))),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),new n(!1,new n(w("prefix"),new n(new n(w("string-append"),new n(w("suffix"),new n(".name",r))),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("car"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".car",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cdr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("caar"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".car.car",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cadr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr.car",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cdar"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".car.cdr",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cddr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr.cdr",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("caaar"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".car.car.car",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("caddr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr.cdr.car",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cdaar"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".car.car.cdr",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cdddr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr.cdr.cdr",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("caaddr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr.cdr.car.car",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cadddr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr.cdr.cdr.car",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cdaddr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr.cdr.car.cdr",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cddddr"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".cdr.cdr.cdr.cdr",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("cons"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("new Pair(",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(",",new n(new n(w("compile"),new n(new n(w("caddr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")",new n(w("suffix"),r)))))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("boolean?"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("(typeof(",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")=='boolean')",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("string?"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("(typeof(",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")=='string')",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("number?"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("(typeof(",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")=='number')",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("char?"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("((",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")instanceof Char)",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("symbol?"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("((",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")instanceof Symbol)",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("syntax?"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("((",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")instanceof Syntax)",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("null?"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("(",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n("==theNil)",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("pair?"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("((",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")instanceof Pair)",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("str"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("Str(",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("clone"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(".clone(e)",new n(w("suffix"),r))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("get-prop"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n("[",new n(new n(w("str"),new n(new n(w("caddr"),new n(w("ex"),r)),r)),new n("]",new n(w("suffix"),r))))))),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w(">"),r)),r))),new n(!0,new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("<"),r)),r))),new n(!0,new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w(">="),r)),r))),new n(!0,new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("<="),r)),r))),r)))),r)))),r)))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile-predicate"),new n(new n(w("symbol->string"),new n(new n(w("car"),new n(w("ex"),r)),r)),new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),r)))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("+"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile-append"),new n("0",new n("+",new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),r))))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("*"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile-append"),new n("1",new n("*",new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),r))))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("-"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile-minus"),new n("-",new n("-",new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),r))))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("/"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile-minus"),new n("1/",new n("/",new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),r))))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("string-append"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile-append"),new n("''",new n("+",new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),r))))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("eq?"),r)),r))),new n(!0,new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("="),r)),r))),new n(!0,new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("eqv?"),r)),r))),new n(!0,new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("string=?"),r)),r))),new n(!0,new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("char=?"),r)),r))),r)))),r)))),r)))),r)))),new n(new n(w("string-append"),new n(w("prefix"),new n("isEq(",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(",",new n(new n(w("compile"),new n(new n(w("caddr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")",new n(w("suffix"),r)))))))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("list"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile-list"),new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("if"),r)),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdddr"),new n(w("ex"),r)),r)),new n(new n(w("compile"),new n(new n(w("caddr"),new n(w("ex"),r)),new n(w("locs"),new n(w("tail"),new n(new n(w("string-append"),new n(w("prefix"),new n("((",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")!=false?",r))))),new n(new n(w("string-append"),new n(":null)",new n(w("suffix"),r))),r)))))),new n(new n(w("compile"),new n(new n(w("cadddr"),new n(w("ex"),r)),new n(w("locs"),new n(w("tail"),new n(new n(w("string-append"),new n(w("prefix"),new n("((",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")!=false?",new n(new n(w("compile"),new n(new n(w("caddr"),new n(w("ex"),r)),new n(w("locs"),new n(w("tail"),r)))),new n(":",r))))))),new n(new n(w("string-append"),new n(")",new n(w("suffix"),r))),r)))))),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("define-syntax"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("e['",new n(new n(w("symbol->string"),new n(new n(w("cadr"),new n(w("ex"),r)),r)),new n("']=new Syntax(e.get('",new n(new n(w("symbol->string"),new n(new n(w("caaddr"),new n(w("ex"),r)),r)),new n("'),",new n(new n(w("compile-quote"),new n(new n(w("cdaddr"),new n(w("ex"),r)),r)),new n(")",new n(w("suffix"),r)))))))))),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("define"),r)),r))),new n(new n(w("symbol?"),new n(new n(w("cadr"),new n(w("ex"),r)),r)),new n(!1,r)))),new n(new n(w("begin"),new n(new n(w("if"),new n(w("locs"),new n(new n(w("locs"),new n(new n(w("quote"),new n(w("add"),r)),new n(new n(w("cadr"),new n(w("ex"),r)),r))),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("e['",new n(new n(w("symbol->string"),new n(new n(w("cadr"),new n(w("ex"),r)),r)),new n("']=",new n(new n(w("compile"),new n(new n(w("caddr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(w("suffix"),r))))))),r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("set!"),r)),r))),new n(new n(w("if"),new n(new n(w("if"),new n(w("locs"),new n(new n(w("locs"),new n(new n(w("quote"),new n(w("memq"),r)),new n(new n(w("cadr"),new n(w("ex"),r)),r))),new n(!1,r)))),new n(new n(w("compile"),new n(new n(w("caddr"),new n(w("ex"),r)),new n(w("locs"),new n(!1,new n(new n(w("string-append"),new n(w("prefix"),new n("e['",new n(new n(w("symbol->string"),new n(new n(w("cadr"),new n(w("ex"),r)),r)),new n("']=",r))))),new n(w("suffix"),r)))))),new n(new n(w("compile"),new n(new n(w("caddr"),new n(w("ex"),r)),new n(w("locs"),new n(!1,new n(new n(w("string-append"),new n(w("prefix"),new n("e.set('",new n(new n(w("symbol->string"),new n(new n(w("cadr"),new n(w("ex"),r)),r)),new n("',",r))))),new n(new n(w("string-append"),new n(")",new n(w("suffix"),r))),r)))))),r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("lambda"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("compile-lambda-obj"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(new n(w("cddr"),new n(w("ex"),r)),new n(w("locs"),r)))),new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("define"),r)),r))),new n(new n(w("pair?"),new n(new n(w("cadr"),new n(w("ex"),r)),r)),new n(!1,r)))),new n(new n(w("begin"),new n(new n(w("if"),new n(w("locs"),new n(new n(w("locs"),new n(new n(w("quote"),new n(w("add"),r)),new n(new n(w("caadr"),new n(w("ex"),r)),r))),r))),new n(new n(w("string-append"),new n(w("prefix"),new n("e['",new n(new n(w("symbol->string"),new n(new n(w("caadr"),new n(w("ex"),r)),r)),new n("']=",new n(new n(w("compile-lambda-obj"),new n(new n(w("cdadr"),new n(w("ex"),r)),new n(new n(w("cddr"),new n(w("ex"),r)),new n(w("locs"),r)))),new n(w("suffix"),r))))))),r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("apply"),r)),r))),new n(new n(w("string-append"),new n(w("prefix"),new n(w("app"),new n("(",new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(",",new n(new n(w("if"),new n(w("tail"),new n("list=",new n("",r)))),new n(new n(w("compile-apply-list"),new n(new n(w("cddr"),new n(w("ex"),r)),new n(w("locs"),r))),new n(")",new n(w("suffix"),r)))))))))),new n(new n(w("if"),new n(new n(w("if"),new n(w("tail"),new n(new n(w("if"),new n(new n(w("number?"),new n(w("list-len"),r)),new n(new n(w(">="),new n(w("list-len"),new n(new n(w("length"),new n(new n(w("cdr"),new n(w("ex"),r)),r)),r))),new n(!1,r)))),new n(!1,r)))),new n(new n(w("string-append"),new n(w("prefix"),new n("(",new n(new n(w("compile-reuse"),new n(new n(w("cdr"),new n(w("ex"),r)),new n("list",new n(w("locs"),r)))),new n(",",new n("theTC.f=",new n(new n(w("compile"),new n(new n(w("car"),new n(w("ex"),r)),new n(w("locs"),r))),new n(",theTC.args=list,theTC)",new n(w("suffix"),r))))))))),new n(new n(w("compile-list"),new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),new n(new n(w("string-append"),new n(w("prefix"),new n(w("app"),new n("(",new n(new n(w("compile"),new n(new n(w("car"),new n(w("ex"),r)),new n(w("locs"),r))),new n(",",new n(new n(w("if"),new n(w("tail"),new n("list=",new n("",r)))),r))))))),new n(new n(w("string-append"),new n(")",new n(w("suffix"),r))),r))))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r)))),r))),e,function(i){for(var o,e=new a(this.env);;)if(e.ex=i.car,e.locs=i.cdr.car,e.tail=i.cdr.cdr.car,e.prefix=i.cdr.cdr.cdr.car,e.suffix=i.cdr.cdr.cdr.cdr.car,e.app=i.cdr.cdr.cdr.cdr.cdr.car,e["list-len"]=e.locs instanceof n!=0?c(t.get("length"),new n(e.locs,r)):!1,o=0!=p(e.ex.car,w("begin"))?f(t.get("compile-begin"),i=new n(e.ex.cdr,new n(e.locs,new n(e.tail,new n(e.prefix,new n(e.suffix,r)))))):0!=p(e.ex.car,w("quote"))?f(t.get("compile-quote"),i=new n(e.ex.cdr.car,new n(e.prefix,new n(e.suffix,r)))):0!=p(e.ex.car,w("not"))?f(t.get("compile"),i=new n(e.ex.cdr.car,new n(e.locs,new n(!1,new n(e.prefix+"(",new n("==false)"+e.suffix,r)))))):0!=p(e.ex.car,w("symbol->string"))?f(t.get("compile"),i=new n(e.ex.cdr.car,new n(e.locs,new n(!1,new n(e.prefix,new n(e.suffix+".name",r)))))):0!=p(e.ex.car,w("car"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".car"+e.suffix:0!=p(e.ex.car,w("cdr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr"+e.suffix:0!=p(e.ex.car,w("caar"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".car.car"+e.suffix:0!=p(e.ex.car,w("cadr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr.car"+e.suffix:0!=p(e.ex.car,w("cdar"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".car.cdr"+e.suffix:0!=p(e.ex.car,w("cddr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr.cdr"+e.suffix:0!=p(e.ex.car,w("caaar"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".car.car.car"+e.suffix:0!=p(e.ex.car,w("caddr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr.cdr.car"+e.suffix:0!=p(e.ex.car,w("cdaar"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".car.car.cdr"+e.suffix:0!=p(e.ex.car,w("cdddr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr.cdr.cdr"+e.suffix:0!=p(e.ex.car,w("caaddr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr.cdr.car.car"+e.suffix:0!=p(e.ex.car,w("cadddr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr.cdr.cdr.car"+e.suffix:0!=p(e.ex.car,w("cdaddr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr.cdr.car.cdr"+e.suffix:0!=p(e.ex.car,w("cddddr"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".cdr.cdr.cdr.cdr"+e.suffix:0!=p(e.ex.car,w("cons"))?e.prefix+"new Pair("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+","+c(t.get("compile"),new n(e.ex.cdr.cdr.car,new n(e.locs,r)))+")"+e.suffix:0!=p(e.ex.car,w("boolean?"))?e.prefix+"(typeof("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")=='boolean')"+e.suffix:0!=p(e.ex.car,w("string?"))?e.prefix+"(typeof("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")=='string')"+e.suffix:0!=p(e.ex.car,w("number?"))?e.prefix+"(typeof("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")=='number')"+e.suffix:0!=p(e.ex.car,w("char?"))?e.prefix+"(("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")instanceof Char)"+e.suffix:0!=p(e.ex.car,w("symbol?"))?e.prefix+"(("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")instanceof Symbol)"+e.suffix:0!=p(e.ex.car,w("syntax?"))?e.prefix+"(("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")instanceof Syntax)"+e.suffix:0!=p(e.ex.car,w("null?"))?e.prefix+"("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+"==theNil)"+e.suffix:0!=p(e.ex.car,w("pair?"))?e.prefix+"(("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")instanceof Pair)"+e.suffix:0!=p(e.ex.car,w("str"))?e.prefix+"Str("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")"+e.suffix:0!=p(e.ex.car,w("clone"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+".clone(e)"+e.suffix:0!=p(e.ex.car,w("get-prop"))?e.prefix+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+"["+Str(e.ex.cdr.cdr.car)+"]"+e.suffix:0!=(0!=p(e.ex.car,w(">"))?!0:0!=p(e.ex.car,w("<"))?!0:0!=p(e.ex.car,w(">="))?!0:p(e.ex.car,w("<=")))?e.prefix+c(t.get("compile-predicate"),new n(e.ex.car.name,new n(e.ex.cdr,new n(e.locs,r))))+e.suffix:0!=p(e.ex.car,w("+"))?e.prefix+c(t.get("compile-append"),new n("0",new n("+",new n(e.ex.cdr,new n(e.locs,r)))))+e.suffix:0!=p(e.ex.car,w("*"))?e.prefix+c(t.get("compile-append"),new n("1",new n("*",new n(e.ex.cdr,new n(e.locs,r)))))+e.suffix:0!=p(e.ex.car,w("-"))?e.prefix+c(t.get("compile-minus"),new n("-",new n("-",new n(e.ex.cdr,new n(e.locs,r)))))+e.suffix:0!=p(e.ex.car,w("/"))?e.prefix+c(t.get("compile-minus"),new n("1/",new n("/",new n(e.ex.cdr,new n(e.locs,r)))))+e.suffix:0!=p(e.ex.car,w("string-append"))?e.prefix+c(t.get("compile-append"),new n("''",new n("+",new n(e.ex.cdr,new n(e.locs,r)))))+e.suffix:0!=(0!=p(e.ex.car,w("eq?"))?!0:0!=p(e.ex.car,w("="))?!0:0!=p(e.ex.car,w("eqv?"))?!0:0!=p(e.ex.car,w("string=?"))?!0:p(e.ex.car,w("char=?")))?e.prefix+"isEq("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+","+c(t.get("compile"),new n(e.ex.cdr.cdr.car,new n(e.locs,r)))+")"+e.suffix:0!=p(e.ex.car,w("list"))?e.prefix+c(t.get("compile-list"),new n(e.ex.cdr,new n(e.locs,r)))+e.suffix:0!=p(e.ex.car,w("if"))?e.ex.cdr.cdr.cdr==r!=0?f(t.get("compile"),i=new n(e.ex.cdr.cdr.car,new n(e.locs,new n(e.tail,new n(e.prefix+"(("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")!=false?",new n(":null)"+e.suffix,r)))))):f(t.get("compile"),i=new n(e.ex.cdr.cdr.cdr.car,new n(e.locs,new n(e.tail,new n(e.prefix+"(("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+")!=false?"+c(t.get("compile"),new n(e.ex.cdr.cdr.car,new n(e.locs,new n(e.tail,r))))+":",new n(")"+e.suffix,r)))))):0!=p(e.ex.car,w("define-syntax"))?e.prefix+"e['"+e.ex.cdr.car.name+"']=new Syntax(e.get('"+e.ex.cdr.cdr.car.car.name+"'),"+c(t.get("compile-quote"),new n(e.ex.cdr.cdr.car.cdr,r))+")"+e.suffix:0!=(0!=p(e.ex.car,w("define"))?e.ex.cdr.car instanceof u:!1)?(0!=e.locs?c(e.locs,new n(w("add"),new n(e.ex.cdr.car,r))):null,e.prefix+"e['"+e.ex.cdr.car.name+"']="+c(t.get("compile"),new n(e.ex.cdr.cdr.car,new n(e.locs,r)))+e.suffix):0!=p(e.ex.car,w("set!"))?0!=(0!=e.locs?c(e.locs,new n(w("memq"),new n(e.ex.cdr.car,r))):!1)?f(t.get("compile"),i=new n(e.ex.cdr.cdr.car,new n(e.locs,new n(!1,new n(e.prefix+"e['"+e.ex.cdr.car.name+"']=",new n(e.suffix,r)))))):f(t.get("compile"),i=new n(e.ex.cdr.cdr.car,new n(e.locs,new n(!1,new n(e.prefix+"e.set('"+e.ex.cdr.car.name+"',",new n(")"+e.suffix,r)))))):0!=p(e.ex.car,w("lambda"))?e.prefix+c(t.get("compile-lambda-obj"),new n(e.ex.cdr.car,new n(e.ex.cdr.cdr,new n(e.locs,r))))+e.suffix:0!=(0!=p(e.ex.car,w("define"))?e.ex.cdr.car instanceof n:!1)?(0!=e.locs?c(e.locs,new n(w("add"),new n(c(t.get("caadr"),new n(e.ex,r)),r))):null,e.prefix+"e['"+c(t.get("caadr"),new n(e.ex,r)).name+"']="+c(t.get("compile-lambda-obj"),new n(c(t.get("cdadr"),new n(e.ex,r)),new n(e.ex.cdr.cdr,new n(e.locs,r))))+e.suffix):0!=p(e.ex.car,w("apply"))?e.prefix+e.app+"("+c(t.get("compile"),new n(e.ex.cdr.car,new n(e.locs,r)))+","+(0!=e.tail?"list=":"")+c(t.get("compile-apply-list"),new n(e.ex.cdr.cdr,new n(e.locs,r)))+")"+e.suffix:0!=(0!=e.tail?"number"==typeof e["list-len"]!=0?e["list-len"]>=c(t.get("length"),new n(e.ex.cdr,r)):!1:!1)?e.prefix+"("+c(t.get("compile-reuse"),new n(e.ex.cdr,new n("list",new n(e.locs,r))))+",theTC.f="+c(t.get("compile"),new n(e.ex.car,new n(e.locs,r)))+",theTC.args=list,theTC)"+e.suffix:f(t.get("compile-list"),i=new n(e.ex.cdr,new n(e.locs,new n(e.prefix+e.app+"("+c(t.get("compile"),new n(e.ex.car,new n(e.locs,r)))+","+(0!=e.tail?"list=":""),new n(")"+e.suffix,r))))),o!=l||o.f!=this)return o}),e["compile-reuse"]=new o(new n(w("lst"),new n(w("var"),new n(w("locs"),r))),new n(w("if"),new n(new n(w("pair?"),new n(w("lst"),r)),new n(new n(w("string-append"),new n("(",new n(w("var"),new n(".car=",new n(new n(w("compile"),new n(new n(w("car"),new n(w("lst"),r)),new n(w("locs"),r))),new n("),",new n(new n(w("compile-reuse"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(new n(w("string-append"),new n(w("var"),new n(".cdr",r))),new n(w("locs"),r)))),r))))))),new n(new n(w("string-append"),new n("(",new n(w("var"),new n("=",new n(new n(w("if"),new n(new n(w("null?"),new n(w("lst"),r)),new n("theNil",new n(new n(w("compile"),new n(w("lst"),new n(w("locs"),r))),r)))),new n(")",r)))))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.lst=i.car,e["var"]=i.cdr.car,e.locs=i.cdr.cdr.car,w=e.lst instanceof n!=0?"("+e["var"]+".car="+c(t.get("compile"),new n(e.lst.car,new n(e.locs,r)))+"),"+c(t.get("compile-reuse"),new n(e.lst.cdr,new n(e["var"]+".cdr",new n(e.locs,r)))):"("+e["var"]+"="+(e.lst==r!=0?"theNil":c(t.get("compile"),new n(e.lst,new n(e.locs,r))))+")",w!=l||w.f!=this)return w}),e["compile-predicate"]=new o(new n(w("op"),new n(w("lst"),new n(w("locs"),r))),new n(w("begin"),new n(new n(w("define"),new n(w("s"),new n(new n(w("string-append"),new n(new n(w("compile"),new n(new n(w("car"),new n(w("lst"),r)),new n(w("locs"),r))),new n(w("op"),new n(new n(w("compile"),new n(new n(w("cadr"),new n(w("lst"),r)),new n(w("locs"),r))),r)))),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cddr"),new n(w("lst"),r)),r)),new n(w("s"),new n(new n(w("string-append"),new n(w("s"),new n("&&",new n(new n(w("compile-predicate"),new n(w("op"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(w("locs"),r)))),r)))),r)))),r))),e,function(i){for(var w,e=new a(this.env);;)if(e.op=i.car,e.lst=i.cdr.car,e.locs=i.cdr.cdr.car,e.s=c(t.get("compile"),new n(e.lst.car,new n(e.locs,r)))+e.op+c(t.get("compile"),new n(e.lst.cdr.car,new n(e.locs,r))),w=e.lst.cdr.cdr==r!=0?e.s:e.s+"&&"+c(t.get("compile-predicate"),new n(e.op,new n(e.lst.cdr,new n(e.locs,r)))),w!=l||w.f!=this)return w}),e["compile-minus"]=new o(new n(w("one"),new n(w("op"),new n(w("lst"),new n(w("locs"),r)))),new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("lst"),r)),r)),new n(new n(w("string-append"),new n("(",new n(w("one"),new n(new n(w("compile"),new n(new n(w("car"),new n(w("lst"),r)),new n(w("locs"),r))),new n(")",r))))),new n(new n(w("compile-append"),new n("0",new n(w("op"),new n(w("lst"),new n(w("locs"),r))))),r)))),e,function(w){for(var i,e=new a(this.env);;)if(e.one=w.car,e.op=w.cdr.car,e.lst=w.cdr.cdr.car,e.locs=w.cdr.cdr.cdr.car,i=e.lst.cdr==r!=0?"("+e.one+c(t.get("compile"),new n(e.lst.car,new n(e.locs,r)))+")":f(t.get("compile-append"),w=new n("0",new n(e.op,new n(e.lst,new n(e.locs,r))))),i!=l||i.f!=this)return i}),e["compile-append"]=new o(new n(w("zero"),new n(w("op"),new n(w("lst"),new n(w("locs"),w("q"))))),new n(w("if"),new n(new n(w("null?"),new n(w("lst"),r)),new n(w("zero"),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("lst"),r)),r)),new n(new n(w("compile"),new n(new n(w("car"),new n(w("lst"),r)),new n(w("locs"),r))),new n(new n(w("string-append"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("q"),r)),new n("(",new n("",r)))),new n(new n(w("compile"),new n(new n(w("car"),new n(w("lst"),r)),new n(w("locs"),r))),new n(w("op"),new n(new n(w("compile-append"),new n(w("zero"),new n(w("op"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(w("locs"),new n(!0,r)))))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("q"),r)),new n(")",new n("",r)))),r)))))),r)))),r)))),e,function(w){for(var i,e=new a(this.env);;)if(e.zero=w.car,e.op=w.cdr.car,e.lst=w.cdr.cdr.car,e.locs=w.cdr.cdr.cdr.car,e.q=w.cdr.cdr.cdr.cdr,i=e.lst==r!=0?e.zero:e.lst.cdr==r!=0?f(t.get("compile"),w=new n(e.lst.car,new n(e.locs,r))):(e.q==r!=0?"(":"")+c(t.get("compile"),new n(e.lst.car,new n(e.locs,r)))+e.op+c(t.get("compile-append"),new n(e.zero,new n(e.op,new n(e.lst.cdr,new n(e.locs,new n(!0,r))))))+(e.q==r!=0?")":""),i!=l||i.f!=this)return i}),e["compile-list"]=new o(new n(w("ex"),new n(w("locs"),w("tt"))),new n(w("begin"),new n(new n(w("define"),new n(w("prefix"),new n("",r))),new n(new n(w("define"),new n(w("suffix"),new n("",r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(w("tt"),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("prefix"),new n(new n(w("car"),new n(w("tt"),r)),r))),new n(new n(w("set!"),new n(w("suffix"),new n(new n(w("cadr"),new n(w("tt"),r)),r))),r))),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n("theNil",new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("ex"),r)),new n(new n(w("compile-list"),new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),new n(new n(w("string-append"),new n(w("prefix"),new n("new Pair(",new n(new n(w("compile"),new n(new n(w("car"),new n(w("ex"),r)),new n(w("locs"),r))),new n(",",r))))),new n(new n(w("string-append"),new n(")",new n(w("suffix"),r))),r))))),new n(new n(w("compile"),new n(w("ex"),new n(w("locs"),new n(!1,new n(w("prefix"),new n(w("suffix"),r)))))),r)))),r)))),r))))),e,function(w){for(var i,e=new a(this.env);;)if(e.ex=w.car,e.locs=w.cdr.car,e.tt=w.cdr.cdr,e.prefix="",e.suffix="",e.tt==r==0!=0?(e.prefix=e.tt.car,e.suffix=e.tt.cdr.car):null,i=e.ex==r!=0?e.prefix+"theNil"+e.suffix:e.ex instanceof n!=0?f(t.get("compile-list"),w=new n(e.ex.cdr,new n(e.locs,new n(e.prefix+"new Pair("+c(t.get("compile"),new n(e.ex.car,new n(e.locs,r)))+",",new n(")"+e.suffix,r))))):f(t.get("compile"),w=new n(e.ex,new n(e.locs,new n(!1,new n(e.prefix,new n(e.suffix,r)))))),i!=l||i.f!=this)return i
}),e["compile-quote"]=new o(new n(w("ex"),w("tt")),new n(w("begin"),new n(new n(w("define"),new n(w("prefix"),new n("",r))),new n(new n(w("define"),new n(w("suffix"),new n("",r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(w("tt"),r)),r)),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("prefix"),new n(new n(w("car"),new n(w("tt"),r)),r))),new n(new n(w("set!"),new n(w("suffix"),new n(new n(w("cadr"),new n(w("tt"),r)),r))),r))),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n("theNil",new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("symbol?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n("getSymbol('",new n(new n(w("symbol->string"),new n(w("ex"),r)),new n("')",new n(w("suffix"),r)))))),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("ex"),r)),new n(new n(w("compile-quote"),new n(new n(w("cdr"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n("new Pair(",new n(new n(w("compile-quote"),new n(new n(w("car"),new n(w("ex"),r)),r)),new n(",",r))))),new n(new n(w("string-append"),new n(")",new n(w("suffix"),r))),r)))),new n(new n(w("compile"),new n(w("ex"),new n(!1,new n(!1,new n(w("prefix"),new n(w("suffix"),r)))))),r)))),r)))),r)))),r))))),e,function(w){for(var i,e=new a(this.env);;)if(e.ex=w.car,e.tt=w.cdr,e.prefix="",e.suffix="",e.tt==r==0!=0?(e.prefix=e.tt.car,e.suffix=e.tt.cdr.car):null,i=e.ex==r!=0?e.prefix+"theNil"+e.suffix:e.ex instanceof u!=0?e.prefix+"getSymbol('"+e.ex.name+"')"+e.suffix:e.ex instanceof n!=0?f(t.get("compile-quote"),w=new n(e.ex.cdr,new n(e.prefix+"new Pair("+c(t.get("compile-quote"),new n(e.ex.car,r))+",",new n(")"+e.suffix,r)))):f(t.get("compile"),w=new n(e.ex,new n(!1,new n(!1,new n(e.prefix,new n(e.suffix,r)))))),i!=l||i.f!=this)return i}),e["compile-begin"]=new o(new n(w("ex"),new n(w("locs"),new n(w("tail"),new n(w("prefix"),new n(w("suffix"),w("q")))))),new n(w("if"),new n(new n(w("null?"),new n(w("ex"),r)),new n(new n(w("string-append"),new n(w("prefix"),new n("null",new n(w("suffix"),r)))),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("ex"),r)),r)),new n(new n(w("compile"),new n(new n(w("car"),new n(w("ex"),r)),new n(w("locs"),new n(w("tail"),new n(w("prefix"),new n(w("suffix"),r)))))),new n(new n(w("compile-begin"),new n(new n(w("cdr"),new n(w("ex"),r)),new n(w("locs"),new n(w("tail"),new n(new n(w("string-append"),new n(w("prefix"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("q"),r)),new n("(",new n("",r)))),new n(new n(w("compile"),new n(new n(w("car"),new n(w("ex"),r)),new n(w("locs"),r))),new n(",",r))))),new n(new n(w("string-append"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("q"),r)),new n(")",new n("",r)))),new n(w("suffix"),r))),new n(!0,r))))))),r)))),r)))),e,function(w){for(var i,e=new a(this.env);;)if(e.ex=w.car,e.locs=w.cdr.car,e.tail=w.cdr.cdr.car,e.prefix=w.cdr.cdr.cdr.car,e.suffix=w.cdr.cdr.cdr.cdr.car,e.q=w.cdr.cdr.cdr.cdr.cdr,i=e.ex==r!=0?e.prefix+"null"+e.suffix:e.ex.cdr==r!=0?f(t.get("compile"),w=new n(e.ex.car,new n(e.locs,new n(e.tail,new n(e.prefix,new n(e.suffix,r)))))):f(t.get("compile-begin"),w=new n(e.ex.cdr,new n(e.locs,new n(e.tail,new n(e.prefix+(e.q==r!=0?"(":"")+c(t.get("compile"),new n(e.ex.car,new n(e.locs,r)))+",",new n((e.q==r!=0?")":"")+e.suffix,new n(!0,r))))))),i!=l||i.f!=this)return i}),e["compile-apply-list"]=new o(new n(w("lst"),new n(w("locs"),r)),new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("lst"),r)),r)),new n(new n(w("compile"),new n(new n(w("car"),new n(w("lst"),r)),new n(w("locs"),new n(!1,new n("",new n(".ListCopy()",r)))))),new n(new n(w("string-append"),new n("new Pair(",new n(new n(w("compile"),new n(new n(w("car"),new n(w("lst"),r)),new n(w("locs"),r))),new n(",",new n(new n(w("compile-apply-list"),new n(new n(w("cdr"),new n(w("lst"),r)),new n(w("locs"),r))),new n(")",r)))))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.lst=i.car,e.locs=i.cdr.car,w=e.lst.cdr==r!=0?f(t.get("compile"),i=new n(e.lst.car,new n(e.locs,new n(!1,new n("",new n(".ListCopy()",r)))))):"new Pair("+c(t.get("compile"),new n(e.lst.car,new n(e.locs,r)))+","+c(t.get("compile-apply-list"),new n(e.lst.cdr,new n(e.locs,r)))+")",w!=l||w.f!=this)return w}),e["compile-lambda-args"]=new o(new n(w("args"),new n(w("var"),r)),new n(w("if"),new n(new n(w("null?"),new n(w("args"),r)),new n("",new n(new n(w("if"),new n(new n(w("symbol?"),new n(w("args"),r)),new n(new n(w("string-append"),new n("e['",new n(new n(w("symbol->string"),new n(w("args"),r)),new n("']=",new n(w("var"),new n(";",r)))))),new n(new n(w("string-append"),new n("e['",new n(new n(w("symbol->string"),new n(new n(w("car"),new n(w("args"),r)),r)),new n("']=",new n(w("var"),new n(".car;",new n(new n(w("compile-lambda-args"),new n(new n(w("cdr"),new n(w("args"),r)),new n(new n(w("string-append"),new n(w("var"),new n(".cdr",r))),r))),r))))))),r)))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.args=i.car,e["var"]=i.cdr.car,w=e.args==r!=0?"":e.args instanceof u!=0?"e['"+e.args.name+"']="+e["var"]+";":"e['"+e.args.car.name+"']="+e["var"]+".car;"+c(t.get("compile-lambda-args"),new n(e.args.cdr,new n(e["var"]+".cdr",r))),w!=l||w.f!=this)return w}),e["compile-extract-children"]=new o(new n(w("obj"),w("c")),new n(w("begin"),new n(new n(w("define"),new n(w("tmp-name"),new n(!1,r))),new n(new n(w("define"),new n(w("a"),new n(!1,r))),new n(new n(w("define"),new n(w("d"),new n(!1,r))),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("pair?"),new n(w("obj"),r)),new n(new n(w("not"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("obj"),r)),new n(new n(w("quote"),new n(w("quote"),r)),r))),r)),new n(!1,r)))),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("obj"),r)),new n(new n(w("quote"),new n(w("lambda"),r)),r))),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("tmp-name"),new n(new n(w("gen-sym"),r),r))),new n(new n(w("cons"),new n(new n(w("list"),new n(new n(w("quote"),new n(w("clone"),r)),new n(w("tmp-name"),r))),new n(new n(w("cons"),new n(new n(w("cons"),new n(w("tmp-name"),new n(new n(w("cdr"),new n(w("obj"),r)),r))),new n(w("c"),r))),r))),r))),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("obj"),r)),new n(new n(w("quote"),new n(w("define"),r)),r))),new n(new n(w("pair?"),new n(new n(w("cadr"),new n(w("obj"),r)),r)),new n(!1,r)))),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("tmp-name"),new n(new n(w("gen-sym"),r),r))),new n(new n(w("cons"),new n(new n(w("list"),new n(new n(w("quote"),new n(w("define"),r)),new n(new n(w("caadr"),new n(w("obj"),r)),new n(new n(w("list"),new n(new n(w("quote"),new n(w("clone"),r)),new n(w("tmp-name"),r))),r)))),new n(new n(w("cons"),new n(new n(w("cons"),new n(w("tmp-name"),new n(new n(w("cons"),new n(new n(w("cdadr"),new n(w("obj"),r)),new n(new n(w("cddr"),new n(w("obj"),r)),r))),r))),new n(w("c"),r))),r))),r))),new n(new n(w("begin"),new n(new n(w("set!"),new n(w("a"),new n(new n(w("compile-extract-children"),new n(new n(w("car"),new n(w("obj"),r)),r)),r))),new n(new n(w("set!"),new n(w("d"),new n(new n(w("compile-extract-children"),new n(new n(w("cdr"),new n(w("obj"),r)),r)),r))),new n(new n(w("cons"),new n(new n(w("cons"),new n(new n(w("car"),new n(w("a"),r)),new n(new n(w("car"),new n(w("d"),r)),r))),new n(new n(w("append"),new n(new n(w("cdr"),new n(w("a"),r)),new n(new n(w("cdr"),new n(w("d"),r)),r))),r))),r)))),r)))),r)))),new n(new n(w("cons"),new n(w("obj"),new n(w("c"),r))),r)))),r))))),e,function(o){for(var i,e=new a(this.env);;)if(e.obj=o.car,e.c=o.cdr,e["tmp-name"]=!1,e.a=!1,e.d=!1,i=0!=(e.obj instanceof n!=0?0==p(e.obj.car,w("quote")):!1)?0!=p(e.obj.car,w("lambda"))?(e["tmp-name"]=c(t.get("gen-sym"),r),new n(new n(w("clone"),new n(e["tmp-name"],r)),new n(new n(e["tmp-name"],e.obj.cdr),e.c))):0!=(0!=p(e.obj.car,w("define"))?e.obj.cdr.car instanceof n:!1)?(e["tmp-name"]=c(t.get("gen-sym"),r),new n(new n(w("define"),new n(c(t.get("caadr"),new n(e.obj,r)),new n(new n(w("clone"),new n(e["tmp-name"],r)),r))),new n(new n(e["tmp-name"],new n(c(t.get("cdadr"),new n(e.obj,r)),e.obj.cdr.cdr)),e.c))):(e.a=c(t.get("compile-extract-children"),new n(e.obj.car,r)),e.d=c(t.get("compile-extract-children"),new n(e.obj.cdr,r)),new n(new n(e.a.car,e.d.car),c(t.get("append"),new n(e.a.cdr,new n(e.d.cdr,r))))):new n(e.obj,e.c),i!=l||i.f!=this)return i}),e["compile-lambda-obj"]=new o(new n(w("args"),new n(w("body"),w("tt"))),new n(w("begin"),new n(new n(w("define"),new n(w("parent-locs"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("tt"),r)),new n(!1,new n(new n(w("car"),new n(w("tt"),r)),r)))),r))),new n(new n(w("define"),new n(w("ex"),new n(new n(w("compile-extract-children"),new n(w("body"),r)),r))),new n(new n(w("define"),new n(w("ll"),new n(!1,r))),new n(new n(w("set!"),new n(w("body"),new n(new n(w("car"),new n(w("ex"),r)),r))),new n(new n(w("if"),new n(new n(w("not"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("ex"),r)),r)),r)),new n(new n(w("set!"),new n(w("parent-locs"),new n(new n(w("compile-make-locals"),new n(new n(w("map+"),new n(w("car"),new n(new n(w("cdr"),new n(w("ex"),r)),r))),new n(w("parent-locs"),r))),r))),r))),new n(new n(w("set!"),new n(w("parent-locs"),new n(new n(w("compile-make-locals"),new n(w("args"),new n(w("parent-locs"),r))),r))),new n(new n(w("set!"),new n(w("ll"),new n(new n(w("compile-lambda"),new n(w("args"),new n(w("body"),new n(w("parent-locs"),r)))),r))),new n(new n(w("string-append"),new n("new Lambda(",new n(new n(w("compile-quote"),new n(w("args"),r)),new n(",",new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("body"),r)),r)),new n(new n(w("compile-quote"),new n(new n(w("car"),new n(w("body"),r)),r)),new n(new n(w("compile-quote"),new n(new n(w("cons"),new n(new n(w("quote"),new n(w("begin"),r)),new n(w("body"),r))),r)),r)))),new n(",",new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("ex"),r)),r)),new n("e",new n(new n(w("apply"),new n(w("string-append"),new n("new Env(e)",new n(new n(w("map+"),new n(new n(w("clone"),new n(w("_46_"),r)),new n(new n(w("cdr"),new n(w("ex"),r)),r))),r)))),r)))),new n(",",new n(w("ll"),new n(")",r)))))))))),r))))))))),new a(e).With("_46_",new o(new n(w("l"),r),new n(w("string-append"),new n(".With('",new n(new n(w("symbol->string"),new n(new n(w("car"),new n(w("l"),r)),r)),new n("',",new n(new n(w("compile-lambda-obj"),new n(new n(w("cadr"),new n(w("l"),r)),new n(new n(w("cddr"),new n(w("l"),r)),new n(w("parent-locs"),r)))),new n(")",r)))))),e,function(i){for(var w,e=new a(this.env);;)if(e.l=i.car,w=".With('"+e.l.car.name+"',"+c(t.get("compile-lambda-obj"),new n(e.l.cdr.car,new n(e.l.cdr.cdr,new n(e.parentEnv["parent-locs"],r))))+")",w!=l||w.f!=this)return w})),function(o){for(var i,e=new a(this.env);;)if(e.args=o.car,e.body=o.cdr.car,e.tt=o.cdr.cdr,e["parent-locs"]=e.tt==r!=0?!1:e.tt.car,e.ex=c(t.get("compile-extract-children"),new n(e.body,r)),e.ll=!1,e.body=e.ex.car,e.ex.cdr==r==0!=0?e["parent-locs"]=c(t.get("compile-make-locals"),new n(c(t.get("map+"),new n(t.get("car"),new n(e.ex.cdr,r))),new n(e["parent-locs"],r))):null,e["parent-locs"]=c(t.get("compile-make-locals"),new n(e.args,new n(e["parent-locs"],r))),e.ll=c(t.get("compile-lambda"),new n(e.args,new n(e.body,new n(e["parent-locs"],r)))),i="new Lambda("+c(t.get("compile-quote"),new n(e.args,r))+","+(e.body.cdr==r!=0?c(t.get("compile-quote"),new n(e.body.car,r)):c(t.get("compile-quote"),new n(new n(w("begin"),e.body),r)))+","+(e.ex.cdr==r!=0?"e":c(t.get("string-append"),new n("new Env(e)",c(t.get("map+"),new n(e.parentEnv._46_.clone(e),new n(e.ex.cdr,r))).ListCopy())))+","+e.ll+")",i!=l||i.f!=this)return i}),e["compile-make-locals"]=new o(new n(w("lst"),new n(w("parent"),r)),new n(w("clone"),new n(w("_47_"),r)),new a(e).With("_47_",new o(new n(w("msg"),new n(w("v"),w("tt"))),new n(w("begin"),new n(new n(w("define"),new n(w("e"),new n(new n(w("if"),new n(new n(w("null?"),new n(w("tt"),r)),new n("e",new n(new n(w("car"),new n(w("tt"),r)),r)))),r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(w("msg"),new n(new n(w("quote"),new n(w("set!"),r)),r))),new n(new n(w("set!"),new n(w("lst"),new n(w("v"),r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(w("msg"),new n(new n(w("quote"),new n(w("get"),r)),r))),new n(w("lst"),new n(new n(w("if"),new n(new n(w("eq?"),new n(w("msg"),new n(new n(w("quote"),new n(w("add"),r)),r))),new n(new n(w("set!"),new n(w("lst"),new n(new n(w("cons"),new n(w("v"),new n(w("lst"),r))),r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(w("msg"),new n(new n(w("quote"),new n(w("memq"),r)),r))),new n(new n(w("memq"),new n(w("v"),new n(w("lst"),r))),new n(new n(w("if"),new n(new n(w("eq?"),new n(w("msg"),new n(new n(w("quote"),new n(w("gen"),r)),r))),new n(new n(w("if"),new n(new n(w("memq"),new n(w("v"),new n(w("lst"),r))),new n(new n(w("string-append"),new n(w("e"),new n("['",new n(new n(w("symbol->string"),new n(w("v"),r)),new n("']",r))))),new n(new n(w("if"),new n(w("parent"),new n(new n(w("parent"),new n(new n(w("quote"),new n(w("gen"),r)),new n(w("v"),new n(new n(w("string-append"),new n(w("e"),new n(".parentEnv",r))),r)))),new n(new n(w("string-append"),new n("TopEnv.get('",new n(new n(w("symbol->string"),new n(w("v"),r)),new n("')",r)))),r)))),r)))),r))),r)))),r)))),r)))),r)))),r))),e,function(i){for(var o,e=new a(this.env);;)if(e.msg=i.car,e.v=i.cdr.car,e.tt=i.cdr.cdr,e.e=e.tt==r!=0?"e":e.tt.car,o=0!=p(e.msg,w("set!"))?e.set("lst",e.v):0!=p(e.msg,w("get"))?e.parentEnv.lst:0!=p(e.msg,w("add"))?e.set("lst",new n(e.v,e.parentEnv.lst)):0!=p(e.msg,w("memq"))?f(t.get("memq"),i=new n(e.v,new n(e.parentEnv.lst,r))):0!=p(e.msg,w("gen"))?0!=c(t.get("memq"),new n(e.v,new n(e.parentEnv.lst,r)))?e.e+"['"+e.v.name+"']":0!=e.parentEnv.parent?f(e.parentEnv.parent,i=new n(w("gen"),new n(e.v,new n(e.e+".parentEnv",r)))):"TopEnv.get('"+e.v.name+"')":null,o!=l||o.f!=this)return o})),function(w){for(var e,n=new a(this.env);;)if(n.lst=w.car,n.parent=w.cdr.car,e=n.parentEnv._47_.clone(n),e!=l||e.f!=this)return e}),e["compile-lambda"]=new o(new n(w("args"),new n(w("body"),new n(w("locs"),r))),new n(w("compile-begin"),new n(w("body"),new n(w("locs"),new n(!0,new n(new n(w("string-append"),new n("function(list){var r,e=new Env(this.env);while(true){",new n(new n(w("compile-lambda-args"),new n(w("args"),new n("list",r))),new n("r=",r)))),new n(new n(w("string-append"),new n(";if(r!=theTC||r.f!=this)return r}}",r)),r)))))),e,function(w){for(var i,e=new a(this.env);;)if(e.args=w.car,e.body=w.cdr.car,e.locs=w.cdr.cdr.car,i=f(t.get("compile-begin"),w=new n(e.body,new n(e.locs,new n(!0,new n("function(list){var r,e=new Env(this.env);while(true){"+c(t.get("compile-lambda-args"),new n(e.args,new n("list",r)))+"r=",new n(";if(r!=theTC||r.f!=this)return r}}",r)))))),i!=l||i.f!=this)return i}),e["eval-compiled"]=new o(new n(w("s"),r),new n(w("js-eval"),new n(new n(w("string-append"),new n("var e=TopEnv;",new n(w("s"),r))),r)),e,function(w){for(var e,c=new a(this.env);;)if(c.s=w.car,e=f(t.get("js-eval"),w=new n("var e=TopEnv;"+c.s,r)),e!=l||e.f!=this)return e}),e.compiled=new o(new n(w("s"),r),new n(w("js-invoke"),new n(new n(w("get-prop"),new n(w("s"),new n("compiled",r))),new n("toString",r))),e,function(w){for(var e,c=new a(this.env);;)if(c.s=w.car,e=f(t.get("js-invoke"),w=new n(c.s.compiled,new n("toString",r))),e!=l||e.f!=this)return e}),e["compile-lib"]=new o(new n(w("lib"),r),new n(w("begin"),new n(new n(w("define"),new n(w("print"),new n(new n(w("clone"),new n(w("_48_"),r)),r))),new n(new n(w("define"),new n(w("print-compiled"),new n(new n(w("clone"),new n(w("_49_"),r)),r))),new n(new n(w("for-each"),new n(w("print-compiled"),new n(w("lib"),r))),r)))),new a(e).With("_48_",new o(new n(w("x"),r),new n(w("begin"),new n(new n(w("display"),new n(w("x"),r)),new n(new n(w("display"),new n(d(";"),r)),new n(new n(w("newline"),r),r)))),e,function(w){for(var e,i=new a(this.env);;)if(i.x=w.car,c(t.get("display"),new n(i.x,r)),c(t.get("display"),new n(d(";"),r)),e=f(t.get("newline"),w=r),e!=l||e.f!=this)return e})).With("_49_",new o(new n(w("x"),r),new n(w("print"),new n(new n(w("compile"),new n(w("x"),r)),r)),e,function(i){for(var e,w=new a(this.env);;)if(w.x=i.car,e=f(w.parentEnv.print,i=new n(c(t.get("compile"),new n(w.x,r)),r)),e!=l||e.f!=this)return e})),function(c){for(var w,e=new a(this.env);;)if(e.lib=c.car,e.print=e.parentEnv._48_.clone(e),e["print-compiled"]=e.parentEnv._49_.clone(e),w=f(t.get("for-each"),c=new n(e["print-compiled"],new n(e.lib,r))),w!=l||w.f!=this)return w}),e.server=new o(new n(w("x"),r),new n(w("js-invoke"),new n(new n(w("js-eval"),new n("window.frames.hf",r)),new n("navigate",new n(new n(w("string-append"),new n("servlet/db?s=",new n(new n(w("encode"),new n(new n(w("str"),new n(w("x"),r)),r)),r))),r)))),e,function(w){for(var e,i=new a(this.env);;)if(i.x=w.car,e=f(t.get("js-invoke"),w=new n(c(t.get("js-eval"),new n("window.frames.hf",r)),new n("navigate",new n("servlet/db?s="+c(t.get("encode"),new n(Str(i.x),r)),r)))),e!=l||e.f!=this)return e}),e.transform=new o(new n(w("ex"),r),new n(w("if"),new n(new n(w("pair?"),new n(w("ex"),r)),new n(new n(w("if"),new n(new n(w("symbol?"),new n(new n(w("car"),new n(w("ex"),r)),r)),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("quote"),r)),r))),new n(w("ex"),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("begin"),r)),r))),new n(new n(w("if"),new n(new n(w("null?"),new n(new n(w("cdr"),new n(w("ex"),r)),r)),new n(!1,new n(new n(w("null?"),new n(new n(w("cddr"),new n(w("ex"),r)),r)),r)))),new n(!1,r)))),new n(new n(w("transform"),new n(new n(w("cadr"),new n(w("ex"),r)),r)),new n(new n(w("if"),new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("lambda"),r)),r))),new n(!0,new n(new n(w("if"),new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("define"),r)),r))),new n(!0,new n(new n(w("eq?"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("quote"),new n(w("set!"),r)),r))),r)))),r)))),new n(new n(w("cons"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("cons"),new n(new n(w("cadr"),new n(w("ex"),r)),new n(new n(w("map+"),new n(w("transform"),new n(new n(w("cddr"),new n(w("ex"),r)),r))),r))),r))),new n(new n(new n(w("clone"),new n(w("_50_"),r)),new n(new n(w("eval"),new n(new n(w("car"),new n(w("ex"),r)),r)),r)),r)))),r)))),r)))),new n(new n(w("map+"),new n(w("transform"),new n(w("ex"),r))),r)))),new n(w("ex"),r)))),new a(e).With("_50_",new o(new n(w("x"),r),new n(w("if"),new n(new n(w("syntax?"),new n(w("x"),r)),new n(new n(w("transform"),new n(new n(w("apply"),new n(new n(w("get-prop"),new n(w("x"),new n("transformer",r))),new n(w("ex"),new n(new n(w("get-prop"),new n(w("x"),new n("args",r))),r)))),r)),new n(new n(w("cons"),new n(new n(w("car"),new n(w("ex"),r)),new n(new n(w("map+"),new n(w("transform"),new n(new n(w("cdr"),new n(w("ex"),r)),r))),r))),r)))),e,function(i){for(var w,e=new a(this.env);;)if(e.x=i.car,w=e.x instanceof x!=0?f(t.get("transform"),i=new n(c(e.x.transformer,new n(e.parentEnv.ex,e.x.args.ListCopy())),r)):new n(e.parentEnv.ex.car,c(t.get("map+"),new n(t.get("transform"),new n(e.parentEnv.ex.cdr,r)))),w!=l||w.f!=this)return w})),function(i){for(var o,e=new a(this.env);;)if(e.ex=i.car,o=e.ex instanceof n!=0?e.ex.car instanceof u!=0?0!=p(e.ex.car,w("quote"))?e.ex:0!=(0!=p(e.ex.car,w("begin"))?e.ex.cdr==r!=0?!1:e.ex.cdr.cdr==r:!1)?f(t.get("transform"),i=new n(e.ex.cdr.car,r)):0!=(0!=p(e.ex.car,w("lambda"))?!0:0!=p(e.ex.car,w("define"))?!0:p(e.ex.car,w("set!")))?new n(e.ex.car,new n(e.ex.cdr.car,c(t.get("map+"),new n(t.get("transform"),new n(e.ex.cdr.cdr,r))))):f(e.parentEnv._50_.clone(e),i=new n(c(t.get("eval"),new n(e.ex.car,r)),r)):f(t.get("map+"),i=new n(t.get("transform"),new n(e.ex,r))):e.ex,o!=l||o.f!=this)return o})}();